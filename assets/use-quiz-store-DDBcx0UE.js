import{ao as s,ap as d}from"./index-LkxAMlZb.js";const o=s(d((t,r)=>({currentQuizAttempt:null,quizAttemptId:null,attemptData:null,timeLimit:null,learningContentId:null,setQuizAttempt:e=>{t({currentQuizAttempt:e,quizAttemptId:e==null?void 0:e.id,attemptData:e,timeLimit:e==null?void 0:e.timeLimit,learningContentId:e==null?void 0:e.learningContentId})},updateQuizAttemptId:e=>{t({quizAttemptId:e})},setTimeLimit:e=>{t({timeLimit:e})},setLearningContentId:e=>{t({learningContentId:e})},updateAttemptData:e=>{t(n=>({attemptData:{...n.attemptData,...e}}))},selectedAnswers:{},currentQuestionIndex:0,isQuizComplete:!1,setSelectedAnswers:e=>{t({selectedAnswers:e})},updateSelectedAnswer:(e,n)=>{t(i=>({selectedAnswers:{...i.selectedAnswers,[e]:n}}))},setCurrentQuestionIndex:e=>{t({currentQuestionIndex:e})},setIsQuizComplete:e=>{t({isQuizComplete:e}),e&&t(n=>({attemptData:{...n.attemptData,isCompleted:!0,completedAt:new Date().toISOString()}}))},resetQuizState:()=>{t({currentQuizAttempt:null,quizAttemptId:null,attemptData:null,timeLimit:null,learningContentId:null,selectedAnswers:{},currentQuestionIndex:0,isQuizComplete:!1})},clearQuizAttempt:()=>{t({currentQuizAttempt:null,quizAttemptId:null,attemptData:null,timeLimit:null,learningContentId:null})},getAttemptSummary:()=>{var n,i,l,u;const e=r();return{attemptId:e.quizAttemptId,learningContentId:e.learningContentId,startedAt:(n=e.attemptData)==null?void 0:n.startedAt,isCompleted:((i=e.attemptData)==null?void 0:i.isCompleted)||e.isQuizComplete,totalScore:(l=e.attemptData)==null?void 0:l.totalScore,totalPossibleScore:(u=e.attemptData)==null?void 0:u.totalPossibleScore,answeredQuestions:Object.keys(e.selectedAnswers).length}}}),{name:"quiz-storage",partialize:t=>({quizAttemptId:t.quizAttemptId,attemptData:t.attemptData,timeLimit:t.timeLimit,learningContentId:t.learningContentId,selectedAnswers:t.selectedAnswers,currentQuestionIndex:t.currentQuestionIndex,isQuizComplete:t.isQuizComplete})}));export{o as u};
