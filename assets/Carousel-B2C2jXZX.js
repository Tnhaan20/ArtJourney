import{r as l,j as n,d as G}from"./index-CJxUkbvl.js";import{C as H}from"./chevron-left-DG76N-F3.js";const W=({slides:a=[],autoPlay:p=!0,interval:v=3e3,width:d="max-w-4xl",height:N="h-96",rounded:$="rounded-lg",imageSize:k="cover",showArrows:T=!0,showDots:z=!0,showTitle:E=!0,renderSlide:j,renderArrows:f,renderDots:h,onSlideChange:m,className:w=""})=>{const[s,o]=l.useState(0),[i,c]=l.useState(!1),g=l.useRef(null),x=100,y=400,C=[...a.slice(-1),...a,...a.slice(0,1)],u=t=>-(t+1)*x,[R,r]=l.useState(u(0)),I=()=>{const t=g.current;t&&(s===-1?(t.style.transition="none",o(a.length-1),r(u(a.length-1)),t.offsetHeight):s===a.length&&(t.style.transition="none",o(0),r(u(0)),t.offsetHeight),setTimeout(()=>{t.style.transition=`transform ${y}ms ease-out`,c(!1)},20))};l.useEffect(()=>{let t;return p&&!i&&a.length>1&&(t=setTimeout(()=>{b("next")},v)),()=>clearTimeout(t)},[p,v,s,i,a.length]),l.useEffect(()=>{const t=g.current;if(!t)return;const e=()=>{s===-1||s===a.length?I():c(!1)};return t.addEventListener("transitionend",e),()=>t.removeEventListener("transitionend",e)},[s,a.length]),l.useEffect(()=>{m&&s>=0&&s<a.length&&m(s)},[s,m,a.length]);const b=t=>{i||a.length<=1||(c(!0),t==="prev"?(o(e=>e-1),r(e=>e+x)):(o(e=>e+1),r(e=>e-x)))},L=t=>{i||t===s||a.length<=1||(c(!0),o(t),r(u(t)))},X=(t,e)=>n.jsxs("div",{className:"relative h-full w-full flex-shrink-0",children:[n.jsx(LazyImage,{src:t.image,alt:t.title||"",className:`h-full w-full object-${k}`,loading:e<=2?"eager":"lazy"}),E&&t.title&&n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-4",children:[n.jsx("h3",{className:"text-xl font-semibold",children:t.title}),t.description&&n.jsx("p",{className:"mt-2 text-sm text-gray-200",children:t.description})]}),t.overlay&&n.jsx("div",{className:"absolute inset-0",children:t.overlay}),t.link&&n.jsx("a",{href:t.link,className:"absolute inset-0 z-20","aria-label":`Go to ${t.title||"slide destination"}`})]},`${t.id}-${e}`),S=()=>n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>b("prev"),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-opacity z-10","aria-label":"Previous slide",children:n.jsx(H,{size:24})}),n.jsx("button",{onClick:()=>b("next"),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-opacity z-10","aria-label":"Next slide",children:n.jsx(G,{size:24})})]}),F=()=>n.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 z-10",children:a.map((t,e)=>n.jsx("button",{onClick:()=>L(e),className:`h-2 w-2 rounded-full transition-colors ${e===s?"bg-[#47663B]":"bg-gray-99"}`,"aria-label":`Go to slide ${e+1}`},e))});return a.length?n.jsx("div",{className:`relative w-full ${d} mx-auto ${w}`,children:n.jsxs("div",{className:`relative ${N} overflow-hidden ${$}`,children:[n.jsx("div",{ref:g,className:"absolute h-full w-full flex",style:{transform:`translateX(${R}%)`,transition:`transform ${y}ms ease-out`},children:C.map((t,e)=>j?j(t,e):X(t,e))}),a.length>1&&n.jsxs(n.Fragment,{children:[T&&((f==null?void 0:f())||S()),z&&((h==null?void 0:h())||F())]})]})}):null};export{W as C};
