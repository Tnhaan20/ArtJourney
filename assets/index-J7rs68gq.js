import{c as G,l as I,b as S,j as e,L as k,T as w,d as F,m as _,n as q,o as U,p as z,q as R,z as y,s as Y,t as K,k as W,v as Q,B as L,w as V,x as P,i as J,y as Z}from"./index-Cpe3dfuL.js";import{t as X}from"./team-member-1-B2-9RCyU.js";import{C as ee}from"./Completed-BlInYy8F.js";import{C as A}from"./circle-alert-R0yR8Lzj.js";import{P as se}from"./play-9OqtH01d.js";import{A as te}from"./award-HqshB68t.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ae=G("lock",re);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],O=G("target",ne),le="/ArtJourney/assets/course-header-C5-n0iwu.png";function ie(){const i=n=>{if(!n||typeof n!="string")return"0 hours";const r=n.split(":");if(r.length!==3)return"0 hours";const o=parseInt(r[0],10),c=parseInt(r[1],10),g=parseInt(r[2],10),j=o+c/60+g/3600;if(j===0)return"0 hours";if(j<1){const f=Math.round(c+g/60);return`${f} min${f!==1?"s":""}`}else{if(j<2)return c<30?"1 hour":"1.5 hours";{const f=Math.round(j*2)/2;return`${f} hour${f!==1?"s":""}`}}},l=n=>{if(!n||typeof n!="string")return 0;const r=n.split(":");if(r.length!==3)return 0;const o=parseInt(r[0],10)||0,c=parseInt(r[1],10)||0,g=parseInt(r[2],10)||0;return o+c/60+g/3600},h=n=>{let r;if(typeof n=="string"?r=l(n):r=n,!r||r<=0||isNaN(r))return"0 days";const o=r/24;if(o<1){const c=Math.round(r);return`${c} hour${c!==1?"s":""}`}else{if(o<2)return"1 day";{const c=Math.round(o*2)/2;return`${c} day${c!==1?"s":""}`}}},a=n=>{let r;if(typeof n=="string"?r=l(n):r=n,!r||r<=0||isNaN(r))return"0 weeks";const o=r/(24*7);if(o<.5){const c=Math.round(r/24);if(c<1){const g=Math.round(r);return`${g} hour${g!==1?"s":""}`}return`${c} day${c!==1?"s":""}`}else{if(o<1)return"1 week";{const c=Math.round(o*2)/2;return`${c} week${c!==1?"s":""}`}}};return{formatTimeToHours:i,formatHoursToDays:h,formatHoursToWeeks:a,formatTimeAutomatically:n=>{if(!n)return"0 hours";const r=l(n);return r===0||isNaN(r)?"0 hours":r<24?i(n):r<168?h(r):a(r)},timeStringToHours:l}}function ce({learningProgress:i,courseId:l}){var v;const{getCoursesById:h}=I(),{getCurrentUser:a}=S(),{data:d,isLoading:n,error:r}=h(l),{user:o}=a(),c=x=>{switch(x){case 0:return"Not Started";case 1:return"In Progress";case 2:return"Completed";default:return"Not Started"}},g=x=>x===2,j=()=>{var b;if(!((b=d==null?void 0:d.data)!=null&&b.moduleCourseDetailScreenResponseDTOs))return 0;let x=0,s=0;return d.data.moduleCourseDetailScreenResponseDTOs.forEach(u=>{u.subModuleCourseDetailScreenResponseDTOs.forEach(C=>{C.learningContentDetailScreenResponseDTOs.forEach(m=>{x++,m.userLearningProgressStatus===2&&s++})})}),x>0?Math.round(s/x*100):0},f=["Master fundamental art concepts and techniques","Develop critical thinking skills in art analysis","Understand historical and cultural contexts of artworks","Create your own artistic interpretations","Build a comprehensive art vocabulary","Appreciate diverse artistic styles and movements"];if(n)return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary-yellow border-t-transparent mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"Loading your course..."})]})});if(r)return e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsxs("div",{className:"text-center p-8 rounded-2xl shadow-lg",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"âš ï¸"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-4",children:r.message||"Unable to load course details"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-500 text-white px-6 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"Try Again"})]})});const t=d==null?void 0:d.data,N=(t==null?void 0:t.courseCompletionPercentage)||j(),T=(t==null?void 0:t.coverImageUrl)||le;return o!=null&&o.name,o!=null&&o.avatar||X,e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex py-4","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex items-center space-x-3",children:[e.jsx("li",{children:e.jsx(k,{to:"/learn",className:"text-primary-yellow hover:text-secondary-yellow font-medium transition-colors",children:"Learn"})}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-400 mx-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-gray-700 font-medium",children:(t==null?void 0:t.title)||"Course Detail"})]})]})})})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${T})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),e.jsx("div",{className:"relative z-10  backdrop-blur-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"lg:col-span-2 flex flex-col items-start justify-center",children:[e.jsx("h1",{className:"text-4xl font-bold  mb-6 leading-tight text-left",children:(t==null?void 0:t.title)||"Course Title"}),e.jsx("p",{className:"text-lg  mb-8 leading-relaxed text-left max-w-2xl",children:(t==null?void 0:t.description)||"Kickstart your career in art. Build job-ready skills in art techniques, art history, and creative expression and learn to create beautiful artworks in just 6 months"})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-200 p-6 mb-6 shadow-lg",children:[e.jsx("h4",{className:"font-bold text-lg mb-6",children:"What You'll Learn"}),e.jsx("ul",{className:"space-y-4",children:((t==null?void 0:t.learningOutcomes)||f).map((x,s)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"bg-green-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-sm font-bold mr-3 mt-0.5 flex-shrink-0",children:"âœ“"}),e.jsx("span",{className:"text-gray-700 text-sm leading-relaxed",children:x})]},s))})]})})]})})})]}),e.jsx("div",{className:"w-full py-8 border-b border-gray-200",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-4 gap-6 w-full mx-auto",children:[e.jsxs("div",{className:`${w.HIGHLIGHT_FRAME} p-4 text-center`,children:[e.jsx("h4",{className:"text-xl font-bold mb-1",children:(t==null?void 0:t.totalModule)||10}),e.jsx("p",{className:"text-lg font-medium",children:"Module(s)"})]}),e.jsxs("div",{className:`${w.HIGHLIGHT_FRAME} p-4 text-center`,children:[e.jsx("h4",{className:"text-md font-bold mb-2",children:(t==null?void 0:t.courseLevel)===1?"Beginner":(t==null?void 0:t.courseLevel)===2?"Intermediate":(t==null?void 0:t.courseLevel)===3?"Advanced":"Beginner"}),e.jsx("p",{className:"text-lg font-medium",children:"Level"})]}),e.jsxs("div",{className:`${w.HIGHLIGHT_FRAME} p-4 text-center`,children:[e.jsx("h4",{className:"text-md font-bold  mb-1",children:ie().formatHoursToDays(t==null?void 0:t.remainingTime)||"6 weeks"}),e.jsx("p",{className:"text-lg font-medium",children:"Estimate Duration"})]}),e.jsxs("div",{className:`${w.HIGHLIGHT_FRAME} p-4 text-center`,children:[e.jsxs("div",{className:"flex items-center justify-center mb-1",children:[e.jsx("h4",{className:"text-xl font-bold mr-1",children:"4.6"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),e.jsx("p",{className:"text-lg font-medium",children:"Rating"})]})]})})}),e.jsx("div",{className:"bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{id:"course-modules-container",className:"space-y-8",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-200 p-8 shadow-lg",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your Progress"}),e.jsxs("h4",{className:"text-4xl font-bold text-primary-yellow mb-2",children:[N,"%"]}),e.jsx("p",{className:"text-gray-600",children:"Complete"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-6 mb-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-6 rounded-full transition-all duration-500 relative overflow-hidden",style:{width:`${N}%`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-6",children:[e.jsx("span",{children:"Started"}),e.jsx("span",{className:"font-medium",children:N===100?"Completed!":"In Progress"}),e.jsx("span",{children:"Complete"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:[Math.round(N/100*((t==null?void 0:t.totalModule)||10))," ","/ ",(t==null?void 0:t.totalModule)||10]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Lessons completed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-yellow mb-1",children:N===100?"Done!":`${Math.max(1,Math.round((100-N)/100*6))} weeks`}),e.jsx("p",{className:"text-sm text-gray-600",children:"Time remaining"})]})]})]}),(v=t==null?void 0:t.moduleCourseDetailScreenResponseDTOs)==null?void 0:v.map((x,s)=>{var b;return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs("div",{className:`px-4 py-2 rounded-lg font-bold mr-4 ${w.HIGHLIGHT_FRAME}`,children:["MODULE ",s+1]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:x.moduleTitle})]}),e.jsx("div",{className:"space-y-6",children:(b=x.subModuleCourseDetailScreenResponseDTOs)==null?void 0:b.map((u,C)=>{var m;return e.jsxs("div",{className:"border-l-4 border-third-yellow pl-6",children:[e.jsxs("h5",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-secondary-yellow text-primary-blue rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-3",children:C+1}),e.jsxs(k,{to:`/learn/course/${l}/module/${x.moduleId}/submodule/${u.subModuleId}`,className:"hover:text-primary-yellow hover:underline transition-colors cursor-pointer flex items-center group",children:[e.jsx("span",{children:u.subModuleTitle}),e.jsx(F,{className:"w-5 h-5 ml-2 text-gray-400 group-hover:text-primary-yellow transition-colors"})]})]}),e.jsx("div",{className:"space-y-3",children:(m=u.learningContentDetailScreenResponseDTOs)==null?void 0:m.map((p,M)=>e.jsx("div",{className:"block",children:e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{isCompleted:g(p.userLearningProgressStatus),className:"mr-4",size:20}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:p.learningContentTitle}),e.jsx("div",{className:"flex items-center mt-1",children:e.jsx("span",{className:`text-sm px-2 py-1 rounded-full font-medium ${p.userLearningProgressStatus===2?"bg-green-100 text-green-700":p.userLearningProgressStatus===1?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`,children:c(p.userLearningProgressStatus)})})]})]})})})},`${x.moduleId}-${u.subModuleId}-${p.learningContentId}`))})]},`${x.moduleId}-${u.subModuleId}-${C}`)})})]},x.moduleId)}),(!(t!=null&&t.moduleCourseDetailScreenResponseDTOs)||t.moduleCourseDetailScreenResponseDTOs.length===0)&&e.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Course Modules Coming Soon!"}),e.jsx("p",{className:"text-gray-600",children:"We're preparing amazing content for you. Stay tuned!"})]})]})})})]})}const oe={post:{createPayment:async i=>(await _.post("/Payment/create-payment-link",i)).data}},de=()=>{const{toast:i}=q(),l=new U;return{createPaymentMutation:z({mutationKey:[R.PAYMENT.CREATE_PAYMENT_LINK],mutationFn:async a=>await oe.post.createPayment(a),onSuccess:async a=>{console.log("Payment response:",a),a!=null&&a.checkoutUrl?(i({title:"Payment link created successfully",description:"Redirecting to payment gateway...",variant:"success"}),setTimeout(()=>{window.location.href=a.checkoutUrl},1e3)):i({title:"Payment created",description:a.message||"Payment processing initiated",variant:"success"})},onError:a=>{var d,n;console.error("Payment creation failed:",a),i({title:"Payment creation failed",description:((n=(d=a.response)==null?void 0:d.data)==null?void 0:n.message)||"Failed to create payment link",variant:"destructive"})},onSettled:()=>{l.invalidateQueries({queryKey:[R.PAYMENT.CREATE_PAYMENT_LINK]})}})}},me=y.object({courseId:y.number().positive("Course ID must be a positive number").int("Course ID must be an integer"),name:y.string().min(1,"Course name is required").max(200,"Course name must not exceed 200 characters").trim(),quantity:y.number().min(1,"Quantity must be at least 1").max(10,"Maximum quantity is 10").int("Quantity must be an integer"),price:y.number().min(0,"Price must be 0 or greater").max(1e8,"Price exceeds maximum limit")}),xe=y.object({buyerName:y.string().min(2,"Buyer name must be at least 2 characters").max(100,"Buyer name must not exceed 100 characters").regex(/^[a-zA-ZÃ€-á»¹\s]+$/,"Buyer name can only contain letters and spaces").trim(),buyerEmail:y.string().email("Please enter a valid email address").min(1,"Email is required").max(254,"Email address is too long").toLowerCase().trim(),buyerPhone:y.string().min(10,"Phone number must be at least 10 digits").max(15,"Phone number must not exceed 15 digits").regex(/^[\+]?[0-9\s\-\(\)]+$/,"Please enter a valid phone number").trim(),description:y.string().min(1,"Description is required").max(500,"Description must not exceed 500 characters").trim(),items:y.array(me).min(1,"At least one item is required").max(10,"Maximum 10 items allowed").refine(i=>{const l=i.map(h=>h.courseId);return l.length===new Set(l).size},"Duplicate courses are not allowed")}),he=()=>{const{createPaymentMutation:i}=de(),l=Y({resolver:K(xe),defaultValues:{buyerName:"Nhan",buyerEmail:"",buyerPhone:"0365666666",description:"thanh toan khoa hoc",items:[{courseId:0,name:"",quantity:1,price:0}]}});return{form:l,onSubmit:async a=>{await i.mutateAsync(a),l.reset()},isLoading:i.isPending}};function B({courseId:i,isAuthenticated:l}){const h=W(),{user:a}=S(),{useGetCoursePublic:d}=I(),{data:n,isLoading:r,error:o}=d(i),{enrollUser:c,isLoading:g,isSuccess:j,error:f}=Q(),{onSubmit:t,isLoading:N}=he(),T=async()=>{if(!l||!(a!=null&&a.id)){h("/signin");return}if((s==null?void 0:s.price)===0)try{console.log(`ðŸŽ“ Starting enrollment for user ${a.id} in course ${i}`),await c(a.id,i),console.log("âœ… Enrollment successful, navigating to course..."),setTimeout(()=>{h(`/learn/course/${i}`)},1e3)}catch{}else try{const m={buyerName:(a==null?void 0:a.name)||(a==null?void 0:a.firstName)||"Student",buyerEmail:(a==null?void 0:a.email)||"",buyerPhone:(a==null?void 0:a.phone)||"0354545454",description:"thanh toan khoa hoc",items:[{courseId:parseInt(i),name:(s==null?void 0:s.title)||"Course",quantity:1,price:(s==null?void 0:s.price)||0}]};await t(m)}catch{}},v=m=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(m),x=()=>u?l?(s==null?void 0:s.price)===0?{text:g?"Enrolling...":j?"Enrolled! âœ“":"Start Learning",disabled:g,showPrice:!1}:{text:N?"Creating Payment...":`Purchase for ${v(s.price)}`,disabled:N,showPrice:!0}:{text:(s==null?void 0:s.price)===0?"Sign In to Start":`Purchase for ${v(s.price)}`,disabled:!1,showPrice:(s==null?void 0:s.price)>0}:{text:"Content Coming Soon",disabled:!0,showPrice:!1};if(r)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Loading course"})});if(o)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg text-red-600",children:"Error loading course preview"})});const s=n==null?void 0:n.data,b=m=>{switch(m){case 0:return"Beginner";case 1:return"Intermediate";case 2:return"Advanced";default:return"Unknown"}},u=(s==null?void 0:s.moduleCourseDetailScreenResponseDTOs)&&s.moduleCourseDetailScreenResponseDTOs.length>0,C=x();return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("span",{className:"bg-primary-yellow text-white px-3 py-1 rounded-full text-sm font-medium",children:b(s==null?void 0:s.courseLevel)}),s!=null&&s.isPremium?e.jsx("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:"Premium"}):e.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:"Standard"}),(s==null?void 0:s.price)===0?e.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"Free"}):e.jsx("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:v(s.price)})]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:s==null?void 0:s.title}),e.jsx("p",{className:"text-lg text-gray-600 mb-6",children:s==null?void 0:s.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"w-5 h-5 text-primary-yellow"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(s==null?void 0:s.totalModule)||0," Modules"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{className:"w-5 h-5 text-primary-yellow"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(s==null?void 0:s.courseCompletionPercentage)||0,"% Complete"]})]})]}),!u&&e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Course content is being prepared and will be available soon."})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:T,disabled:C.disabled,className:`flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all ${(s==null?void 0:s.price)>0&&u?`${w.HIGHLIGHT_FRAME} text-white shadow-lg`:w.HIGHLIGHT_FRAME} disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(se,{className:"w-5 h-5"}),e.jsx("span",{children:C.text})]}),!l&&e.jsxs(k,{to:"/learn",className:"flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium border-2 border-gray-300 text-gray-700 hover:border-primary-yellow hover:text-primary-yellow transition-all",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{children:"Browse All Courses"})]})]}),f&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:"Failed to enroll. Please try again."})}),j&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-600",children:"âœ… Successfully enrolled! Redirecting to course..."})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:(s==null?void 0:s.coverImageUrl)||V.courses.asia.bhimbetkaRockArt,alt:s==null?void 0:s.title,className:"w-full h-80 object-cover rounded-lg shadow-lg"}),(s==null?void 0:s.price)>0&&e.jsx("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:v(s.price)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Course Price"})]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:e.jsx(O,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Course Goals"})]}),e.jsx("p",{className:"text-gray-600",children:(s==null?void 0:s.learningOutcomes)||"Master comprehensive knowledge and practical skills in this subject area"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:e.jsx(te,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Certification"})]}),e.jsxs("p",{className:"text-gray-600",children:["Earn a certificate upon successful completion of all"," ",s==null?void 0:s.totalModule," modules"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:e.jsx(L,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Course Level"})]}),e.jsxs("p",{className:"text-gray-600",children:[b(s==null?void 0:s.courseLevel)," level course designed for comprehensive learning"]})]})]}),(s==null?void 0:s.learningOutcomes)&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"What You'll Learn"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.learningOutcomes.split(`
`).map((m,p)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-1 mt-1",children:e.jsx(P,{className:"w-4 h-4 text-green-600"})}),e.jsx("span",{className:"text-gray-700",children:m})]},p))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Complete Course Content"}),u?e.jsx("div",{className:"space-y-4",children:s.moduleCourseDetailScreenResponseDTOs.map((m,p)=>{var M,$;return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 p-4 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-primary-yellow text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-medium",children:p+1}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:m.moduleTitle}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Module ",p+1," of ",s.totalModule]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[((M=m.subModuleCourseDetailScreenResponseDTOs)==null?void 0:M.length)||0," ","lessons"]})})]})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:($=m.subModuleCourseDetailScreenResponseDTOs)==null?void 0:$.map((D,E)=>{var H;return e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-gray-500 w-6",children:[p+1,".",E+1]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:D.subModuleTitle}),e.jsxs("p",{className:"text-xs text-gray-600",children:[((H=D.learningContentDetailScreenResponseDTOs)==null?void 0:H.length)||0," ","learning contents"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:!l&&e.jsx(ae,{className:"w-4 h-4 text-gray-400"})})]},`${m.moduleId}-${E}`)})})})]},m.moduleId)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(A,{size:40,className:"text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Course Content Not Available"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"The course modules and lessons are currently being prepared. Please check back soon for the complete learning experience."}),e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-orange-100 rounded-full text-sm text-orange-700",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full mr-2 animate-pulse"}),"Content Coming Soon"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Course Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{className:"text-gray-700",children:[s==null?void 0:s.totalModule," comprehensive modules"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{className:"text-gray-700",children:[b(s==null?void 0:s.courseLevel)," level content"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Interactive learning experience"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Progress tracking and analytics"})]}),(s==null?void 0:s.isPremium)&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Premium course content"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Certificate of completion"})]})]})]}),!l&&e.jsxs("div",{className:"bg-gradient-to-r from-primary-yellow to-orange-400 rounded-lg p-8 text-white text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Start Learning?"}),e.jsx("p",{className:"text-lg mb-6 opacity-90",children:u?`Join thousands of students and explore ${s==null?void 0:s.title}!`:`Be the first to know when ${s==null?void 0:s.title} content becomes available!`}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:u?e.jsxs(e.Fragment,{children:[e.jsx(k,{to:"/signin",className:`inline-block ${w.HIGHLIGHT_FRAME} px-8 py-3 rounded-lg font-medium  transition-colors`,children:(s==null?void 0:s.price)===0?"Get Started":`Purchase for ${v(s.price)}`}),e.jsx(k,{to:"/learn",className:"inline-block border-2 border-white text-white px-8 py-3 rounded-lg font-medium hover:bg-white hover:text-primary-yellow transition-colors",children:"Browse All Courses"})]}):e.jsx(k,{to:"/learn",className:"inline-block bg-white text-primary-yellow px-8 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Browse Available Courses"})})]})]})}function ue(){var c;const{courseId:i}=J(),{user:l,isAuthenticated:h}=S(),{getUserLearningProgress:a}=I(),{data:d,isLoading:n,error:r}=a(l==null?void 0:l.id,i);if(console.log("User ID:",l==null?void 0:l.id),console.log("Learning Progress Data:",d),n)return e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(Z,{className:"animate-spin h-8 w-8 text-primary-yellow pr-3"}),e.jsx("div",{className:"text-lg",children:"Loading course information..."})]});if(r)return console.error("Error fetching learning progress:",r),e.jsx(B,{courseId:i,isAuthenticated:h});const o=((c=d==null?void 0:d.data)==null?void 0:c.learningStatus)===1;return h&&o?e.jsx(ce,{courseId:i,learningProgress:d==null?void 0:d.data}):e.jsx(B,{courseId:i,isAuthenticated:h})}function be(){return e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"max-w-7xl mx-auto flex flex-col gap-6",children:e.jsx(ue,{})})})}export{be as default};
