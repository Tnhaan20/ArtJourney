import{c as _,m as D,b as A,j as e,L,T as C,d as q,n as z,o as U,p as Y,q as K,s as O,z as b,t as V,v as W,l as Q,w as J,B as $,x as Z,y as T,k as X,A as ee}from"./index-CkJIRumn.js";import{t as se}from"./team-member-1-B2-9RCyU.js";import{C as te}from"./Completed-BvEaJFO8.js";import{C as B}from"./circle-alert-Duh9HaEM.js";import{P as re}from"./play-C6k01UaL.js";import{A as ae}from"./award-AKYpLADn.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],le=_("lock",ne);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],G=_("target",ie),ce="/ArtJourney/assets/course-header-C5-n0iwu.png";function oe(){const d=i=>{if(!i||typeof i!="string")return"0 hours";const r=i.split(":");if(r.length!==3)return"0 hours";const h=parseInt(r[0],10),m=parseInt(r[1],10),j=parseInt(r[2],10),N=h+m/60+j/3600;if(N===0)return"0 hours";if(N<1){const v=Math.round(m+j/60);return`${v} min${v!==1?"s":""}`}else{if(N<2)return m<30?"1 hour":"1.5 hours";{const v=Math.round(N*2)/2;return`${v} hour${v!==1?"s":""}`}}},c=i=>{if(!i||typeof i!="string")return 0;const r=i.split(":");if(r.length!==3)return 0;const h=parseInt(r[0],10)||0,m=parseInt(r[1],10)||0,j=parseInt(r[2],10)||0;return h+m/60+j/3600},y=i=>{let r;if(typeof i=="string"?r=c(i):r=i,!r||r<=0||isNaN(r))return"0 days";const h=r/24;if(h<1){const m=Math.round(r);return`${m} hour${m!==1?"s":""}`}else{if(h<2)return"1 day";{const m=Math.round(h*2)/2;return`${m} day${m!==1?"s":""}`}}},a=i=>{let r;if(typeof i=="string"?r=c(i):r=i,!r||r<=0||isNaN(r))return"0 weeks";const h=r/(24*7);if(h<.5){const m=Math.round(r/24);if(m<1){const j=Math.round(r);return`${j} hour${j!==1?"s":""}`}return`${m} day${m!==1?"s":""}`}else{if(h<1)return"1 week";{const m=Math.round(h*2)/2;return`${m} week${m!==1?"s":""}`}}};return{formatTimeToHours:d,formatHoursToDays:y,formatHoursToWeeks:a,formatTimeAutomatically:i=>{if(!i)return"0 hours";const r=c(i);return r===0||isNaN(r)?"0 hours":r<24?d(i):r<168?y(r):a(r)},timeStringToHours:c}}function de({learningProgress:d,courseId:c}){var M;const{getCoursesById:y}=D(),{getCurrentUser:a}=A(),{data:u,isLoading:i,error:r}=y(c),{user:h}=a(),m=s=>{switch(s){case 0:return"Not Started";case 1:return"In Progress";case 2:return"Completed";default:return"Not Started"}},j=s=>s===2,N=()=>{var g;if(!((g=u==null?void 0:u.data)!=null&&g.moduleCourseDetailScreenResponseDTOs))return 0;let s=0,p=0;return u.data.moduleCourseDetailScreenResponseDTOs.forEach(n=>{n.subModuleCourseDetailScreenResponseDTOs.forEach(k=>{k.learningContentDetailScreenResponseDTOs.forEach(l=>{s++,l.userLearningProgressStatus===2&&p++})})}),s>0?Math.round(p/s*100):0},v=["Master fundamental art concepts and techniques","Develop critical thinking skills in art analysis","Understand historical and cultural contexts of artworks","Create your own artistic interpretations","Build a comprehensive art vocabulary","Appreciate diverse artistic styles and movements"],I=()=>{const s=t==null?void 0:t.learningOutcomes;if(Array.isArray(s)&&s.length>0)return s;if(typeof s=="string"&&s.trim()){const p=s.replace(/\r\n/g,`
`).replace(/\r/g,`
`);let g=[];return p.includes(`
`)&&(g=p.split(`
`).map(n=>n.trim()).filter(n=>n.length>0).map(n=>n.replace(/^[-•*]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(n=>n.length>0)),g.length===0&&p.includes(";")&&(g=p.split(";").map(n=>n.trim()).filter(n=>n.length>0)),g.length===0&&(g=p.split(/[•-]/).map(n=>n.trim()).filter(n=>n.length>0)),g.length===0&&(g=p.split(/\d+\./).map(n=>n.trim()).filter(n=>n.length>0)),g.length>0?g:[p]}return v};if(i)return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary-yellow border-t-transparent mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"Loading your course..."})]})});if(r)return e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsxs("div",{className:"text-center p-8 rounded-2xl shadow-lg",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-4",children:r.message||"Unable to load course details"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-500 text-white px-6 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"Try Again"})]})});const t=u==null?void 0:u.data,w=(t==null?void 0:t.courseCompletionPercentage)||N(),S=(t==null?void 0:t.coverImageUrl)||ce;h!=null&&h.name,h!=null&&h.avatar||se;const P=I();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex py-4","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex items-center space-x-3",children:[e.jsx("li",{children:e.jsx(L,{to:"/learn",className:"text-primary-yellow hover:text-secondary-yellow font-medium transition-colors",children:"Learn"})}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-400 mx-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-gray-700 font-medium",children:(t==null?void 0:t.title)||"Course Detail"})]})]})})})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${S})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),e.jsx("div",{className:"relative z-10  backdrop-blur-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"lg:col-span-2 flex flex-col items-start justify-center",children:[e.jsx("h1",{className:"text-4xl font-bold  mb-6 leading-tight text-left",children:(t==null?void 0:t.title)||"Course Title"}),e.jsx("p",{className:"text-lg  mb-8 leading-relaxed text-left max-w-2xl",children:(t==null?void 0:t.description)||"Kickstart your career in art. Build job-ready skills in art techniques, art history, and creative expression and learn to create beautiful artworks in just 6 months"})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-200 p-6 mb-6 shadow-lg",children:[e.jsx("h4",{className:"font-bold text-lg mb-6",children:"What You'll Learn"}),e.jsx("ul",{className:"space-y-4",children:P.map((s,p)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"bg-green-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-sm font-bold mr-3 mt-0.5 flex-shrink-0",children:"✓"}),e.jsx("span",{className:"text-gray-700 text-sm leading-relaxed",children:s})]},p))})]})})]})})})]}),e.jsx("div",{className:"w-full py-8 border-b border-gray-200",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-4 gap-6 w-full mx-auto",children:[e.jsxs("div",{className:`${C.HIGHLIGHT_FRAME} p-4 text-center`,children:[e.jsx("h4",{className:"text-xl font-bold mb-1",children:(t==null?void 0:t.totalModule)||10}),e.jsx("p",{className:"text-lg font-medium",children:"Module(s)"})]}),e.jsxs("div",{className:`${C.HIGHLIGHT_FRAME} p-4 text-center`,children:[e.jsx("h4",{className:"text-md font-bold mb-2",children:(t==null?void 0:t.courseLevel)===1?"Beginner":(t==null?void 0:t.courseLevel)===2?"Intermediate":(t==null?void 0:t.courseLevel)===3?"Advanced":"Beginner"}),e.jsx("p",{className:"text-lg font-medium",children:"Level"})]}),e.jsxs("div",{className:`${C.HIGHLIGHT_FRAME} p-4 text-center`,children:[e.jsx("h4",{className:"text-md font-bold  mb-1",children:oe().formatHoursToDays(t==null?void 0:t.remainingTime)||"6 weeks"}),e.jsx("p",{className:"text-lg font-medium",children:"Estimate Duration"})]}),e.jsxs("div",{className:`${C.HIGHLIGHT_FRAME} p-4 text-center`,children:[e.jsxs("div",{className:"flex items-center justify-center mb-1",children:[e.jsx("h4",{className:"text-xl font-bold mr-1",children:"4.6"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),e.jsx("p",{className:"text-lg font-medium",children:"Rating"})]})]})})}),e.jsx("div",{className:"bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{id:"course-modules-container",className:"space-y-8",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-200 p-8 shadow-lg",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your Progress"}),e.jsxs("h4",{className:"text-4xl font-bold text-primary-yellow mb-2",children:[w,"%"]}),e.jsx("p",{className:"text-gray-600",children:"Complete"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-6 mb-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-6 rounded-full transition-all duration-500 relative overflow-hidden",style:{width:`${w}%`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-6",children:[e.jsx("span",{children:"Started"}),e.jsx("span",{className:"font-medium",children:w===100?"Completed!":"In Progress"}),e.jsx("span",{children:"Complete"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:[Math.round(w/100*((t==null?void 0:t.totalModule)||10))," ","/ ",(t==null?void 0:t.totalModule)||10]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Lessons completed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-yellow mb-1",children:w===100?"Done!":`${Math.max(1,Math.round((100-w)/100*6))} weeks`}),e.jsx("p",{className:"text-sm text-gray-600",children:"Time remaining"})]})]})]}),(M=t==null?void 0:t.moduleCourseDetailScreenResponseDTOs)==null?void 0:M.map((s,p)=>{var g;return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs("div",{className:`px-4 py-2 rounded-lg font-bold mr-4 ${C.HIGHLIGHT_FRAME}`,children:["MODULE ",p+1]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:s.moduleTitle})]}),e.jsx("div",{className:"space-y-6",children:(g=s.subModuleCourseDetailScreenResponseDTOs)==null?void 0:g.map((n,k)=>{var l;return e.jsxs("div",{className:"border-l-4 border-third-yellow pl-6",children:[e.jsxs("h5",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-secondary-yellow text-primary-blue rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-3",children:k+1}),e.jsxs(L,{to:`/learn/course/${c}/module/${s.moduleId}/submodule/${n.subModuleId}`,className:"hover:text-primary-yellow hover:underline transition-colors cursor-pointer flex items-center group",children:[e.jsx("span",{children:n.subModuleTitle}),e.jsx(q,{className:"w-5 h-5 ml-2 text-gray-400 group-hover:text-primary-yellow transition-colors"})]})]}),e.jsx("div",{className:"space-y-3",children:(l=n.learningContentDetailScreenResponseDTOs)==null?void 0:l.map((x,f)=>e.jsx("div",{className:"block",children:e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(te,{isCompleted:j(x.userLearningProgressStatus),className:"mr-4",size:20}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:x.learningContentTitle}),e.jsx("div",{className:"flex items-center mt-1",children:e.jsx("span",{className:`text-sm px-2 py-1 rounded-full font-medium ${x.userLearningProgressStatus===2?"bg-green-100 text-green-700":x.userLearningProgressStatus===1?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"}`,children:m(x.userLearningProgressStatus)})})]})]})})})},`${s.moduleId}-${n.subModuleId}-${x.learningContentId}`))})]},`${s.moduleId}-${n.subModuleId}-${k}`)})})]},s.moduleId)}),(!(t!=null&&t.moduleCourseDetailScreenResponseDTOs)||t.moduleCourseDetailScreenResponseDTOs.length===0)&&e.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Course Modules Coming Soon!"}),e.jsx("p",{className:"text-gray-600",children:"We're preparing amazing content for you. Stay tuned!"})]})]})})})]})}const me={post:{createPayment:async d=>(await z.post("/Payment/create-payment-link",d)).data}},xe=()=>{const{toast:d}=U(),c=new Y;return{createPaymentMutation:K({mutationKey:[O.PAYMENT.CREATE_PAYMENT_LINK],mutationFn:async a=>await me.post.createPayment(a),onSuccess:async a=>{console.log("Payment response:",a),a!=null&&a.checkoutUrl?(d({title:"Payment link created successfully",description:"Redirecting to payment gateway...",variant:"success"}),setTimeout(()=>{window.location.href=a.checkoutUrl},1e3)):d({title:"Payment created",description:a.message||"Payment processing initiated",variant:"success"})},onError:a=>{var u,i;console.error("Payment creation failed:",a),d({title:"Payment creation failed",description:((i=(u=a.response)==null?void 0:u.data)==null?void 0:i.message)||"Failed to create payment link",variant:"destructive"})},onSettled:()=>{c.invalidateQueries({queryKey:[O.PAYMENT.CREATE_PAYMENT_LINK]})}})}},he=b.object({courseId:b.number().positive("Course ID must be a positive number").int("Course ID must be an integer"),name:b.string().min(1,"Course name is required").max(200,"Course name must not exceed 200 characters").trim(),quantity:b.number().min(1,"Quantity must be at least 1").max(10,"Maximum quantity is 10").int("Quantity must be an integer"),price:b.number().min(0,"Price must be 0 or greater").max(1e8,"Price exceeds maximum limit")}),ue=b.object({buyerName:b.string().min(2,"Buyer name must be at least 2 characters").max(100,"Buyer name must not exceed 100 characters").regex(/^[a-zA-ZÀ-ỹ\s]+$/,"Buyer name can only contain letters and spaces").trim(),buyerEmail:b.string().email("Please enter a valid email address").min(1,"Email is required").max(254,"Email address is too long").toLowerCase().trim(),buyerPhone:b.string().min(10,"Phone number must be at least 10 digits").max(15,"Phone number must not exceed 15 digits").regex(/^[\+]?[0-9\s\-\(\)]+$/,"Please enter a valid phone number").trim(),description:b.string().min(1,"Description is required").max(500,"Description must not exceed 500 characters").trim(),items:b.array(he).min(1,"At least one item is required").max(10,"Maximum 10 items allowed").refine(d=>{const c=d.map(y=>y.courseId);return c.length===new Set(c).size},"Duplicate courses are not allowed")}),ge=()=>{const{createPaymentMutation:d}=xe(),c=V({resolver:W(ue),defaultValues:{buyerName:"Nhan",buyerEmail:"",buyerPhone:"0365666666",description:"thanh toan khoa hoc",items:[{courseId:0,name:"",quantity:1,price:0}]}});return{form:c,onSubmit:async a=>{await d.mutateAsync(a),c.reset()},isLoading:d.isPending}};function F({courseId:d,isAuthenticated:c}){const y=Q(),{user:a}=A(),{useGetCoursePublic:u}=D(),{data:i,isLoading:r,error:h}=u(d),{enrollUser:m,isLoading:j,isSuccess:N,error:v}=J(),{onSubmit:I,isLoading:t}=ge(),w=()=>{const l=s==null?void 0:s.learningOutcomes;if(Array.isArray(l)&&l.length>0)return l;if(typeof l=="object"&&l!==null&&!Array.isArray(l)){const x=Object.values(l).filter(f=>typeof f=="string"&&f.trim().length>0);if(x.length>0)return x}if(typeof l=="string"&&l.trim()){const x=l.replace(/\r\n/g,`
`).replace(/\r/g,`
`);let f=[];return x.includes(`
`)&&(f=x.split(`
`).map(o=>o.trim()).filter(o=>o.length>0).map(o=>o.replace(/^[-•*]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(o=>o.length>0)),f.length===0&&x.includes(";")&&(f=x.split(";").map(o=>o.trim()).filter(o=>o.length>0)),f.length===0&&x.includes(",")&&(f=x.split(",").map(o=>o.trim()).filter(o=>o.length>0)),f.length===0&&(f=x.split(/[•-]/).map(o=>o.trim()).filter(o=>o.length>0)),f.length===0&&(f=x.split(/\d+\./).map(o=>o.trim()).filter(o=>o.length>0)),f.length>0?f:[x]}return["Master fundamental concepts and techniques","Develop critical thinking skills","Understand key principles and applications","Create practical projects","Build comprehensive knowledge","Apply learning to real-world scenarios"]},S=async()=>{if(!c||!(a!=null&&a.id)){y("/signin");return}if((s==null?void 0:s.price)===0)try{console.log(`🎓 Starting enrollment for user ${a.id} in course ${d}`),await m(a.id,d),console.log("✅ Enrollment successful, navigating to course..."),setTimeout(()=>{y(`/learn/course/${d}`)},1e3)}catch{}else try{const l={buyerName:(a==null?void 0:a.name)||(a==null?void 0:a.firstName)||"Student",buyerEmail:(a==null?void 0:a.email)||"",buyerPhone:(a==null?void 0:a.phone)||"0354545454",description:"thanh toan khoa hoc",items:[{courseId:parseInt(d),name:(s==null?void 0:s.title)||"Course",quantity:1,price:(s==null?void 0:s.price)||0}]};await I(l)}catch{}},P=l=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l),M=()=>n?c?(s==null?void 0:s.price)===0?{text:j?"Enrolling...":N?"Enrolled! ✓":"Start Learning",disabled:j,showPrice:!1}:{text:t?"Creating Payment...":`Purchase for ${P(s.price)}`,disabled:t,showPrice:!0}:{text:(s==null?void 0:s.price)===0?"Sign In to Start":`Purchase for ${P(s.price)}`,disabled:!1,showPrice:(s==null?void 0:s.price)>0}:{text:"Content Coming Soon",disabled:!0,showPrice:!1};if(r)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Loading course"})});if(h)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg text-red-600",children:"Error loading course preview"})});const s=i==null?void 0:i.data,p=w(),g=l=>{switch(l){case 0:return"Beginner";case 1:return"Intermediate";case 2:return"Advanced";default:return"Unknown"}},n=(s==null?void 0:s.moduleCourseDetailScreenResponseDTOs)&&s.moduleCourseDetailScreenResponseDTOs.length>0,k=M();return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("span",{className:"bg-primary-yellow text-white px-3 py-1 rounded-full text-sm font-medium",children:g(s==null?void 0:s.courseLevel)}),s!=null&&s.isPremium?e.jsx("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:"Premium"}):e.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:"Standard"}),(s==null?void 0:s.price)===0?e.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"Free"}):e.jsx("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:P(s.price)})]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:s==null?void 0:s.title}),e.jsx("p",{className:"text-lg text-gray-600 mb-6",children:s==null?void 0:s.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"w-5 h-5 text-primary-yellow"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(s==null?void 0:s.totalModule)||0," Modules"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"w-5 h-5 text-primary-yellow"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(s==null?void 0:s.courseCompletionPercentage)||0,"% Complete"]})]})]}),!n&&e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Course content is being prepared and will be available soon."})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:S,disabled:k.disabled,className:`flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all ${(s==null?void 0:s.price)>0&&n?`${C.HIGHLIGHT_FRAME} text-white shadow-lg`:C.HIGHLIGHT_FRAME} disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(re,{className:"w-5 h-5"}),e.jsx("span",{children:k.text})]}),!c&&e.jsxs(L,{to:"/learn",className:"flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium border-2 border-gray-300 text-gray-700 hover:border-primary-yellow hover:text-primary-yellow transition-all",children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("span",{children:"Browse All Courses"})]})]}),v&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:"Failed to enroll. Please try again."})}),N&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-600",children:"✅ Successfully enrolled! Redirecting to course..."})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:(s==null?void 0:s.coverImageUrl)||Z.courses.asia.bhimbetkaRockArt,alt:s==null?void 0:s.title,className:"w-full h-80 object-cover rounded-lg shadow-lg"}),(s==null?void 0:s.price)>0&&e.jsx("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:P(s.price)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Course Price"})]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:e.jsx(G,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Course Goals"})]}),e.jsx("p",{className:"text-gray-600",children:(s==null?void 0:s.learningOutcomes)||"Master comprehensive knowledge and practical skills in this subject area"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:e.jsx(ae,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Certification"})]}),e.jsxs("p",{className:"text-gray-600",children:["Earn a certificate upon successful completion of all"," ",s==null?void 0:s.totalModule," modules"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:e.jsx($,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Course Level"})]}),e.jsxs("p",{className:"text-gray-600",children:[g(s==null?void 0:s.courseLevel)," level course designed for comprehensive learning"]})]})]}),p&&p.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"What You'll Learn"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map((l,x)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-1 mt-1",children:e.jsx(T,{className:"w-4 h-4 text-green-600"})}),e.jsx("span",{className:"text-gray-700",children:l})]},x))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Complete Course Content"}),n?e.jsx("div",{className:"space-y-4",children:s.moduleCourseDetailScreenResponseDTOs.map((l,x)=>{var f,o;return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 p-4 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-primary-yellow text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-medium",children:x+1}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:l.moduleTitle}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Module ",x+1," of ",s.totalModule]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[((f=l.subModuleCourseDetailScreenResponseDTOs)==null?void 0:f.length)||0," ","lessons"]})})]})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:(o=l.subModuleCourseDetailScreenResponseDTOs)==null?void 0:o.map((E,H)=>{var R;return e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-gray-500 w-6",children:[x+1,".",H+1]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:E.subModuleTitle}),e.jsxs("p",{className:"text-xs text-gray-600",children:[((R=E.learningContentDetailScreenResponseDTOs)==null?void 0:R.length)||0," ","learning contents"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:!c&&e.jsx(le,{className:"w-4 h-4 text-gray-400"})})]},`${l.moduleId}-${H}`)})})})]},l.moduleId)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(B,{size:40,className:"text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Course Content Not Available"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"The course modules and lessons are currently being prepared. Please check back soon for the complete learning experience."}),e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-orange-100 rounded-full text-sm text-orange-700",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full mr-2 animate-pulse"}),"Content Coming Soon"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Course Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{className:"text-gray-700",children:[s==null?void 0:s.totalModule," comprehensive modules"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{className:"text-gray-700",children:[g(s==null?void 0:s.courseLevel)," level content"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Interactive learning experience"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Progress tracking and analytics"})]}),(s==null?void 0:s.isPremium)&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Premium course content"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Certificate of completion"})]})]})]}),!c&&e.jsxs("div",{className:"bg-gradient-to-r from-primary-yellow to-orange-400 rounded-lg p-8 text-white text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Start Learning?"}),e.jsx("p",{className:"text-lg mb-6 opacity-90",children:n?`Join thousands of students and explore ${s==null?void 0:s.title}!`:`Be the first to know when ${s==null?void 0:s.title} content becomes available!`}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:n?e.jsxs(e.Fragment,{children:[e.jsx(L,{to:"/signin",className:`inline-block ${C.HIGHLIGHT_FRAME} px-8 py-3 rounded-lg font-medium  transition-colors`,children:(s==null?void 0:s.price)===0?"Get Started":`Purchase for ${P(s.price)}`}),e.jsx(L,{to:"/learn",className:"inline-block border-2 border-white text-white px-8 py-3 rounded-lg font-medium hover:bg-white hover:text-primary-yellow transition-colors",children:"Browse All Courses"})]}):e.jsx(L,{to:"/learn",className:"inline-block bg-white text-primary-yellow px-8 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Browse Available Courses"})})]})]})}function pe(){var m;const{courseId:d}=X(),{user:c,isAuthenticated:y}=A(),{getUserLearningProgress:a}=D(),{data:u,isLoading:i,error:r}=a(c==null?void 0:c.id,d);if(console.log("User ID:",c==null?void 0:c.id),console.log("Learning Progress Data:",u),i)return e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(ee,{className:"animate-spin h-8 w-8 text-primary-yellow pr-3"}),e.jsx("div",{className:"text-lg",children:"Loading course information..."})]});if(r)return console.error("Error fetching learning progress:",r),e.jsx(F,{courseId:d,isAuthenticated:y});const h=((m=u==null?void 0:u.data)==null?void 0:m.learningStatus)===1;return y&&h?e.jsx(de,{courseId:d,learningProgress:u==null?void 0:u.data}):e.jsx(F,{courseId:d,isAuthenticated:y})}function we(){return e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"max-w-7xl mx-auto flex flex-col gap-6",children:e.jsx(pe,{})})})}export{we as default};
