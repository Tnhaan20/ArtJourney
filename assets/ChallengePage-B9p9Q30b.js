import{c as A,j as e,K as T,i as W,k as E,r as l,y as P,G,e as C,_ as F,E as p,T as k,d as $,x as U,H as L,Z as d}from"./index-lwFNyIzB.js";import{P as D}from"./progress-DyUyxWTv.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],J=A("info",Y);function O({className:r,...n}){return e.jsx("textarea",{"data-slot":"textarea",className:T("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...n})}function K(){const{courseId:r,moduleId:n}=W(),I=E(),[t,S]=l.useState(0),[a,b]=l.useState(null),[x,w]=l.useState(!0),[c,m]=l.useState([]),[g,_]=l.useState(!1),[h,y]=l.useState(null),[u,v]=l.useState(null),j=l.useRef(null);l.useEffect(()=>{(()=>{w(!0),console.log(`Fetching challenge data for course: ${r}, module: ${n}`),setTimeout(()=>{const s={1:{1:{title:"Early Christian Art Analysis Challenge",description:"Apply your knowledge by analyzing key pieces of Early Christian art.",estimatedTime:20,difficulty:"Intermediate",steps:[{id:1,title:"The Good Shepherd Fresco",type:"analysis",instructions:"Study this 3rd-century fresco from the Catacomb of Priscilla in Rome, depicting the Good Shepherd motif. Identify the symbolic elements and explain their Christian meaning.",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Good_shepherd_02.jpg/440px-Good_shepherd_02.jpg",questions:["What does the figure of the shepherd symbolize in Early Christian art?","How does this artwork reflect the historical context of Christianity in the 3rd century?","Identify at least two artistic techniques or elements that were typical for the period."]},{id:2,title:"Sarcophagus of Junius Bassus",type:"analysis",instructions:"Examine this 4th-century marble sarcophagus, one of the most important examples of Early Christian relief sculpture. Focus on the narrative panels and their arrangement.",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Sarcofago_di_giunio_basso%2C_cosa_e_roma_359_dc_ca._03.jpg/600px-Sarcofago_di_giunio_basso%2C_cosa_e_roma_359_dc_ca._03.jpg",questions:["What biblical scenes can you identify in this sarcophagus?","How does the arrangement of scenes create a theological message?","How does this artwork demonstrate the fusion of Roman and Christian artistic traditions?"]},{id:3,title:"Your Own Analysis",type:"creation",instructions:"Find an example of Early Christian art not covered in this module. Upload an image of the artwork and provide your analysis following the framework you've learned.",questions:["What is the name, date, and origin of this artwork?","What symbols, themes, or narratives are present?","How does this artwork connect to the historical context of Early Christianity?","What makes this a significant example of Early Christian art?"]}]},2:{title:"Byzantine Iconography Challenge",description:"Test your knowledge of Byzantine art symbols and techniques.",estimatedTime:25,difficulty:"Intermediate",steps:[{id:1,title:"Hagia Sophia Mosaics",type:"analysis",instructions:"Analyze these famous mosaics from the Hagia Sophia in Constantinople.",imageUrl:"https://placehold.co/600x400?text=Byzantine+Mosaics",questions:["What are the key characteristics of Byzantine mosaic art?","How does this artwork represent the theological ideas of the period?","What techniques were used to create a sense of divine presence?"]},{id:2,title:"Byzantine Icon Analysis",type:"analysis",instructions:"Examine this Byzantine icon and identify its symbolic elements.",imageUrl:"https://placehold.co/600x400?text=Byzantine+Icon",questions:["How does this icon demonstrate Byzantine artistic conventions?","What symbolic colors are used and what do they represent?","How does the composition direct the viewer's attention?"]},{id:3,title:"Your Byzantine Analysis",type:"creation",instructions:"Find a Byzantine artwork and provide your own detailed analysis.",questions:["What period of Byzantine art does this example represent?","What religious or political message does it convey?","How does it compare to other Byzantine artworks you've studied?","What makes this particular example significant?"]}]}},2:{1:{title:"Impressionism Analysis Challenge",description:"Apply your knowledge of Impressionist techniques and themes.",estimatedTime:15,difficulty:"Beginner",steps:[{id:1,title:"Monet's Water Lilies",type:"analysis",instructions:"Study this famous Impressionist painting and analyze its techniques.",imageUrl:"https://placehold.co/600x400?text=Monet+Water+Lilies",questions:["How does Monet use color and light in this painting?","What impressionist techniques can you identify?","How does this work reflect the Impressionist movement's values?"]},{id:2,title:"Your Impressionist Example",type:"creation",instructions:"Find an Impressionist painting not covered in this module and analyze it.",questions:["Who is the artist and when was it created?","What elements make this an Impressionist work?","How does this work compare to other Impressionist paintings of the period?"]}]}}};if(s[r]&&s[r][n]){const o=s[r][n];b(o),m(Array(o.steps.length).fill({text:"",images:[]})),y(o.estimatedTime*60)}else console.log("Specific challenge not found, using generic challenge"),b({title:`Course ${r} - Module ${n} Challenge`,description:"Apply your knowledge from this module with this practice challenge.",estimatedTime:15,difficulty:"Intermediate",steps:[{id:1,title:"Sample Analysis",type:"analysis",instructions:"Study this artwork and provide your analysis.",imageUrl:"https://placehold.co/600x400?text=Sample+Artwork",questions:["What do you observe in this artwork?","How does it relate to the module content?","What techniques are being used?"]},{id:2,title:"Your Own Creation",type:"creation",instructions:"Create or find your own example related to this module's topic.",questions:["Describe your selected example","Why is it relevant to this module?","What insights does it provide about the topic?"]}]}),m(Array(2).fill({text:"",images:[]})),y(900);w(!1)},1e3)})()},[r,n]),l.useEffect(()=>{if(x||g||!h)return;const i=setInterval(()=>{y(s=>s<=1?(clearInterval(i),0):s-1)},1e3);return()=>clearInterval(i)},[x,g,h]);const z=i=>{const s=Math.floor(i/60),o=i%60;return`${s}:${o<10?"0":""}${o}`},N=()=>{I(`/learn/course/${r}/module/${n}`)},M=i=>{const s=[...c];s[t]={...s[t],text:i},m(s)},B=i=>{const s=i.target.files[0];if(!s)return;if(!s.type.includes("image/")){d({title:"Invalid file type",description:"Please upload an image file (JPEG, PNG, etc.)",variant:"destructive"});return}if(s.size>5*1024*1024){d({title:"File too large",description:"Please upload an image smaller than 5MB",variant:"destructive"});return}const o=new FileReader;o.onload=q=>{v(q.target.result);const f=[...c];f[t]={...f[t],images:[s]},m(f)},o.readAsDataURL(s)},H=()=>{if(!c[t].text||c[t].text.trim()===""){d({title:"Response required",description:"Please provide an answer before continuing.",variant:"destructive"});return}if(a.steps[t].type==="creation"&&c[t].images.length===0){d({title:"Image required",description:"Please upload an image for this step.",variant:"destructive"});return}t<a.steps.length-1?(S(t+1),v(null)):_(!0)},R=()=>{j.current.click()};return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"w-full max-w-3xl p-8 bg-white rounded-lg shadow-lg",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(P,{className:"h-12 w-12 animate-spin text-primary-yellow"}),e.jsxs("p",{className:"text-gray-600",children:["Loading challenge for Course ",r,", Module ",n,"..."]})]})})}):e.jsx("div",{className:"min-h-screen py-8 px-4",children:e.jsx("div",{className:"container mx-auto",children:g?e.jsxs("div",{className:"w-full max-w-2xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-amber-50 p-6 border-b border-amber-100",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Challenge Completed!"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Great job completing this challenge."}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Course ",r," • Module ",n]})]}),e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(U,{className:"h-10 w-10 text-green-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Analysis Submitted Successfully"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-8",children:"Your art analysis has been recorded. This exercise will help you develop critical skills in evaluating and interpreting historical artworks."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(p,{onClick:N,className:`${k.HIGHLIGHT_FRAME} px-6 py-2`,children:"Return to Module"}),e.jsxs(p,{variant:"outline",className:"border-amber-500 text-amber-600 hover:bg-amber-50",onClick:()=>{d({title:"Review coming soon",description:"The ability to review your submissions will be available soon."})},children:[e.jsx(L,{size:16,className:"mr-2"}),"Review My Responses"]})]})]})]}):e.jsxs("div",{className:"w-full max-w-3xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-third-yellow p-6 border-b border-secondary-yellow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("button",{onClick:N,className:"flex items-center text-primary-blue hover:text-secondary-blue",children:[e.jsx(G,{size:16,className:"mr-1"}),e.jsx("span",{children:"Back to Module"})]}),h&&e.jsxs("div",{className:"flex items-center text-primary-blue bg-primary-yellow px-3 py-1 rounded-full",children:[e.jsx(C,{size:16,className:"mr-2"}),e.jsx("span",{className:"font-medium",children:z(h)})]})]}),e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:a.title}),e.jsx("p",{className:"text-gray-600 mt-1",children:a.description}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Course ",r," • Module ",n]}),e.jsxs("div",{className:"flex items-center mt-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center mr-4",children:[e.jsx(C,{size:14,className:"mr-1 text-primary-blue"}),e.jsxs("span",{children:[a.estimatedTime," minutes"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(J,{size:14,className:"mr-1 text-primary-blue"}),e.jsxs("span",{children:["Difficulty: ",a.difficulty]})]})]})]}),e.jsxs("div",{className:"p-4 bg-white border-b border-gray-100",children:[e.jsx("div",{className:"flex items-center justify-between mb-1 text-sm text-gray-600",children:e.jsxs("span",{children:["Step ",t+1," of ",a.steps.length]})}),e.jsx(D,{value:t/(a.steps.length-1)*100,className:"h-2 bg-gray-200",children:e.jsx("div",{className:"h-full bg-primary-yellow rounded-full",style:{width:`${t/(a.steps.length-1)*100}%`}})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:a.steps[t].title}),e.jsx("p",{className:"text-gray-600 mb-4",children:a.steps[t].instructions}),a.steps[t].type==="analysis"&&a.steps[t].imageUrl&&e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"rounded-lg overflow-hidden border border-gray-200 mb-2",children:e.jsx("img",{src:a.steps[t].imageUrl,alt:a.steps[t].title,className:"w-full h-auto max-h-96 object-contain"})}),e.jsxs("p",{className:"text-xs text-gray-500 italic text-center",children:[a.steps[t].title," (Click image to enlarge)"]})]}),a.steps[t].type==="creation"&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${u?"border-amber-300 bg-amber-50":"border-gray-300 hover:border-amber-300"}`,children:[u?e.jsxs("div",{className:"mb-4",children:[e.jsx("img",{src:u,alt:"Preview",className:"max-h-64 mx-auto object-contain rounded"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Image uploaded successfully"})]}):e.jsxs("div",{className:"p-4",children:[e.jsx(F,{className:"h-12 w-12 text-amber-500 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 mb-1",children:"Drag and drop your image here or click to browse"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: JPG, PNG, GIF (Max size: 5MB)"})]}),e.jsx("input",{type:"file",ref:j,className:"hidden",accept:"image/*",onChange:B}),e.jsx(p,{type:"button",variant:"outline",onClick:R,className:"mt-2 border-amber-500 text-amber-600 hover:bg-amber-50",children:u?"Change Image":"Select Image"})]})}),e.jsx("div",{className:"space-y-4 mb-6",children:a.steps[t].questions.map((i,s)=>e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:e.jsxs("p",{className:"text-gray-800 font-medium mb-1",children:[s+1,". ",i]})},s))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Analysis"}),e.jsx(O,{placeholder:"Type your response here...",className:"w-full p-3 border border-gray-300 rounded-lg min-h-[200px]",value:c[t].text||"",onChange:i=>M(i.target.value)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Be specific and reference details from the artwork to support your analysis."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(p,{onClick:H,className:`${k.HIGHLIGHT_FRAME} px-6 py-2`,children:t<a.steps.length-1?e.jsxs("span",{className:"flex items-center",children:["Next Step ",e.jsx($,{size:16,className:"ml-1"})]}):"Complete Challenge"})})]})]})})})}function V(){return e.jsx(K,{})}export{V as default};
