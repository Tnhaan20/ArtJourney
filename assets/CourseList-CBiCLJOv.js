import{c as $,r as n,k as R,l as L,j as e,g as E,X as j,T as f,f as T,L as b}from"./index-CG04VBWA.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],H=$("sparkles",U);function F(){const[r,x]=n.useState(""),[i,m]=n.useState("all"),[g,N]=n.useState({}),[c,p]=n.useState(!1),u=R(),{getAllCoursesQuery:w}=L(),{data:d,isLoading:I,error:S}=w,h=(d==null?void 0:d.data)||[],y=h.filter(s=>i==="all"||s.regionId.toString()===i),k=s=>{x(s.target.value)},C=s=>{s.preventDefault(),r.trim()&&u(`/learn/search?q=${encodeURIComponent(r.trim())}`)},v=(s,a)=>{N(l=>(l[s]||[]).includes(a)?{...l,[s]:[]}:{...l,[s]:[a]})},P=["Roman Art","Greek","Ancient","India",,];return I?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"text-lg",children:"Loading courses..."})})}):S?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"text-lg text-red-600",children:"Error loading courses"})})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-center mb-8 equila-bold",children:"COURSES"}),e.jsxs("div",{className:"max-w-2xl mx-auto mb-12",children:[e.jsx("form",{onSubmit:C,className:"relative mb-6",children:e.jsxs("div",{className:`relative transition-all duration-300 ${c?"transform scale-105":""}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-yellow/20 to-orange-400/20 rounded-xl blur-lg opacity-0 group-focus-within:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:`relative bg-white rounded-xl shadow-lg border-2 transition-all duration-300 ${c?"border-primary-yellow shadow-xl shadow-yellow-200/50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"pl-4 pr-2",children:e.jsx(E,{className:`w-5 h-5 transition-colors duration-300 ${c?"text-primary-yellow":"text-gray-400"}`})}),e.jsx("input",{type:"text",placeholder:"What do you want to learn today?",className:"flex-1 py-4 px-2 text-gray-900 placeholder-gray-500 bg-transparent border-none outline-none text-lg",value:r,onChange:k,onFocus:()=>p(!0),onBlur:()=>p(!1)}),r&&e.jsx("button",{type:"button",onClick:()=>x(""),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(j,{className:"w-4 h-4"})}),e.jsx("button",{type:"submit",className:`m-2 px-6 py-2 ${f.HIGHLIGHT_FRAME} cursor-pointer transition-all duration-300 font-medium shadow-md hover:shadow-lg`,children:"Search"})]})})]})}),r?e.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-100 p-4 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(H,{className:"w-4 h-4 text-primary-yellow"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:['Press Enter to search for "',r,'"']})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-gray-600",children:"Enter"})," ","to search"]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-3",children:[e.jsx(T,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Popular Searches"})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:P.map((s,a)=>e.jsx("button",{onClick:()=>u(`/learn/search?q=${encodeURIComponent(s)}`),className:"px-3 py-1.5 bg-gray-100 hover:bg-primary-yellow hover:text-white text-gray-700 text-sm rounded-full transition-all duration-300 hover:scale-105 hover:shadow-md",children:s},a))})]}),e.jsx("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsxs("span",{children:[h.reduce((s,a)=>s+a.courses.length,0)," ","courses available"]})]})})]})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[e.jsx("button",{className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${i==="all"?`${f.HIGHLIGHT_FRAME} shadow-lg shadow-yellow-200/50 transform scale-105`:"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200 hover:border-gray-300"}`,onClick:()=>m("all"),children:"All Regions"}),h.map(s=>e.jsxs("button",{className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${i===s.regionId.toString()?"bg-primary-yellow text-white shadow-lg shadow-yellow-200/50 transform scale-105":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200 hover:border-gray-300"}`,onClick:()=>m(s.regionId.toString()),children:[s.regionName,e.jsxs("span",{className:"ml-2 text-xs opacity-75",children:["(",s.courses.length,")"]})]},s.regionId))]}),e.jsxs("div",{className:"space-y-16",children:[y.map(s=>{const a=g[s.regionId]||[],l=a.length>0?s.courses.filter(t=>a.includes(t.historicalPeriodId)):s.courses;return e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[s.regionName," Art History"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[l.length," course",l.length!==1?"s":""]})]}),s.historicalPeriodDTOs.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:s.historicalPeriodDTOs.map(t=>{const o=(g[s.regionId]||[]).includes(t.historicalPeriodId);return e.jsxs("span",{className:`px-4 py-2 text-sm rounded-full cursor-pointer transition-all duration-300 flex items-center gap-2 ${o?"bg-primary-yellow text-white shadow-md transform scale-105":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,onClick:()=>v(s.regionId,t.historicalPeriodId),children:[e.jsx("span",{children:t.historicalPeriodName}),o&&e.jsx(j,{size:14,className:"hover:bg-yellow-600 rounded-full p-0.5 transition-colors",onClick:A=>{A.stopPropagation(),v(s.regionId,t.historicalPeriodId)}})]},t.historicalPeriodId)})}),l.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-6",children:l.map(t=>e.jsx(b,{to:`/learn/course/${t.courseId}`,className:"group relative block",children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md transition-all duration-300 transform origin-center group-hover:scale-110 group-hover:shadow-2xl group-hover:z-50 relative",children:[e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx("img",{loading:"lazy",src:t.thumbnailImageUrl||t.coverImageUrl||`https://via.placeholder.com/300x200?text=${encodeURIComponent(t.title)}`,alt:t.title,className:"w-full h-full object-cover transition-transform duration-300",onError:o=>{o.target.src=`https://via.placeholder.com/300x200?text=${encodeURIComponent(t.title)}`}})}),e.jsxs("div",{className:"py-6 px-4 bg-[#f8e7ce] relative",children:[e.jsx("h3",{className:"font-medium text-lg transition-all duration-300 truncate group-hover:opacity-0",children:t.title}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2 group-hover:opacity-0",children:t.description}),e.jsxs("div",{className:"absolute inset-0 bg-[#f8e7ce] p-4 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 rounded-b-lg flex flex-col justify-start",children:[e.jsx("h3",{className:"font-medium text-lg mb-2 whitespace-normal overflow-visible text-wrap",children:t.title}),t.description&&e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]})]})]})},t.courseId))}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:a.length>0?"No courses available for the selected period in this region.":"No courses available in this region yet."})]},s.regionId)}),y.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-gray-500 text-lg",children:"No courses found matching your criteria."}),r&&e.jsxs(b,{to:`/learn/search?q=${encodeURIComponent(r)}`,className:"inline-block mt-4 px-6 py-3 bg-primary-yellow text-white rounded-lg hover:bg-yellow-600 transition-colors",children:['Search All Courses for "',r,'"']})]})]})]})}export{F as default};
