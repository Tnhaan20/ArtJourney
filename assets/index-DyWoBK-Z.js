import{d as ce,p as se,q as Ue,b as ge,r as V,t as Ge,j as e,L as S,B as L,e as we,f as Ce,A as q,T as D,k as Q,M as O,v as _e,w as We,x as ee,g as Ye,y as qe,R as Ve,i as Je,D as ke,E as Ke,V as Xe,c as Qe,G as Ze,H as Se,I as es,J as B,l as ss,K as ts,n as as,N as rs}from"./index-DTKyFO3J.js";import{t as ls}from"./team-member-1-B2-9RCyU.js";import{C as ns,P as Ie}from"./Completed-CjU0OHk8.js";import{u as is}from"./use-leaderboard-D7frOvKf.js";import{T as me,a as Le}from"./timer-WtabPwri.js";import{C as Z}from"./crown-Cu9ndW1h.js";import{Z as Te}from"./zap-CYyIP9GW.js";import{P as De}from"./play-BL8XvwER.js";import{u as cs}from"./use-payment-form-BagmY9-P.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],xe=ce("external-link",ds);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],ms=ce("gamepad-2",os);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],$e=ce("globe",xs);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gs=ce("lock",hs),us="/ArtJourney/assets/course-header-C5-n0iwu.png",ps=x=>{try{const r=JSON.parse(x);return typeof r!="object"||r===null?[]:Object.keys(r).filter(m=>m.startsWith("oc")).sort((m,a)=>{const l=parseInt(m.replace("oc",""),10),p=parseInt(a.replace("oc",""),10);return l-p}).map(m=>r[m]).filter(m=>m&&typeof m=="string"&&m.trim().length>0).map(m=>m.trim())}catch(r){return console.warn("Failed to parse learning outcomes JSON:",r),[]}},he=(x,r=[])=>{if(Array.isArray(x)&&x.length>0)return x;if(typeof x=="string"&&x.trim()){const u=x.trim();if(u.startsWith("{")&&u.endsWith("}")){const a=ps(u);if(a.length>0)return a}const c=u.replace(/\r\n/g,`
`).replace(/\r/g,`
`);let m=[];return c.includes(`
`)&&(m=c.split(`
`).map(a=>a.trim()).filter(a=>a.length>0).map(a=>a.replace(/^[-•*]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(a=>a.length>0)),m.length===0&&c.includes(";")&&(m=c.split(";").map(a=>a.trim()).filter(a=>a.length>0)),m.length===0&&(m=c.split(/[•-]/).map(a=>a.trim()).filter(a=>a.length>0)),m.length===0&&(m=c.split(/\d+\./).map(a=>a.trim()).filter(a=>a.length>0)),m.length>0?m:[c]}return r};function fs(){const x=a=>{if(!a||typeof a!="string")return"0 hours";const l=a.split(":");if(l.length!==3)return"0 hours";const p=parseInt(l[0],10),h=parseInt(l[1],10),g=parseInt(l[2],10),b=p+h/60+g/3600;if(b===0)return"0 hours";if(b<1){const o=Math.round(h+g/60);return`${o} min${o!==1?"s":""}`}else{if(b<2)return h<30?"1 hour":"1.5 hours";{const o=Math.round(b*2)/2;return`${o} hour${o!==1?"s":""}`}}},r=a=>{if(!a||typeof a!="string")return 0;const l=a.split(":");if(l.length!==3)return 0;const p=parseInt(l[0],10)||0,h=parseInt(l[1],10)||0,g=parseInt(l[2],10)||0;return p+h/60+g/3600},u=a=>{let l;if(typeof a=="string"?l=r(a):l=a,!l||l<=0||isNaN(l))return"0 days";const p=l/24;if(p<1){const h=Math.round(l);return`${h} hour${h!==1?"s":""}`}else{if(p<2)return"1 day";{const h=Math.round(p*2)/2;return`${h} day${h!==1?"s":""}`}}},c=a=>{let l;if(typeof a=="string"?l=r(a):l=a,!l||l<=0||isNaN(l))return"0 weeks";const p=l/(24*7);if(p<.5){const h=Math.round(l/24);if(h<1){const g=Math.round(l);return`${g} hour${g!==1?"s":""}`}return`${h} day${h!==1?"s":""}`}else{if(p<1)return"1 week";{const h=Math.round(p*2)/2;return`${h} week${h!==1?"s":""}`}}};return{formatTimeToHours:x,formatHoursToDays:u,formatHoursToWeeks:c,formatTimeAutomatically:a=>{if(!a)return"0 hours";const l=r(a);return l===0||isNaN(l)?"0 hours":l<24?x(a):l<168?u(l):c(l)},timeStringToHours:r}}function js({learningProgress:x,courseId:r,existingCertificate:u}){var ue,pe,fe,je,be,ye;const{getCoursesById:c}=se(),{getChallengeByCourse:m}=Ue(),{getLeaderboardByChallengeId:a}=is(),{getCurrentUser:l}=ge(),[p,h]=V.useState({}),[g,b]=V.useState("course"),[o,F]=V.useState(null),{data:C,isLoading:P,error:N}=c(r),{data:R,isLoading:w,error:H}=m(r),{data:M,isLoading:T,error:U}=a(o),{user:f}=l(),{form:y,onSubmit:s,isLoading:$}=Ge(),{getReviewedCourse:G}=se(),{data:j,isLoading:E}=G(r),z=t=>{h(d=>({...d,[t]:!d[t]}))},I=t=>{switch(t){case"Drag&Drop":return e.jsx(ms,{size:20,className:"text-blue-500"});case"Quiz":return e.jsx(ke,{size:20,className:"text-green-500"});case"Drawing":return e.jsx(Ie,{size:20,className:"text-purple-500"});default:return e.jsx(Q,{size:20,className:"text-amber-500"})}},J=t=>{const d=Math.floor(t/60),v=t%60;return`${d}m ${v}s`},n=`
.radio {
  display: flex;
  justify-content: center;
  gap: 10px;
  flex-direction: row-reverse;
}

.radio > input {
  position: absolute;
  appearance: none;
}

.radio > label {
  cursor: pointer;
  font-size: 30px;
  position: relative;
  display: inline-block;
  transition: transform 0.3s ease;
}

.radio > label > svg {
  fill: #666;
  transition: fill 0.3s ease;
}

.radio > label::before,
.radio > label::after {
  content: "";
  position: absolute;
  width: 6px;
  height: 6px;
  background-color: #ff9e0b;
  border-radius: 50%;
  opacity: 0;
  transform: scale(0);
  transition: transform 0.4s ease, opacity 0.4s ease;
  animation: particle-explosion 1s ease-out;
}

.radio > label::before {
  top: -15px;
  left: 50%;
  transform: translateX(-50%) scale(0);
}

.radio > label::after {
  bottom: -15px;
  left: 50%;
  transform: translateX(-50%) scale(0);
}

.radio > label:hover::before,
.radio > label:hover::after {
  opacity: 1;
  transform: translateX(-50%) scale(1.5);
}

.radio > label:hover {
  transform: scale(1.2);
  animation: pulse 0.6s infinite alternate;
}

.radio > label:hover > svg,
.radio > label:hover ~ label > svg {
  fill: #ff9e0b;
  filter: drop-shadow(0 0 15px rgba(255, 158, 11, 0.9));
  animation: shimmer 1s ease infinite alternate;
}

.radio > input:checked + label > svg,
.radio > input:checked + label ~ label > svg {
  fill: #ff9e0b;
  filter: drop-shadow(0 0 15px rgba(255, 158, 11, 0.9));
  animation: pulse 0.8s infinite alternate;
}

@keyframes pulse {
  0% { transform: scale(1); }
  100% { transform: scale(1.1); }
}

@keyframes particle-explosion {
  0% { opacity: 0; transform: scale(0.5); }
  50% { opacity: 1; transform: scale(1.2); }
  100% { opacity: 0; transform: scale(0.5); }
}

@keyframes shimmer {
  0% { filter: drop-shadow(0 0 10px rgba(255, 158, 11, 0.5)); }
  100% { filter: drop-shadow(0 0 20px rgba(255, 158, 11, 1)); }
}

.radio > input:checked + label:hover > svg,
.radio > input:checked + label:hover ~ label > svg {
  fill: #e58e09;
}

.radio > label:hover > svg,
.radio > label:hover ~ label > svg {
  fill: #ff9e0b;
}

.radio input:checked ~ label svg {
  fill: #ffa723;
}
`,k=async t=>{try{const d={...t,courseId:parseInt(r),rating:parseInt(t.rating)};await s(d),y.reset()}catch(d){console.error("Review submission error:",d)}},A=t=>e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("div",{className:"ml-2 flex",children:Array.from({length:5},(d,v)=>e.jsx("svg",{className:`w-4 h-4 ${v<t?"text-amber-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},v))})}),te=y.watch(),ae=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),re=t=>t.challengeSessions&&t.challengeSessions.length>0?{text:"Completed",color:"green",icon:e.jsx(Ke,{size:16,className:"text-green-600"})}:{text:"Not Started",color:"gray",icon:e.jsx(Ce,{size:16,className:"text-gray-500"})},le=t=>t.userChallengeHighestScores&&t.userChallengeHighestScores.length>0?Math.max(...t.userChallengeHighestScores.map(d=>d.score)):null,Pe=t=>{switch(t){case 0:return{text:"Not Started",color:"gray"};case 1:return{text:"In Progress",color:"blue"};case 2:return{text:"Completed",color:"green"};default:return{text:"Not Started",color:"gray"}}},Me=t=>{switch(t){case 1:return e.jsx(L,{size:16,className:"text-blue-500"});case 2:return e.jsx(Ie,{size:16,className:"text-amber-500"});case 3:return e.jsx(Xe,{size:16,className:"text-green-500"});default:return e.jsx(ke,{size:16,className:"text-gray-500"})}},Re=t=>t===2,He=()=>{var v;if(!((v=C==null?void 0:C.data)!=null&&v.moduleCourseDetailScreenResponseDTOs))return 0;let t=0,d=0;return C.data.moduleCourseDetailScreenResponseDTOs.forEach(W=>{W.subModuleCourseDetailScreenResponseDTOs.forEach(Y=>{Y.learningContentDetailScreenResponseDTOs.forEach(ie=>{t++,ie.userLearningProgressStatus===2&&d++})})}),t>0?Math.round(d/t*100):0},Ee=t=>{let d=0,v=0;return t.subModuleCourseDetailScreenResponseDTOs.forEach(W=>{W.learningContentDetailScreenResponseDTOs.forEach(Y=>{d++,Y.userLearningProgressStatus===2&&v++})}),d>0?Math.round(v/d*100):0},ze=["Master fundamental art concepts and techniques","Develop critical thinking skills in art analysis","Understand historical and cultural contexts of artworks","Create your own artistic interpretations","Build a comprehensive art vocabulary","Appreciate diverse artistic styles and movements"],Ae=()=>{const t=i==null?void 0:i.learningOutcomes;return he(t,ze)},Be=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Oe=t=>t===1?"🥇":t===2?"🥈":t===3?"🥉":`#${t}`;if(P)return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50",children:e.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary-yellow border-t-transparent mx-auto mb-6"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Loading Your Course"}),e.jsx("p",{className:"text-gray-600",children:"Preparing your learning journey..."})]})});if(N)return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-red-50 to-orange-50",children:e.jsxs("div",{className:"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-6",children:"⚠️"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6",children:N.message||"Unable to load course details"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition-colors font-medium",children:"Try Again"})]})});const i=C==null?void 0:C.data,_=(R==null?void 0:R.data)||[],ne=(i==null?void 0:i.courseCompletionPercentage)||He(),Fe=(i==null?void 0:i.coverImageUrl)||us;f!=null&&f.name,f!=null&&f.avatarUrl||ls;const de=Ae();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex py-4","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex items-center space-x-3",children:[e.jsx("li",{children:e.jsxs(S,{to:"/learn",className:"text-primary-yellow hover:text-secondary-yellow font-medium transition-colors flex items-center",children:[e.jsx(L,{size:16,className:"mr-2"}),"Learn"]})}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(we,{className:"w-4 h-4 text-gray-400 mx-2"}),e.jsx("span",{className:"text-gray-700 font-medium truncate max-w-xs",children:(i==null?void 0:i.title)||"Course Detail"})]})]})})})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${Fe})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-transparent"})}),e.jsx("div",{className:"relative z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("div",{className:"bg-primary-yellow/20 backdrop-blur-sm rounded-full px-4 py-2 border border-primary-yellow/30",children:e.jsx("span",{className:"text-primary-yellow font-semibold",children:(i==null?void 0:i.courseLevel)===1?"Beginner":(i==null?void 0:i.courseLevel)===2?"Intermediate":(i==null?void 0:i.courseLevel)===3?"Advanced":"Beginner"})})}),e.jsx("h1",{className:"text-5xl mongro-bold font-bold mb-6 leading-tight",children:(i==null?void 0:i.title)||"Course Title"}),e.jsx("p",{className:"text-xl text-gray-200 mb-8 leading-relaxed max-w-2xl",children:(i==null?void 0:i.description)||"Kickstart your career in art. Build job-ready skills in art techniques, art history, and creative expression and learn to create beautiful artworks in just 6 months"}),e.jsxs("div",{className:"flex flex-wrap gap-6 mb-8",children:[e.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(L,{size:20,className:"text-primary-yellow mr-2"}),e.jsxs("span",{className:"font-medium",children:[(i==null?void 0:i.totalModule)||10," Modules"]})]}),e.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(Ce,{size:20,className:"text-primary-yellow mr-2"}),e.jsx("span",{className:"font-medium",children:fs().formatHoursToDays(i==null?void 0:i.remainingTime)||"6 weeks"})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("span",{className:"font-semibold",children:"Your Progress"}),e.jsxs("span",{className:"text-2xl mongro-bold font-bold text-primary-yellow",children:[ne,"%"]})]}),e.jsx("div",{className:"w-full bg-white/20 rounded-full h-3 mb-2",children:e.jsx("div",{className:"bg-gradient-to-r from-primary-yellow to-secondary-yellow h-3 rounded-full transition-all duration-700 relative overflow-hidden",style:{width:`${ne}%`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),e.jsx("p",{className:"text-sm text-gray-200",children:ne===100?"Course completed! 🎉":"Keep going, you're doing great!"}),ne===100&&u&&e.jsxs("div",{className:"mt-4 p-3 bg-green-500/20 border border-green-400/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(q,{className:"w-5 h-5 text-green-300"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-green-100",children:"Certificate Earned!"}),e.jsx("p",{className:"text-xs text-green-200",children:"You've successfully completed this course"})]}),u.certificateImageUrl&&e.jsx("img",{src:u.certificateImageUrl,alt:"Certificate",className:"w-12 h-8 object-cover rounded border border-green-300/50"})]}),e.jsxs(S,{to:`/certificate/${u.id}`,className:"mt-2 inline-flex items-center text-xs text-green-300 hover:text-green-100 transition-colors",children:[e.jsx(xe,{className:"w-3 h-3 mr-1"}),"View Full Certificate"]})]})]})]}),e.jsx("div",{className:"lg:justify-self-end",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl border border-white/20 p-8 shadow-2xl max-w-md",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(me,{size:24,className:"text-primary-yellow mr-3"}),e.jsx("h3",{className:"text-xl mongro-bold font-bold text-gray-800",children:"What You'll Learn"})]}),e.jsx("ul",{className:"space-y-4",children:de.slice(0,6).map((t,d)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5 flex-shrink-0",children:"✓"}),e.jsx("span",{className:"text-gray-700 text-sm leading-relaxed",children:t})]},d))}),de.length>6&&e.jsxs("p",{className:"text-sm text-gray-500 mt-4 text-center",children:["+",de.length-6," more learning outcomes"]})]})})]})})})]}),e.jsx("div",{className:"w-7xl mx-auto px-4 pt-5 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-200 shadow-lg mb-8",children:e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsx("button",{onClick:()=>b("course"),className:`flex-1 py-4 px-6 text-center font-medium transition-all duration-200 ${g==="course"?`${D.HIGHLIGHT_FRAME}`:"text-gray-600 hover:text-primary-yellow hover:bg-amber-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(L,{size:20}),e.jsx("span",{children:"Course Content"})]})}),e.jsx("button",{onClick:()=>b("challenges"),className:`flex-1 py-4 px-6 text-center font-medium transition-all duration-200 ${g==="challenges"?`${D.HIGHLIGHT_FRAME}`:"text-gray-600 hover:text-primary-yellow hover:bg-amber-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(Q,{size:20}),e.jsx("span",{children:"Challenges"})]})}),e.jsx("button",{onClick:()=>b("leaderboard"),className:`flex-1 py-4 px-6 text-center font-medium transition-all duration-200 ${g==="leaderboard"?`${D.HIGHLIGHT_FRAME}`:"text-gray-600 hover:text-primary-yellow hover:bg-amber-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(Z,{size:20}),e.jsx("span",{children:"Leaderboard"})]})}),e.jsx("button",{onClick:()=>b("reviews"),className:`flex-1 py-4 px-6 text-center font-medium transition-all duration-200 ${g==="reviews"?`${D.HIGHLIGHT_FRAME}`:"text-gray-600 hover:text-primary-yellow hover:bg-amber-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(O,{size:20}),e.jsx("span",{children:"Reviews"})]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[g==="course"&&e.jsxs("div",{className:"space-y-6",children:[(ue=i==null?void 0:i.moduleCourseDetailScreenResponseDTOs)==null?void 0:ue.map((t,d)=>{var Y,ie;const v=Ee(t),W=p[t.moduleId];return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>z(t.moduleId),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-yellow to-secondary-yellow text-white rounded-xl px-4 py-2 font-bold shadow-lg",children:d+1}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl mongro-bold font-bold text-gray-900 mb-1",children:t.moduleTitle}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:[((Y=t.subModuleCourseDetailScreenResponseDTOs)==null?void 0:Y.length)||0," ","lessons"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[v,"% complete"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative w-12 h-12",children:[e.jsxs("svg",{className:"w-12 h-12 transform -rotate-90",viewBox:"0 0 36 36",children:[e.jsx("path",{className:"text-gray-300",stroke:"currentColor",strokeWidth:"3",fill:"transparent",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),e.jsx("path",{className:"text-primary-yellow",stroke:"currentColor",strokeWidth:"3",fill:"transparent",strokeDasharray:`${v}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs font-bold text-gray-700",children:[v,"%"]})})]}),W?e.jsx(_e,{className:"w-6 h-6 text-gray-400"}):e.jsx(We,{className:"w-6 h-6 text-gray-400"})]})]})}),W&&e.jsx("div",{className:"border-t border-gray-100 bg-gray-50/50",children:e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:(ie=t.subModuleCourseDetailScreenResponseDTOs)==null?void 0:ie.map((K,Ne)=>{var ve;return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-all duration-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-secondary-yellow text-primary-blue rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:Ne+1}),e.jsxs(S,{to:`/learn/course/${r}/module/${t.moduleId}/submodule/${K.subModuleId}`,className:"font-semibold text-gray-800 hover:text-primary-yellow transition-colors group flex items-center",children:[e.jsx("span",{children:K.subModuleTitle}),e.jsx(we,{className:"w-4 h-4 ml-2 text-gray-400 group-hover:text-primary-yellow transition-colors"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:(ve=K.learningContentDetailScreenResponseDTOs)==null?void 0:ve.map((X,Ns)=>{const oe=Pe(X.userLearningProgressStatus);return e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 hover:bg-white hover:shadow-sm transition-all duration-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ns,{isCompleted:Re(X.userLearningProgressStatus),className:"flex-shrink-0",size:16}),Me(X.contentType),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:X.learningContentTitle}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium inline-block mt-1 ${oe.color==="green"?"bg-green-100 text-green-700":oe.color==="blue"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:oe.text})]})]})},`${t.moduleId}-${K.subModuleId}-${X.learningContentId}`)})})]},`${t.moduleId}-${K.subModuleId}-${Ne}`)})})})})]},t.moduleId)}),(!(i!=null&&i.moduleCourseDetailScreenResponseDTOs)||i.moduleCourseDetailScreenResponseDTOs.length===0)&&e.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl border border-gray-200 shadow-lg",children:[e.jsx(L,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Course Modules Coming Soon!"}),e.jsx("p",{className:"text-gray-600",children:"We're preparing amazing content for you. Stay tuned!"})]})]}),g==="challenges"&&e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Q,{className:"w-8 h-8 text-amber-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Course Challenges"}),e.jsx("p",{className:"text-gray-600",children:"Test your knowledge and compete with others"})]})]}),e.jsxs("div",{className:"bg-amber-100 text-amber-800 px-4 py-2 rounded-full text-sm font-medium",children:[_.length," Challenge",_.length>1?"s":""]})]}),w?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(ee,{className:"animate-spin w-8 h-8 text-amber-500 mr-3"}),e.jsx("span",{className:"text-gray-600",children:"Loading challenges..."})]}):H?e.jsxs("div",{className:"text-center py-12 text-red-600",children:[e.jsx(Q,{className:"w-16 h-16 mx-auto mb-4 text-red-400"}),e.jsx("p",{children:"Unable to load challenges"})]}):_.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Q,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No Challenges Yet"}),e.jsx("p",{className:"text-gray-600",children:"Challenges will be available soon!"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(t=>{const d=re(t),v=le(t);return e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl border border-amber-200 p-6 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[I(t.challengeType),e.jsx("div",{className:"bg-amber-100 text-amber-800 px-2 py-1 rounded-full text-xs font-medium",children:t.challengeType})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[d.icon,e.jsx("span",{className:`text-xs font-medium ${d.color==="green"?"text-green-600":"text-gray-500"}`,children:d.text})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{size:14}),e.jsx("span",{children:J(t.durationSeconds)})]}),v!==null&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Te,{size:14}),e.jsxs("span",{className:"font-medium text-amber-600",children:["Best: ",v]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-gray-500",children:t.challengeSessions.length>0?e.jsxs("span",{children:["Played ",t.challengeSessions.length," time",t.challengeSessions.length>1?"s":""]}):e.jsx("span",{children:"Ready to play"})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>F(t.id),className:"bg-blue-500 text-white px-3 py-1 rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors flex items-center space-x-1",children:[e.jsx(Ye,{size:12}),e.jsx("span",{children:"Leaderboard"})]}),e.jsxs(S,{to:`/course/${r}/challenge/${t.id}`,className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white px-3 py-1 rounded-lg text-sm font-medium hover:from-amber-600 hover:to-orange-600 transition-all duration-200 flex items-center space-x-1",children:[e.jsx(De,{size:12}),e.jsx("span",{children:t.challengeSessions.length>0?"Play":"Start"})]})]})]})]},t.id)})})]})}),g==="leaderboard"&&e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Z,{className:"w-8 h-8 text-amber-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Challenge Leaderboard"}),e.jsx("p",{className:"text-gray-600",children:"See how you rank against other players"})]})]})}),_.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Challenge"}),e.jsxs("select",{value:o||"",onChange:t=>F(t.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Choose a challenge..."}),_.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),o?T?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(ee,{className:"animate-spin w-8 h-8 text-amber-500 mr-3"}),e.jsx("span",{className:"text-gray-600",children:"Loading leaderboard..."})]}):U?e.jsxs("div",{className:"text-center py-12 text-red-600",children:[e.jsx(Z,{className:"w-16 h-16 mx-auto mb-4 text-red-400"}),e.jsx("p",{children:"Unable to load leaderboard"})]}):(fe=(pe=M==null?void 0:M.data)==null?void 0:pe.leaderboard)!=null&&fe.length?e.jsx("div",{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Rank"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Player"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Score"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Time"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Date"})]})}),e.jsx("tbody",{children:M.data.leaderboard.map((t,d)=>e.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gray-50 transition-colors ${t.userId===(f==null?void 0:f.id)?"bg-amber-50":""}`,children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-2xl",children:Oe(t.rank)}),e.jsx("span",{className:"font-medium text-gray-900",children:t.rank})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 items-center justify-center",children:e.jsx("img",{src:t.avatarUrl,alt:t.username,className:"w-10 h-10 rounded-full flex"})}),e.jsx("div",{children:e.jsxs("div",{className:"font-medium text-gray-900",children:[t.username,t.userId===(f==null?void 0:f.userId)&&e.jsx("span",{className:"ml-2 text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded-full",children:"You"})]})})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{className:"font-bold text-amber-600",children:t.highestScore})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-gray-700",children:J(t.timeTaken)})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600 text-sm",children:Be(t.attemptedAt)})]})})]},t.userId))})]})})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No Rankings Yet"}),e.jsx("p",{className:"text-gray-600",children:"Be the first to complete this challenge!"})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Select a Challenge"}),e.jsx("p",{className:"text-gray-600",children:"Choose a challenge to view its leaderboard"})]})]})}),g==="reviews"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("style",{children:n}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(O,{className:"w-8 h-8 text-amber-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Share Your Review"}),e.jsx("p",{className:"text-gray-600",children:"Help others by sharing your experience with this course"})]})]}),e.jsxs("form",{onSubmit:y.handleSubmit(k),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Rate this course *"}),e.jsx("div",{className:"radio",children:[5,4,3,2,1].map(t=>e.jsxs(Ve.Fragment,{children:[e.jsx("input",{id:`rating-${t}`,type:"radio",name:"rating",value:t.toString(),...y.register("rating",{required:"Please select a rating",transform:{input:d=>d==null?void 0:d.toString(),output:d=>parseInt(d.target.value)}})}),e.jsx("label",{htmlFor:`rating-${t}`,title:`${t} stars`,children:e.jsx("svg",{viewBox:"0 0 576 512",height:"1em",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"})})})]},t))}),y.formState.errors.rating&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:y.formState.errors.rating.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review *"}),e.jsx("textarea",{...y.register("feedBack"),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none",placeholder:"Share your thoughts about this course..."}),y.formState.errors.feedBack&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:y.formState.errors.feedBack.message}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[((je=te.feedBack)==null?void 0:je.length)||0," characters"]})]}),e.jsx("button",{type:"submit",disabled:$,className:`w-full flex items-center justify-center space-x-2 py-3 px-6 ${D.HIGHLIGHT_FRAME} text-white rounded-lg font-medium transition-all duration-200 hover:shadow-lg ${$?"opacity-75 cursor-not-allowed":"hover:scale-105"}`,children:$?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"cursor-not-allowed",children:[e.jsx(ee,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Submitting..."})]})}):e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"w-5 h-5"}),e.jsx("span",{children:"Submit Review"})]})})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(O,{className:"w-6 h-6 text-amber-500"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Course Reviews"})]}),((be=j==null?void 0:j.data)==null?void 0:be.length)>0&&e.jsxs("div",{className:"bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-sm font-medium",children:[j.data.length," Review",j.data.length>1?"s":""]})]}),E?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(ee,{className:"animate-spin w-8 h-8 text-amber-500 mr-3"}),e.jsx("span",{className:"text-gray-600",children:"Loading reviews..."})]}):(ye=j==null?void 0:j.data)!=null&&ye.length?e.jsx("div",{className:"space-y-6",children:j.data.map(t=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:e.jsx("img",{src:t.avatarUrl||"https://www.svgrepo.com/show/452030/avatar-default.svg",alt:t.fullName,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:[t.fullName,t.userId===(f==null?void 0:f.id)&&e.jsx("span",{className:"ml-2 text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded-full",children:"You"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:ae(t.createdAt)})]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:A(t.rating)})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.feedback})]},t.courseReviewId))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(O,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No Reviews Yet"}),e.jsx("p",{className:"text-gray-600",children:"Be the first to review this course!"})]})]})})]})]})]})}function bs({courseId:x,isAuthenticated:r}){var z,I,J;const u=Qe(),{user:c}=ge(),{useGetCoursePublic:m}=se(),{data:a,isLoading:l,error:p}=m(x),{enrollUser:h,isLoading:g,isSuccess:b,error:o}=Ze(),{onSubmit:F,isLoading:C}=cs(),{getReviewedCourse:P}=se(),{data:N,isLoading:R}=P(x),w=()=>{const n=a==null?void 0:a.data;return he(n,["Master fundamental concepts and techniques","Develop critical thinking skills","Understand key principles and applications","Create practical projects","Build comprehensive knowledge","Apply learning to real-world scenarios"])},H=()=>{const n=a==null?void 0:a.data,k=he(n,[]);return k.length>0?k.slice(0,3).join(", "):(n==null?void 0:n.description)||"Master comprehensive knowledge and practical skills in this subject area"};V.useEffect(()=>{if(b){const n=setTimeout(()=>{window.location.reload()},500);return()=>clearTimeout(n)}},[b]);const M=async()=>{if(!r||!(c!=null&&c.userId)){u("/signin");return}if((s==null?void 0:s.price)===0&&(s==null?void 0:s.isPremium)===!1)try{await h(c.userId,x)}catch(n){console.error("Enrollment failed:",n)}else try{const n={buyerName:c==null?void 0:c.fullName,buyerEmail:c==null?void 0:c.email,buyerPhone:c==null?void 0:c.phoneNumber,description:"thanh toan khoa hoc",items:[{courseId:parseInt(x),name:(s==null?void 0:s.title)||"Course",quantity:1,price:(s==null?void 0:s.price)||0}]};await F(n)}catch(n){console.error("Payment creation failed:",n)}},T=n=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(n),U=()=>j?r?(s==null?void 0:s.price)===0&&(s==null?void 0:s.isPremium)===!1&&(c==null?void 0:c.premiumStatus)==="FreeTier"?{text:g?"Enrolling...":b?"Enrolled! ✓":"Enroll Now",disabled:g,showPrice:!1}:(s==null?void 0:s.price)>=0&&(s==null?void 0:s.isPremium)===!0&&c.premiumStatus==="PremiumActive"?{text:g?"Enrolling...":b?"Enrolled! ✓":"Enroll Now",disabled:g,showPrice:!0}:(s==null?void 0:s.price)>0&&(s==null?void 0:s.isPremium)===!0&&c.premiumStatus==="PremiumExpired"||c.premiumStatus==="FreeTier"||c.premiumStatus==="PremiumSuspended"?{text:"Content required Premium Access",disabled:!0,showPrice:!1}:{text:C?"Creating Payment...":`Purchase for ${T(s.price)}`,disabled:C,showPrice:!0}:{text:(s==null?void 0:s.price)===0?"Sign In to Start":`Purchase for ${T(s.price)}`,disabled:!1,showPrice:(s==null?void 0:s.price)>0}:{text:"Content Coming Soon",disabled:!0,showPrice:!1},f=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),y=n=>Array.from({length:5},(k,A)=>e.jsx("span",{className:`text-lg ${A<n?"text-yellow-400":"text-gray-300"}`,children:"★"},A));if(l)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md mx-4",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary-yellow border-t-transparent mx-auto"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx($e,{className:"h-6 w-6 text-primary-yellow"})})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Loading Course Preview"}),e.jsx("p",{className:"text-gray-600 mb-4",children:r?"Preparing your course preview...":"Loading course information..."}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse delay-75"}),e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse delay-150"})]}),r&&c&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Welcome, ",c.name||c.email,"!"]})]})}),!r&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Viewing as guest"})]})})]})});if(p)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md mx-4",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-6",children:"🚫"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Course Not Available"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't load this course preview. It might be temporarily unavailable or you don't have access to it."}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 mb-6",children:e.jsxs("p",{className:"text-sm text-red-600",children:["Error: ",p.message||"Failed to load course data"]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition-colors font-medium",children:"Try Again"}),e.jsx(S,{to:"/learn",className:"bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Browse Other Courses"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-500",children:"If this problem persists, please contact support"})})]})});const s=a==null?void 0:a.data,$=w(),G=n=>{switch(n){case 0:return"Beginner";case 1:return"Intermediate";case 2:return"Advanced";default:return"Unknown"}},j=(s==null?void 0:s.moduleCourseDetailScreenResponseDTOs)&&s.moduleCourseDetailScreenResponseDTOs.length>0,E=U();return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("span",{className:"bg-primary-yellow text-white px-3 py-1 rounded-full text-sm font-medium",children:G(s==null?void 0:s.courseLevel)}),s!=null&&s.isPremium?e.jsx("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:"Premium"}):e.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:"Standard"}),(s==null?void 0:s.price)===0?e.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"Free"}):e.jsx("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:T(s.price)})]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:s==null?void 0:s.title}),e.jsx("p",{className:"text-lg text-gray-600 mb-6",children:s==null?void 0:s.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"w-5 h-5 text-primary-yellow"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(s==null?void 0:s.totalModule)||0," Modules"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(me,{className:"w-5 h-5 text-primary-yellow"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(s==null?void 0:s.courseCompletionPercentage)||0,"% Complete"]})]})]}),!j&&e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Se,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Course content is being prepared and will be available soon."})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:M,disabled:E.disabled,className:`flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all ${(s==null?void 0:s.price)>0&&j?`${D.HIGHLIGHT_FRAME} text-white shadow-lg`:D.HIGHLIGHT_FRAME} disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(De,{className:"w-5 h-5"}),e.jsx("span",{children:E.text})]}),!r&&e.jsxs(S,{to:"/learn",className:"flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium border-2 border-gray-300 text-gray-700 hover:border-primary-yellow hover:text-primary-yellow transition-all",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{children:"Browse All Courses"})]})]}),o&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:"Failed to enroll. Please try again."})}),b&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-green-600 border-t-transparent"}),e.jsx("p",{className:"text-sm text-green-600",children:"✅ Successfully enrolled! Refreshing page..."})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:(s==null?void 0:s.coverImageUrl)||es.courses.asia.bhimbetkaRockArt,alt:s==null?void 0:s.title,className:"w-full h-80 object-cover rounded-lg shadow-lg"}),(s==null?void 0:s.price)>0&&e.jsx("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:T(s.price)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Course Price"})]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:e.jsx(me,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Course Goals"})]}),e.jsx("p",{className:"text-gray-600",children:H()})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:e.jsx(q,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Certification"})]}),e.jsxs("p",{className:"text-gray-600",children:["Earn a certificate upon successful completion of all"," ",s==null?void 0:s.totalModule," modules"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:e.jsx(L,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Course Level"})]}),e.jsxs("p",{className:"text-gray-600",children:[G(s==null?void 0:s.courseLevel)," level course designed for comprehensive learning"]})]})]}),$&&$.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"What You'll Learn"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map((n,k)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-1 mt-1",children:e.jsx(B,{className:"w-4 h-4 text-green-600"})}),e.jsx("span",{className:"text-gray-700",children:n})]},k))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Complete Course Content"}),j?e.jsx("div",{className:"space-y-4",children:s.moduleCourseDetailScreenResponseDTOs.map((n,k)=>{var A,te;return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 p-4 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-primary-yellow text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-medium",children:k+1}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:n.moduleTitle}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Module ",k+1," of ",s.totalModule]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[((A=n.subModuleCourseDetailScreenResponseDTOs)==null?void 0:A.length)||0," ","lessons"]})})]})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:(te=n.subModuleCourseDetailScreenResponseDTOs)==null?void 0:te.map((ae,re)=>{var le;return e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-gray-500 w-6",children:[k+1,".",re+1]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:ae.subModuleTitle}),e.jsxs("p",{className:"text-xs text-gray-600",children:[((le=ae.learningContentDetailScreenResponseDTOs)==null?void 0:le.length)||0," ","learning contents"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:!r&&e.jsx(gs,{className:"w-4 h-4 text-gray-400"})})]},`${n.moduleId}-${re}`)})})})]},n.moduleId)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Se,{size:40,className:"text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Course Content Not Available"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"The course modules and lessons are currently being prepared. Please check back soon for the complete learning experience."}),e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-orange-100 rounded-full text-sm text-orange-700",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full mr-2 animate-pulse"}),"Content Coming Soon"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Course Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{className:"text-gray-700",children:[s==null?void 0:s.totalModule," comprehensive modules"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{className:"text-gray-700",children:[G(s==null?void 0:s.courseLevel)," level content"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Interactive learning experience"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Progress tracking and analytics"})]}),(s==null?void 0:s.isPremium)&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Premium course content"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Certificate of completion"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(O,{className:"w-6 h-6 text-amber-500"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Course Reviews"})]}),((z=N==null?void 0:N.data)==null?void 0:z.length)>0&&e.jsxs("div",{className:"bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-sm font-medium",children:[N.data.length," Review",N.data.length>1?"s":""]})]}),R?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(ee,{className:"animate-spin w-8 h-8 text-amber-500 mr-3"}),e.jsx("span",{className:"text-gray-600",children:"Loading reviews..."})]}):(I=N==null?void 0:N.data)!=null&&I.length?e.jsx("div",{className:"space-y-6",children:N.data.map(n=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:e.jsx("img",{src:n.avatarUrl||"https://www.svgrepo.com/show/452030/avatar-default.svg",alt:n.fullName,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:n.fullName}),e.jsx("p",{className:"text-sm text-gray-500",children:f(n.createdAt)})]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:y(n.rating)})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.feedback})]},n.courseReviewId))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(O,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No Reviews Yet"}),e.jsx("p",{className:"text-gray-600",children:r?"Be the first to review this course!":"Sign in to see and write reviews for this course."})]}),!r&&((J=N==null?void 0:N.data)==null?void 0:J.length)>0&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Want to share your experience?"}),e.jsxs(S,{to:"/signin",className:`inline-flex items-center space-x-2 px-6 py-3 ${D.HIGHLIGHT_FRAME} text-white rounded-lg font-medium transition-all duration-200 hover:shadow-lg`,children:[e.jsx(O,{className:"w-5 h-5"}),e.jsx("span",{children:"Sign In to Write a Review"})]})]})})]}),!r&&e.jsxs("div",{className:"bg-gradient-to-r from-primary-yellow to-orange-400 rounded-lg p-8 text-white text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Start Learning?"}),e.jsx("p",{className:"text-lg mb-6 opacity-90",children:j?`Join thousands of students and explore ${s==null?void 0:s.title}!`:`Be the first to know when ${s==null?void 0:s.title} content becomes available!`}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:j?e.jsxs(e.Fragment,{children:[e.jsx(S,{to:"/signin",className:`inline-block ${D.HIGHLIGHT_FRAME} px-8 py-3 rounded-lg font-medium  transition-colors`,children:(s==null?void 0:s.price)===0?"Get Started":`Purchase for ${T(s.price)}`}),e.jsx(S,{to:"/learn",className:"inline-block border-2 border-white text-white px-8 py-3 rounded-lg font-medium hover:bg-white hover:text-primary-yellow transition-colors",children:"Browse All Courses"})]}):e.jsx(S,{to:"/learn",className:"inline-block bg-white text-primary-yellow px-8 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Browse Available Courses"})})]})]})}function ys(){var U,f;const{courseId:x}=ss(),{user:r,isAuthenticated:u}=ge(),{getUserLearningProgress:c}=se(),{awardCertificate:m,getUserCertificatesQuery:a,userCertificates:l,isCreatingCertificate:p}=ts(),{toast:h}=as(),[g,b]=V.useState(!1),{data:o,isLoading:F,error:C}=c(r==null?void 0:r.userId,x),{isLoading:P}=a,N=l.find(y=>y.courseId===parseInt(x)),R=l.find(y=>y.courseId==x||y.courseId===parseInt(x)),w=N||R;if(V.useEffect(()=>{const y=async()=>{var j,E,z;const s=(j=o==null?void 0:o.data)==null?void 0:j.learningStatus,$=((E=o==null?void 0:o.data)==null?void 0:E.progressPercent)||0;if(u&&(r==null?void 0:r.userId)&&s===2&&$>=100&&!w&&!g&&!p&&!P){b(!0);try{const I=await m(r.userId,parseInt(x));h({title:"🎉 Congratulations! Course Completed!",description:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{children:"You have successfully completed this course and earned your certificate!"}),((z=I==null?void 0:I.data)==null?void 0:z.certificateImageUrl)&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:I.data.certificateImageUrl,alt:"Certificate Preview",className:"w-full h-24 object-cover rounded-lg border border-yellow-200"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent rounded-lg"}),e.jsx("div",{className:"absolute bottom-1 left-2 text-white text-xs font-medium",children:"Your Certificate"})]}),e.jsxs(S,{to:`/certificate/${w.id}`,className:"inline-flex items-center text-primary-yellow hover:text-secondary-yellow font-medium",children:[e.jsx(q,{className:"w-4 h-4 mr-1"}),"View Your Certificate",e.jsx(xe,{className:"w-3 h-3 ml-1"})]})]}),variant:"success",duration:15e3})}catch(I){console.error("❌ Failed to create award certificate:",I),b(!1)}}};o!=null&&o.data&&l!==void 0&&!P&&y()},[o==null?void 0:o.data,l,w,g,u,r==null?void 0:r.userId,x,m,p,P,h]),F||P)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md mx-4",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary-yellow border-t-transparent mx-auto"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(L,{className:"h-6 w-6 text-primary-yellow"})})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Loading Course Information"}),e.jsx("p",{className:"text-gray-600 mb-4",children:u?"Checking your enrollment status and certificates...":"Preparing course details..."}),p&&e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mb-4",children:e.jsxs("div",{className:"flex items-center justify-center text-yellow-700",children:[e.jsx(q,{className:"h-4 w-4 mr-2 animate-pulse"}),e.jsx("span",{className:"text-sm",children:"Creating your certificate..."})]})}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse delay-75"}),e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse delay-150"})]}),u&&r&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[e.jsx(rs,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Welcome back, ",r.name||r.email,"!"]})]})})]})});if(C)return console.error("Error fetching learning progress:",C),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md mx-4",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-6",children:"⚠️"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Unable to Load Course Data"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"There was an issue checking your enrollment status. We'll show you the course as a guest."}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-sm text-blue-700",children:"Redirecting to guest view..."})})]})});const H=(U=o==null?void 0:o.data)==null?void 0:U.learningStatus,M=H===1||H===2,T=u&&H===2&&w&&((f=o==null?void 0:o.data)==null?void 0:f.progressPercent)>=100;return u&&M?e.jsxs("div",{children:[T&&e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-200",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(q,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"🎉 Course Completed!"}),e.jsx("p",{className:"text-sm text-green-700",children:"Congratulations! You have successfully completed this course and earned your certificate."})]}),(w==null?void 0:w.certificateImageUrl)&&e.jsx("div",{className:"hidden md:block",children:e.jsx("img",{src:w.certificateImageUrl,alt:"Certificate",className:"w-16 h-12 object-cover rounded border border-green-300"})})]}),e.jsxs(S,{to:`/certificate/${w.id}`,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"View Certificate",e.jsx(xe,{className:"w-3 h-3 ml-1"})]})]})})}),e.jsx(js,{courseId:x,learningProgress:o==null?void 0:o.data,existingCertificate:w})]}):e.jsx(bs,{courseId:x,isAuthenticated:u})}function Ds(){return e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"max-w-7xl mx-auto flex flex-col gap-6",children:e.jsx(ys,{})})})}export{Ds as default};
