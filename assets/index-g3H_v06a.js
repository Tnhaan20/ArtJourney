import{c as V,n as te,b as re,r as K,j as e,L as k,B as v,d as oe,e as de,T as D,i as z,o as Se,p as Te,q as me,f as Le,s as je,t as xe,V as Me,v as Ie,w as De,x as $e,y as Ee,z as he,A as j,D as Ae,E as Re,l as ze,G as He,H as Oe,I as S,k as Be}from"./index-D9HxOGxz.js";import{t as Fe}from"./team-member-1-B2-9RCyU.js";import{C as Ge,P as ue}from"./Completed-IT-ZhKTc.js";import{u as Ue,T as ee,a as ge,M as _e}from"./use-gamification-lozmgF5k.js";import{u as qe}from"./use-leaderboard-jzVkY9pI.js";import{C as H}from"./crown-COjJPXFD.js";import{Z as pe}from"./zap-BuZ1idLi.js";import{P as fe}from"./play-WjvQxzqI.js";import{C as be}from"./circle-alert-KK-xPBof.js";import{A as We}from"./award-Csnr4eA0.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ke=V("calendar",Ye);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Qe=V("gamepad-2",Ve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ye=V("globe",Je);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xe=V("lock",Ze),es="/ArtJourney/assets/course-header-C5-n0iwu.png",ss=o=>{try{const l=JSON.parse(o);return typeof l!="object"||l===null?[]:Object.keys(l).filter(c=>c.startsWith("oc")).sort((c,r)=>{const n=parseInt(c.replace("oc",""),10),u=parseInt(r.replace("oc",""),10);return n-u}).map(c=>l[c]).filter(c=>c&&typeof c=="string"&&c.trim().length>0).map(c=>c.trim())}catch(l){return console.warn("Failed to parse learning outcomes JSON:",l),[]}},se=(o,l=[])=>{if(Array.isArray(o)&&o.length>0)return o;if(typeof o=="string"&&o.trim()){const h=o.trim();if(h.startsWith("{")&&h.endsWith("}")){const r=ss(h);if(r.length>0)return r}const a=h.replace(/\r\n/g,`
`).replace(/\r/g,`
`);let c=[];return a.includes(`
`)&&(c=a.split(`
`).map(r=>r.trim()).filter(r=>r.length>0).map(r=>r.replace(/^[-•*]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(r=>r.length>0)),c.length===0&&a.includes(";")&&(c=a.split(";").map(r=>r.trim()).filter(r=>r.length>0)),c.length===0&&(c=a.split(/[•-]/).map(r=>r.trim()).filter(r=>r.length>0)),c.length===0&&(c=a.split(/\d+\./).map(r=>r.trim()).filter(r=>r.length>0)),c.length>0?c:[a]}return l};function ts(){const o=r=>{if(!r||typeof r!="string")return"0 hours";const n=r.split(":");if(n.length!==3)return"0 hours";const u=parseInt(n[0],10),d=parseInt(n[1],10),p=parseInt(n[2],10),y=u+d/60+p/3600;if(y===0)return"0 hours";if(y<1){const f=Math.round(d+p/60);return`${f} min${f!==1?"s":""}`}else{if(y<2)return d<30?"1 hour":"1.5 hours";{const f=Math.round(y*2)/2;return`${f} hour${f!==1?"s":""}`}}},l=r=>{if(!r||typeof r!="string")return 0;const n=r.split(":");if(n.length!==3)return 0;const u=parseInt(n[0],10)||0,d=parseInt(n[1],10)||0,p=parseInt(n[2],10)||0;return u+d/60+p/3600},h=r=>{let n;if(typeof r=="string"?n=l(r):n=r,!n||n<=0||isNaN(n))return"0 days";const u=n/24;if(u<1){const d=Math.round(n);return`${d} hour${d!==1?"s":""}`}else{if(u<2)return"1 day";{const d=Math.round(u*2)/2;return`${d} day${d!==1?"s":""}`}}},a=r=>{let n;if(typeof r=="string"?n=l(r):n=r,!n||n<=0||isNaN(n))return"0 weeks";const u=n/(24*7);if(u<.5){const d=Math.round(n/24);if(d<1){const p=Math.round(n);return`${p} hour${p!==1?"s":""}`}return`${d} day${d!==1?"s":""}`}else{if(u<1)return"1 week";{const d=Math.round(u*2)/2;return`${d} week${d!==1?"s":""}`}}};return{formatTimeToHours:o,formatHoursToDays:h,formatHoursToWeeks:a,formatTimeAutomatically:r=>{if(!r)return"0 hours";const n=l(r);return n===0||isNaN(n)?"0 hours":n<24?o(r):n<168?h(n):a(n)},timeStringToHours:l}}function rs({learningProgress:o,courseId:l}){var ae,le,ne;const{getCoursesById:h}=te(),{getChallengeByCourse:a}=Ue(),{getLeaderboardByChallengeId:c}=qe(),{getCurrentUser:r}=re(),[n,u]=K.useState({}),[d,p]=K.useState("course"),[y,f]=K.useState(null),{data:w,isLoading:O,error:B}=h(l),{data:$,isLoading:Q,error:P}=a(l),{data:T,isLoading:s,error:E}=c(y),{user:g}=r(),C=t=>{u(x=>({...x,[t]:!x[t]}))},F=t=>{switch(t){case"Drag&Drop":return e.jsx(Qe,{size:20,className:"text-blue-500"});case"Quiz":return e.jsx(xe,{size:20,className:"text-green-500"});case"Drawing":return e.jsx(ue,{size:20,className:"text-purple-500"});default:return e.jsx(z,{size:20,className:"text-amber-500"})}},m=t=>{const x=Math.floor(t/60),b=t%60;return`${x}m ${b}s`},N=t=>t.challengeSessions&&t.challengeSessions.length>0?{text:"Completed",color:"green",icon:e.jsx(_e,{size:16,className:"text-green-600"})}:{text:"Not Started",color:"gray",icon:e.jsx(de,{size:16,className:"text-gray-500"})},G=t=>t.userChallengeHighestScores&&t.userChallengeHighestScores.length>0?Math.max(...t.userChallengeHighestScores.map(x=>x.score)):null,U=t=>{switch(t){case 0:return{text:"Not Started",color:"gray"};case 1:return{text:"In Progress",color:"blue"};case 2:return{text:"Completed",color:"green"};default:return{text:"Not Started",color:"gray"}}},_=t=>{switch(t){case 1:return e.jsx(v,{size:16,className:"text-blue-500"});case 2:return e.jsx(ue,{size:16,className:"text-amber-500"});case 3:return e.jsx(Me,{size:16,className:"text-green-500"});default:return e.jsx(xe,{size:16,className:"text-gray-500"})}},q=t=>t===2,W=()=>{var b;if(!((b=w==null?void 0:w.data)!=null&&b.moduleCourseDetailScreenResponseDTOs))return 0;let t=0,x=0;return w.data.moduleCourseDetailScreenResponseDTOs.forEach(M=>{M.subModuleCourseDetailScreenResponseDTOs.forEach(I=>{I.learningContentDetailScreenResponseDTOs.forEach(Y=>{t++,Y.userLearningProgressStatus===2&&x++})})}),t>0?Math.round(x/t*100):0},Ne=t=>{let x=0,b=0;return t.subModuleCourseDetailScreenResponseDTOs.forEach(M=>{M.learningContentDetailScreenResponseDTOs.forEach(I=>{x++,I.userLearningProgressStatus===2&&b++})}),x>0?Math.round(b/x*100):0},ve=["Master fundamental art concepts and techniques","Develop critical thinking skills in art analysis","Understand historical and cultural contexts of artworks","Create your own artistic interpretations","Build a comprehensive art vocabulary","Appreciate diverse artistic styles and movements"],we=()=>{const t=i==null?void 0:i.learningOutcomes;return se(t,ve)},Ce=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ke=t=>t===1?"🥇":t===2?"🥈":t===3?"🥉":`#${t}`;if(O)return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50",children:e.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary-yellow border-t-transparent mx-auto mb-6"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Loading Your Course"}),e.jsx("p",{className:"text-gray-600",children:"Preparing your learning journey..."})]})});if(B)return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-red-50 to-orange-50",children:e.jsxs("div",{className:"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-6",children:"⚠️"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6",children:B.message||"Unable to load course details"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition-colors font-medium",children:"Try Again"})]})});const i=w==null?void 0:w.data,L=($==null?void 0:$.data)||[],J=(i==null?void 0:i.courseCompletionPercentage)||W(),Pe=(i==null?void 0:i.coverImageUrl)||es;g!=null&&g.name,g!=null&&g.avatar||Fe;const Z=we();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex py-4","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex items-center space-x-3",children:[e.jsx("li",{children:e.jsxs(k,{to:"/learn",className:"text-primary-yellow hover:text-secondary-yellow font-medium transition-colors flex items-center",children:[e.jsx(v,{size:16,className:"mr-2"}),"Learn"]})}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(oe,{className:"w-4 h-4 text-gray-400 mx-2"}),e.jsx("span",{className:"text-gray-700 font-medium truncate max-w-xs",children:(i==null?void 0:i.title)||"Course Detail"})]})]})})})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${Pe})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-transparent"})}),e.jsx("div",{className:"relative z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("div",{className:"bg-primary-yellow/20 backdrop-blur-sm rounded-full px-4 py-2 border border-primary-yellow/30",children:e.jsx("span",{className:"text-primary-yellow font-semibold",children:(i==null?void 0:i.courseLevel)===1?"Beginner":(i==null?void 0:i.courseLevel)===2?"Intermediate":(i==null?void 0:i.courseLevel)===3?"Advanced":"Beginner"})})}),e.jsx("h1",{className:"text-5xl mongro-bold font-bold mb-6 leading-tight",children:(i==null?void 0:i.title)||"Course Title"}),e.jsx("p",{className:"text-xl text-gray-200 mb-8 leading-relaxed max-w-2xl",children:(i==null?void 0:i.description)||"Kickstart your career in art. Build job-ready skills in art techniques, art history, and creative expression and learn to create beautiful artworks in just 6 months"}),e.jsxs("div",{className:"flex flex-wrap gap-6 mb-8",children:[e.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(v,{size:20,className:"text-primary-yellow mr-2"}),e.jsxs("span",{className:"font-medium",children:[(i==null?void 0:i.totalModule)||10," Modules"]})]}),e.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(de,{size:20,className:"text-primary-yellow mr-2"}),e.jsx("span",{className:"font-medium",children:ts().formatHoursToDays(i==null?void 0:i.remainingTime)||"6 weeks"})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("span",{className:"font-semibold",children:"Your Progress"}),e.jsxs("span",{className:"text-2xl mongro-bold font-bold text-primary-yellow",children:[J,"%"]})]}),e.jsx("div",{className:"w-full bg-white/20 rounded-full h-3 mb-2",children:e.jsx("div",{className:"bg-gradient-to-r from-primary-yellow to-secondary-yellow h-3 rounded-full transition-all duration-700 relative overflow-hidden",style:{width:`${J}%`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),e.jsx("p",{className:"text-sm text-gray-200",children:J===100?"Course completed! 🎉":"Keep going, you're doing great!"})]})]}),e.jsx("div",{className:"lg:justify-self-end",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl border border-white/20 p-8 shadow-2xl max-w-md",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(ee,{size:24,className:"text-primary-yellow mr-3"}),e.jsx("h3",{className:"text-xl mongro-bold font-bold text-gray-800",children:"What You'll Learn"})]}),e.jsx("ul",{className:"space-y-4",children:Z.slice(0,6).map((t,x)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5 flex-shrink-0",children:"✓"}),e.jsx("span",{className:"text-gray-700 text-sm leading-relaxed",children:t})]},x))}),Z.length>6&&e.jsxs("p",{className:"text-sm text-gray-500 mt-4 text-center",children:["+",Z.length-6," more learning outcomes"]})]})})]})})})]}),e.jsx("div",{className:"w-7xl mx-auto px-4 pt-5 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-200 shadow-lg mb-8",children:e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsx("button",{onClick:()=>p("course"),className:`flex-1 py-4 px-6 text-center font-medium transition-all duration-200 ${d==="course"?`${D.HIGHLIGHT_FRAME}`:"text-gray-600 hover:text-primary-yellow hover:bg-amber-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(v,{size:20}),e.jsx("span",{children:"Course Content"})]})}),e.jsx("button",{onClick:()=>p("challenges"),className:`flex-1 py-4 px-6 text-center font-medium transition-all duration-200 ${d==="challenges"?`${D.HIGHLIGHT_FRAME}`:"text-gray-600 hover:text-primary-yellow hover:bg-amber-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(z,{size:20}),e.jsx("span",{children:"Challenges"})]})}),e.jsx("button",{onClick:()=>p("leaderboard"),className:`flex-1 py-4 px-6 text-center font-medium transition-all duration-200 ${d==="leaderboard"?`${D.HIGHLIGHT_FRAME}`:"text-gray-600 hover:text-primary-yellow hover:bg-amber-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(H,{size:20}),e.jsx("span",{children:"Leaderboard"})]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[d==="course"&&e.jsxs("div",{className:"space-y-6",children:[(ae=i==null?void 0:i.moduleCourseDetailScreenResponseDTOs)==null?void 0:ae.map((t,x)=>{var I,Y;const b=Ne(t),M=n[t.moduleId];return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>C(t.moduleId),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-yellow to-secondary-yellow text-white rounded-xl px-4 py-2 font-bold shadow-lg",children:x+1}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl mongro-bold font-bold text-gray-900 mb-1",children:t.moduleTitle}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:[((I=t.subModuleCourseDetailScreenResponseDTOs)==null?void 0:I.length)||0," ","lessons"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[b,"% complete"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative w-12 h-12",children:[e.jsxs("svg",{className:"w-12 h-12 transform -rotate-90",viewBox:"0 0 36 36",children:[e.jsx("path",{className:"text-gray-300",stroke:"currentColor",strokeWidth:"3",fill:"transparent",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),e.jsx("path",{className:"text-primary-yellow",stroke:"currentColor",strokeWidth:"3",fill:"transparent",strokeDasharray:`${b}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs font-bold text-gray-700",children:[b,"%"]})})]}),M?e.jsx(Se,{className:"w-6 h-6 text-gray-400"}):e.jsx(Te,{className:"w-6 h-6 text-gray-400"})]})]})}),M&&e.jsx("div",{className:"border-t border-gray-100 bg-gray-50/50",children:e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:(Y=t.subModuleCourseDetailScreenResponseDTOs)==null?void 0:Y.map((A,ie)=>{var ce;return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-all duration-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-secondary-yellow text-primary-blue rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:ie+1}),e.jsxs(k,{to:`/learn/course/${l}/module/${t.moduleId}/submodule/${A.subModuleId}`,className:"font-semibold text-gray-800 hover:text-primary-yellow transition-colors group flex items-center",children:[e.jsx("span",{children:A.subModuleTitle}),e.jsx(oe,{className:"w-4 h-4 ml-2 text-gray-400 group-hover:text-primary-yellow transition-colors"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:(ce=A.learningContentDetailScreenResponseDTOs)==null?void 0:ce.map((R,ms)=>{const X=U(R.userLearningProgressStatus);return e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 hover:bg-white hover:shadow-sm transition-all duration-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ge,{isCompleted:q(R.userLearningProgressStatus),className:"flex-shrink-0",size:16}),_(R.contentType),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:R.learningContentTitle}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium inline-block mt-1 ${X.color==="green"?"bg-green-100 text-green-700":X.color==="blue"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:X.text})]})]})},`${t.moduleId}-${A.subModuleId}-${R.learningContentId}`)})})]},`${t.moduleId}-${A.subModuleId}-${ie}`)})})})})]},t.moduleId)}),(!(i!=null&&i.moduleCourseDetailScreenResponseDTOs)||i.moduleCourseDetailScreenResponseDTOs.length===0)&&e.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl border border-gray-200 shadow-lg",children:[e.jsx(v,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Course Modules Coming Soon!"}),e.jsx("p",{className:"text-gray-600",children:"We're preparing amazing content for you. Stay tuned!"})]})]}),d==="challenges"&&e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(z,{className:"w-8 h-8 text-amber-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Course Challenges"}),e.jsx("p",{className:"text-gray-600",children:"Test your knowledge and compete with others"})]})]}),e.jsxs("div",{className:"bg-amber-100 text-amber-800 px-4 py-2 rounded-full text-sm font-medium",children:[L.length," Challenge",L.length>1?"s":""]})]}),Q?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(me,{className:"animate-spin w-8 h-8 text-amber-500 mr-3"}),e.jsx("span",{className:"text-gray-600",children:"Loading challenges..."})]}):P?e.jsxs("div",{className:"text-center py-12 text-red-600",children:[e.jsx(z,{className:"w-16 h-16 mx-auto mb-4 text-red-400"}),e.jsx("p",{children:"Unable to load challenges"})]}):L.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No Challenges Yet"}),e.jsx("p",{className:"text-gray-600",children:"Challenges will be available soon!"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map(t=>{const x=N(t),b=G(t);return e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl border border-amber-200 p-6 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[F(t.challengeType),e.jsx("div",{className:"bg-amber-100 text-amber-800 px-2 py-1 rounded-full text-xs font-medium",children:t.challengeType})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[x.icon,e.jsx("span",{className:`text-xs font-medium ${x.color==="green"?"text-green-600":"text-gray-500"}`,children:x.text})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ge,{size:14}),e.jsx("span",{children:m(t.durationSeconds)})]}),b!==null&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(pe,{size:14}),e.jsxs("span",{className:"font-medium text-amber-600",children:["Best: ",b]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-gray-500",children:t.challengeSessions.length>0?e.jsxs("span",{children:["Played ",t.challengeSessions.length," time",t.challengeSessions.length>1?"s":""]}):e.jsx("span",{children:"Ready to play"})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>f(t.id),className:"bg-blue-500 text-white px-3 py-1 rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors flex items-center space-x-1",children:[e.jsx(Le,{size:12}),e.jsx("span",{children:"Leaderboard"})]}),e.jsxs(k,{to:`/course/${l}/challenge/${t.id}`,className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white px-3 py-1 rounded-lg text-sm font-medium hover:from-amber-600 hover:to-orange-600 transition-all duration-200 flex items-center space-x-1",children:[e.jsx(fe,{size:12}),e.jsx("span",{children:t.challengeSessions.length>0?"Play":"Start"})]})]})]})]},t.id)})})]})}),d==="leaderboard"&&e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(H,{className:"w-8 h-8 text-amber-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Challenge Leaderboard"}),e.jsx("p",{className:"text-gray-600",children:"See how you rank against other players"})]})]})}),L.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Challenge"}),e.jsxs("select",{value:y||"",onChange:t=>f(t.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Choose a challenge..."}),L.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),y?s?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(me,{className:"animate-spin w-8 h-8 text-amber-500 mr-3"}),e.jsx("span",{className:"text-gray-600",children:"Loading leaderboard..."})]}):E?e.jsxs("div",{className:"text-center py-12 text-red-600",children:[e.jsx(H,{className:"w-16 h-16 mx-auto mb-4 text-red-400"}),e.jsx("p",{children:"Unable to load leaderboard"})]}):(ne=(le=T==null?void 0:T.data)==null?void 0:le.leaderboard)!=null&&ne.length?e.jsx("div",{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Rank"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Player"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Score"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Time"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Date"})]})}),e.jsx("tbody",{children:T.data.leaderboard.map((t,x)=>e.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gray-50 transition-colors ${t.userId===(g==null?void 0:g.id)?"bg-amber-50":""}`,children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-2xl",children:ke(t.rank)}),e.jsx("span",{className:"font-medium text-gray-900",children:t.rank})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full flex items-center justify-center",children:e.jsx(je,{className:"w-5 h-5 text-white"})}),e.jsx("div",{children:e.jsxs("div",{className:"font-medium text-gray-900",children:[t.username,t.userId===(g==null?void 0:g.id)&&e.jsx("span",{className:"ml-2 text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded-full",children:"You"})]})})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pe,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{className:"font-bold text-amber-600",children:t.highestScore})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-gray-700",children:m(t.timeTaken)})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600 text-sm",children:Ce(t.attemptedAt)})]})})]},t.userId))})]})})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(H,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No Rankings Yet"}),e.jsx("p",{className:"text-gray-600",children:"Be the first to complete this challenge!"})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(H,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Select a Challenge"}),e.jsx("p",{className:"text-gray-600",children:"Choose a challenge to view its leaderboard"})]})]})})]})]})}const as={post:{createPayment:async o=>(await Ie.post("/Payment/create-payment-link",o)).data}},ls=()=>{const{toast:o}=De(),l=new $e;return{createPaymentMutation:Ee({mutationKey:[he.PAYMENT.CREATE_PAYMENT_LINK],mutationFn:async a=>await as.post.createPayment(a),onSuccess:async a=>{a!=null&&a.checkoutUrl?(o({title:"Payment link created successfully",description:"Redirecting to payment gateway...",variant:"success"}),setTimeout(()=>{window.location.href=a.checkoutUrl},1e3)):o({title:"Payment created",description:a.message||"Payment processing initiated",variant:"success"})},onError:a=>{var c,r;console.error("Payment creation failed:",a),o({title:"Payment creation failed",description:((r=(c=a.response)==null?void 0:c.data)==null?void 0:r.message)||"Failed to create payment link",variant:"destructive"})},onSettled:()=>{l.invalidateQueries({queryKey:[he.PAYMENT.CREATE_PAYMENT_LINK]})}})}},ns=j.object({courseId:j.number().positive("Course ID must be a positive number").int("Course ID must be an integer"),name:j.string().min(1,"Course name is required").max(200,"Course name must not exceed 200 characters").trim(),quantity:j.number().min(1,"Quantity must be at least 1").max(10,"Maximum quantity is 10").int("Quantity must be an integer"),price:j.number().min(0,"Price must be 0 or greater").max(1e8,"Price exceeds maximum limit")}),is=j.object({buyerName:j.string().min(2,"Buyer name must be at least 2 characters").max(100,"Buyer name must not exceed 100 characters").regex(/^[a-zA-ZÀ-ỹ\s]+$/,"Buyer name can only contain letters and spaces").trim(),buyerEmail:j.string().email("Please enter a valid email address").min(1,"Email is required").max(254,"Email address is too long").toLowerCase().trim(),buyerPhone:j.string().min(10,"Phone number must be at least 10 digits").max(15,"Phone number must not exceed 15 digits").regex(/^[\+]?[0-9\s\-\(\)]+$/,"Please enter a valid phone number").trim(),description:j.string().min(1,"Description is required").max(500,"Description must not exceed 500 characters").trim(),items:j.array(ns).min(1,"At least one item is required").max(10,"Maximum 10 items allowed").refine(o=>{const l=o.map(h=>h.courseId);return l.length===new Set(l).size},"Duplicate courses are not allowed")}),cs=()=>{const{createPaymentMutation:o}=ls(),l=Ae({resolver:Re(is),defaultValues:{buyerName:"Nhan",buyerEmail:"",buyerPhone:"0365666666",description:"thanh toan khoa hoc",items:[{courseId:0,name:"",quantity:1,price:0}]}});return{form:l,onSubmit:async a=>{await o.mutateAsync(a),l.reset()},isLoading:o.isPending}};function os({courseId:o,isAuthenticated:l}){const h=ze(),{user:a}=re(),{useGetCoursePublic:c}=te(),{data:r,isLoading:n,error:u}=c(o),{enrollUser:d,isLoading:p,isSuccess:y,error:f}=He(),{onSubmit:w,isLoading:O}=cs(),B=()=>{const m=r==null?void 0:r.data;return se(m,["Master fundamental concepts and techniques","Develop critical thinking skills","Understand key principles and applications","Create practical projects","Build comprehensive knowledge","Apply learning to real-world scenarios"])},$=()=>{const m=r==null?void 0:r.data,N=se(m,[]);return N.length>0?N.slice(0,3).join(", "):(m==null?void 0:m.description)||"Master comprehensive knowledge and practical skills in this subject area"};K.useEffect(()=>{if(y){const m=setTimeout(()=>{window.location.reload()},2e3);return()=>clearTimeout(m)}},[y]);const Q=async()=>{if(!l||!(a!=null&&a.id)){h("/signin");return}if((s==null?void 0:s.price)===0)try{await d(a.id,o)}catch(m){console.error("Enrollment failed:",m)}else try{const m={buyerName:(a==null?void 0:a.name)||(a==null?void 0:a.firstName)||"Student",buyerEmail:(a==null?void 0:a.email)||"",buyerPhone:(a==null?void 0:a.phone)||"0354545454",description:"thanh toan khoa hoc",items:[{courseId:parseInt(o),name:(s==null?void 0:s.title)||"Course",quantity:1,price:(s==null?void 0:s.price)||0}]};await w(m)}catch(m){console.error("Payment creation failed:",m)}},P=m=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(m),T=()=>C?l?(s==null?void 0:s.price)===0?{text:p?"Enrolling...":y?"Enrolled! ✓":"Start Learning",disabled:p,showPrice:!1}:{text:O?"Creating Payment...":`Purchase for ${P(s.price)}`,disabled:O,showPrice:!0}:{text:(s==null?void 0:s.price)===0?"Sign In to Start":`Purchase for ${P(s.price)}`,disabled:!1,showPrice:(s==null?void 0:s.price)>0}:{text:"Content Coming Soon",disabled:!0,showPrice:!1};if(n)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md mx-4",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary-yellow border-t-transparent mx-auto"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(ye,{className:"h-6 w-6 text-primary-yellow"})})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Loading Course Preview"}),e.jsx("p",{className:"text-gray-600 mb-4",children:l?"Preparing your course preview...":"Loading course information..."}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse delay-75"}),e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse delay-150"})]}),l&&a&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Welcome, ",a.name||a.email,"!"]})]})}),!l&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Viewing as guest"})]})})]})});if(u)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md mx-4",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-6",children:"🚫"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Course Not Available"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't load this course preview. It might be temporarily unavailable or you don't have access to it."}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 mb-6",children:e.jsxs("p",{className:"text-sm text-red-600",children:["Error: ",u.message||"Failed to load course data"]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition-colors font-medium",children:"Try Again"}),e.jsx(k,{to:"/learn",className:"bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Browse Other Courses"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-500",children:"If this problem persists, please contact support"})})]})});const s=r==null?void 0:r.data,E=B(),g=m=>{switch(m){case 0:return"Beginner";case 1:return"Intermediate";case 2:return"Advanced";default:return"Unknown"}},C=(s==null?void 0:s.moduleCourseDetailScreenResponseDTOs)&&s.moduleCourseDetailScreenResponseDTOs.length>0,F=T();return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("span",{className:"bg-primary-yellow text-white px-3 py-1 rounded-full text-sm font-medium",children:g(s==null?void 0:s.courseLevel)}),s!=null&&s.isPremium?e.jsx("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:"Premium"}):e.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:"Standard"}),(s==null?void 0:s.price)===0?e.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"Free"}):e.jsx("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:P(s.price)})]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:s==null?void 0:s.title}),e.jsx("p",{className:"text-lg text-gray-600 mb-6",children:s==null?void 0:s.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"w-5 h-5 text-primary-yellow"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(s==null?void 0:s.totalModule)||0," Modules"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"w-5 h-5 text-primary-yellow"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(s==null?void 0:s.courseCompletionPercentage)||0,"% Complete"]})]})]}),!C&&e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Course content is being prepared and will be available soon."})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:Q,disabled:F.disabled,className:`flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all ${(s==null?void 0:s.price)>0&&C?`${D.HIGHLIGHT_FRAME} text-white shadow-lg`:D.HIGHLIGHT_FRAME} disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(fe,{className:"w-5 h-5"}),e.jsx("span",{children:F.text})]}),!l&&e.jsxs(k,{to:"/learn",className:"flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium border-2 border-gray-300 text-gray-700 hover:border-primary-yellow hover:text-primary-yellow transition-all",children:[e.jsx(v,{className:"w-5 h-5"}),e.jsx("span",{children:"Browse All Courses"})]})]}),f&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:"Failed to enroll. Please try again."})}),y&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-green-600 border-t-transparent"}),e.jsx("p",{className:"text-sm text-green-600",children:"✅ Successfully enrolled! Refreshing page..."})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:(s==null?void 0:s.coverImageUrl)||Oe.courses.asia.bhimbetkaRockArt,alt:s==null?void 0:s.title,className:"w-full h-80 object-cover rounded-lg shadow-lg"}),(s==null?void 0:s.price)>0&&e.jsx("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:P(s.price)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Course Price"})]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:e.jsx(ee,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Course Goals"})]}),e.jsx("p",{className:"text-gray-600",children:$()})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:e.jsx(We,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Certification"})]}),e.jsxs("p",{className:"text-gray-600",children:["Earn a certificate upon successful completion of all"," ",s==null?void 0:s.totalModule," modules"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:e.jsx(v,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Course Level"})]}),e.jsxs("p",{className:"text-gray-600",children:[g(s==null?void 0:s.courseLevel)," level course designed for comprehensive learning"]})]})]}),E&&E.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"What You'll Learn"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map((m,N)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-1 mt-1",children:e.jsx(S,{className:"w-4 h-4 text-green-600"})}),e.jsx("span",{className:"text-gray-700",children:m})]},N))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Complete Course Content"}),C?e.jsx("div",{className:"space-y-4",children:s.moduleCourseDetailScreenResponseDTOs.map((m,N)=>{var G,U;return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 p-4 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-primary-yellow text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-medium",children:N+1}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:m.moduleTitle}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Module ",N+1," of ",s.totalModule]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[((G=m.subModuleCourseDetailScreenResponseDTOs)==null?void 0:G.length)||0," ","lessons"]})})]})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:(U=m.subModuleCourseDetailScreenResponseDTOs)==null?void 0:U.map((_,q)=>{var W;return e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-gray-500 w-6",children:[N+1,".",q+1]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:_.subModuleTitle}),e.jsxs("p",{className:"text-xs text-gray-600",children:[((W=_.learningContentDetailScreenResponseDTOs)==null?void 0:W.length)||0," ","learning contents"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:!l&&e.jsx(Xe,{className:"w-4 h-4 text-gray-400"})})]},`${m.moduleId}-${q}`)})})})]},m.moduleId)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(be,{size:40,className:"text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Course Content Not Available"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"The course modules and lessons are currently being prepared. Please check back soon for the complete learning experience."}),e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-orange-100 rounded-full text-sm text-orange-700",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full mr-2 animate-pulse"}),"Content Coming Soon"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Course Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{className:"text-gray-700",children:[s==null?void 0:s.totalModule," comprehensive modules"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{className:"text-gray-700",children:[g(s==null?void 0:s.courseLevel)," level content"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Interactive learning experience"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Progress tracking and analytics"})]}),(s==null?void 0:s.isPremium)&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Premium course content"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Certificate of completion"})]})]})]}),!l&&e.jsxs("div",{className:"bg-gradient-to-r from-primary-yellow to-orange-400 rounded-lg p-8 text-white text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Start Learning?"}),e.jsx("p",{className:"text-lg mb-6 opacity-90",children:C?`Join thousands of students and explore ${s==null?void 0:s.title}!`:`Be the first to know when ${s==null?void 0:s.title} content becomes available!`}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:C?e.jsxs(e.Fragment,{children:[e.jsx(k,{to:"/signin",className:`inline-block ${D.HIGHLIGHT_FRAME} px-8 py-3 rounded-lg font-medium  transition-colors`,children:(s==null?void 0:s.price)===0?"Get Started":`Purchase for ${P(s.price)}`}),e.jsx(k,{to:"/learn",className:"inline-block border-2 border-white text-white px-8 py-3 rounded-lg font-medium hover:bg-white hover:text-primary-yellow transition-colors",children:"Browse All Courses"})]}):e.jsx(k,{to:"/learn",className:"inline-block bg-white text-primary-yellow px-8 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Browse Available Courses"})})]})]})}function ds(){var d;const{courseId:o}=Be(),{user:l,isAuthenticated:h}=re(),{getUserLearningProgress:a}=te(),{data:c,isLoading:r,error:n}=a(l==null?void 0:l.id,o);if(console.log("User ID:",l==null?void 0:l.id),console.log("Learning Progress Data:",c),r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md mx-4",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary-yellow border-t-transparent mx-auto"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(v,{className:"h-6 w-6 text-primary-yellow"})})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Loading Course Information"}),e.jsx("p",{className:"text-gray-600 mb-4",children:h?"Checking your enrollment status...":"Preparing course details..."}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse delay-75"}),e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse delay-150"})]}),h&&l&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Welcome back, ",l.name||l.email,"!"]})]})})]})});if(n)return console.error("Error fetching learning progress:",n),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md mx-4",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-6",children:"⚠️"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Unable to Load Course Data"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"There was an issue checking your enrollment status. We'll show you the course as a guest."}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-sm text-blue-700",children:"Redirecting to guest view..."})})]})});const u=((d=c==null?void 0:c.data)==null?void 0:d.learningStatus)===1;return h&&u?e.jsx(rs,{courseId:o,learningProgress:c==null?void 0:c.data}):e.jsx(os,{courseId:o,isAuthenticated:h})}function vs(){return e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"max-w-7xl mx-auto flex flex-col gap-6",children:e.jsx(ds,{})})})}export{vs as default};
