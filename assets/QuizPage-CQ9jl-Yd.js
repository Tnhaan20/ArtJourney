import{k as Q,l as $,r as l,j as e,I as H,e as L,C as M,a4 as D,a5 as P,H as x,T as y,a6 as B}from"./index-DMm_4y0p.js";import{P as G}from"./progress-Dyv-b_P-.js";function R(){const{courseId:r,moduleId:a}=Q(),E=$(),[i,j]=l.useState(0),[d,g]=l.useState(null),[n,f]=l.useState(!1),[c,w]=l.useState(0),[v,u]=l.useState(600),[b,N]=l.useState(!1),[s,C]=l.useState(null),[p,q]=l.useState(!0);l.useEffect(()=>{(()=>{q(!0),console.log(`Fetching quiz data for course: ${r}, module: ${a}`),setTimeout(()=>{const o={1:{1:{title:"Early Christian Art Quiz",description:"Test your knowledge about Early Christian Art and its characteristics.",timeLimit:600,passingScore:80,questions:[{id:1,question:"Which of the following was a common symbol in Early Christian Art?",options:[{id:"a",text:"Fish (Ichthys)"},{id:"b",text:"Eagle"},{id:"c",text:"Lion"},{id:"d",text:"Dragon"}],correctAnswer:"a",explanation:"The fish (Ichthys) was one of the most important symbols in Early Christian art, representing Christ through the Greek acronym for 'Jesus Christ, Son of God, Savior'."},{id:2,question:"Where can most surviving examples of early Christian art be found?",options:[{id:"a",text:"Constantinople"},{id:"b",text:"The Catacombs of Rome"},{id:"c",text:"Jerusalem"},{id:"d",text:"Athens"}],correctAnswer:"b",explanation:"The Catacombs of Rome contain most of the surviving examples of early Christian art, as these underground burial chambers were decorated with Christian symbols and scenes."},{id:3,question:"What is the oldest surviving church building?",options:[{id:"a",text:"The Hagia Sophia"},{id:"b",text:"St. Peter's Basilica"},{id:"c",text:"The Dura-Europos church"},{id:"d",text:"The Church of the Holy Sepulchre"}],correctAnswer:"c",explanation:"The Dura-Europos church in Syria is considered the oldest surviving church building, dating back to the 3rd century CE."},{id:4,question:"What was a key characteristic of Early Christian art?",options:[{id:"a",text:"Detailed portraits of Jesus"},{id:"b",text:"Use of symbolism rather than direct representation"},{id:"c",text:"Extensive use of gold leaf"},{id:"d",text:"3D sculptural elements"}],correctAnswer:"b",explanation:"Early Christian art often used symbolism rather than direct representation, partly to avoid idolatry concerns and also as a way to convey complex theological ideas."},{id:5,question:"When did Early Christian art primarily develop?",options:[{id:"a",text:"1st-3rd centuries CE"},{id:"b",text:"2nd-6th centuries CE"},{id:"c",text:"7th-10th centuries CE"},{id:"d",text:"11th-13th centuries CE"}],correctAnswer:"b",explanation:"Early Christian art developed primarily from the 2nd to the early 6th century CE, beginning in the late Roman Empire and continuing into the early Byzantine period."}]},2:{title:"Byzantine Art Quiz",description:"Test your knowledge of Byzantine art forms and history.",timeLimit:600,passingScore:75,questions:[{id:1,question:"Which building is considered the greatest achievement of Byzantine architecture?",options:[{id:"a",text:"St. Peter's Basilica"},{id:"b",text:"Hagia Sophia"},{id:"c",text:"Notre Dame Cathedral"},{id:"d",text:"Pantheon"}],correctAnswer:"b",explanation:"The Hagia Sophia in Constantinople (modern Istanbul) is considered the greatest achievement of Byzantine architecture, known for its massive dome and innovative design."}]}},2:{1:{title:"Impressionism Quiz",description:"Test your knowledge of Impressionist painters and techniques.",timeLimit:500,passingScore:70,questions:[{id:1,question:"Which artist is considered the founder of Impressionism?",options:[{id:"a",text:"Vincent van Gogh"},{id:"b",text:"Claude Monet"},{id:"c",text:"Pablo Picasso"},{id:"d",text:"Salvador Dalí"}],correctAnswer:"b",explanation:"Claude Monet is widely considered the founder of the Impressionist movement, particularly with his painting 'Impression, Sunrise' which gave the movement its name."}]}}};if(o[r]&&o[r][a]){const m=o[r][a];C(m),u(m.timeLimit)}else console.log("Specific quiz not found, using generic quiz"),C({title:`Course ${r} - Module ${a} Quiz`,description:"Test your knowledge from this module.",timeLimit:600,passingScore:80,questions:[{id:1,question:`Sample question for Course ${r}, Module ${a}`,options:[{id:"a",text:"Option A"},{id:"b",text:"Option B"},{id:"c",text:"Option C"},{id:"d",text:"Option D"}],correctAnswer:"a",explanation:"This is an explanation for the correct answer."}]}),u(600);q(!1)},1e3)})()},[r,a]),l.useEffect(()=>{if(p||b)return;const t=setInterval(()=>{u(o=>o<=1?(clearInterval(t),S(),0):o-1)},1e3);return()=>clearInterval(t)},[p,b]);const I=t=>{n||g(t)},T=()=>{if(d===null){B({title:"Selection required",description:"Please select an answer before submitting.",variant:"destructive"});return}f(!0);const t=s.questions[i];d===t.correctAnswer&&w(c+1)},k=()=>{i<s.questions.length-1?(j(i+1),g(null),f(!1)):S()},S=()=>{N(!0)},A=t=>{const o=Math.floor(t/60),m=t%60;return`${o}:${m<10?"0":""}${m}`},h=(t,o)=>t/o*100,z=()=>{E(`/learn/course/${r}/module/${a}`)};return p?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"w-full max-w-2xl p-8 bg-white rounded-lg shadow-lg",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-yellow mb-4"}),e.jsxs("p",{className:"text-gray-600",children:["Loading quiz for Course ",r,", Module ",a,"..."]})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsx("div",{className:"container mx-auto",children:b?e.jsxs("div",{className:"w-full max-w-2xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-amber-50 p-6 border-b border-amber-100",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Quiz Complete"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Here's how you did!"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Course ",r," • Module ",a]})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-amber-100 mb-4",children:e.jsxs("span",{className:"text-3xl font-bold text-amber-700",children:[h(c,s.questions.length).toFixed(0),"%"]})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:h(c,s.questions.length)>=s.passingScore?"Congratulations!":"Almost there!"}),e.jsx("p",{className:"text-gray-600",children:h(c,s.questions.length)>=s.passingScore?"You passed the quiz successfully.":"You didn't quite reach the passing score. Consider reviewing the material and trying again."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Your Score"}),e.jsxs("span",{className:"font-medium text-gray-700",children:[c,"/",s.questions.length," questions"]})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Passing Score"}),e.jsxs("span",{className:"font-medium text-gray-700",children:[s.passingScore,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Time Spent"}),e.jsx("span",{className:"font-medium text-gray-700",children:A(s.timeLimit-v)})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(x,{onClick:z,className:`${y.HIGHLIGHT_FRAME} px-6 py-2`,children:"Return to Module"}),h(c,s.questions.length)<s.passingScore&&e.jsx(x,{onClick:()=>{j(0),g(null),f(!1),w(0),u(s.timeLimit),N(!1)},variant:"outline",className:"border-primary-yellow text-primary-yellow hover:bg-amber-50",children:"Try Again"})]})]})]}):e.jsxs("div",{className:"w-full max-w-2xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-amber-50 p-6 border-b border-amber-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("button",{onClick:z,className:"flex items-center text-primary-yellow hover:text-amber-600",children:[e.jsx(H,{size:16,className:"mr-1"}),e.jsx("span",{children:"Back to Module"})]}),e.jsxs("div",{className:"flex items-center text-amber-700 bg-amber-100 px-3 py-1 rounded-full",children:[e.jsx(L,{size:16,className:"mr-2"}),e.jsx("span",{className:"font-medium",children:A(v)})]})]}),e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:s.title}),e.jsx("p",{className:"text-gray-600 mt-1",children:s.description}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Course ",r," • Module ",a]})]}),e.jsxs("div",{className:"p-4 bg-white border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1 text-sm text-gray-600",children:[e.jsxs("span",{children:["Question ",i+1," of"," ",s.questions.length]}),e.jsxs("span",{children:["Score: ",c,"/",i+(n?1:0)]})]}),e.jsx(G,{value:i/s.questions.length*100,className:"h-2 bg-gray-200",children:e.jsx("div",{className:"h-full bg-primary-yellow rounded-full",style:{width:`${i/s.questions.length*100}%`}})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:s.questions[i].question}),e.jsx("div",{className:"space-y-3",children:s.questions[i].options.map(t=>e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${d===t.id?n?t.id===s.questions[i].correctAnswer?"bg-green-50 border-green-300":"bg-red-50 border-red-300":"bg-amber-50 border-amber-300":"border-gray-200 hover:border-amber-300"}`,onClick:()=>I(t.id),children:e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"flex-shrink-0 mt-0.5",children:[n&&t.id===s.questions[i].correctAnswer&&e.jsx(M,{className:"h-5 w-5 text-green-600"}),n&&d===t.id&&t.id!==s.questions[i].correctAnswer&&e.jsx(D,{className:"h-5 w-5 text-red-600"}),(!n||n&&t.id!==s.questions[i].correctAnswer&&d!==t.id)&&e.jsx("div",{className:`h-5 w-5 border rounded-full flex items-center justify-center ${d===t.id?"border-primary-yellow bg-amber-50":"border-gray-300"}`,children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:t.id.toUpperCase()})})]}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:`text-sm font-medium ${n?t.id===s.questions[i].correctAnswer?"text-green-800":d===t.id?"text-red-800":"text-gray-800":"text-gray-800"}`,children:t.text})})]})},t.id))}),n&&e.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-100 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx(P,{className:"h-5 w-5 text-blue-600 mr-2 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Explanation"}),e.jsx("p",{className:"text-sm text-blue-700",children:s.questions[i].explanation})]})]})}),e.jsx("div",{className:"mt-8 flex justify-end",children:n?e.jsx(x,{onClick:k,className:`${y.HIGHLIGHT_FRAME} px-6 py-2`,children:i<s.questions.length-1?"Next Question":"Finish Quiz"}):e.jsx(x,{onClick:T,className:`${y.HIGHLIGHT_FRAME} px-6 py-2`,disabled:d===null,children:"Submit Answer"})})]})]})})})}function O(){return e.jsx(R,{})}export{O as default};
