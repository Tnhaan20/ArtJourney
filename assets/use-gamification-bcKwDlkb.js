import{c as G,v as L,w as re,x as ne,y as S,z as P,ai as F}from"./index-BQxv_bNp.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],me=G("medal",ae);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ge=G("target",ie);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],ye=G("timer",oe);var I={},q={},z;function $(){if(z)return q;z=1,Object.defineProperty(q,"__esModule",{value:!0});var a=function(o,r){var c=o.indexOf("#")===0?o.substring(1):o,s=c?"#"+c:"",u=window&&window.location,d=s?u.pathname+u.search+s:u.pathname+u.search;r?history.pushState(history.state,"",d):history.replaceState(history.state,"",d)},e=function(){return window.location.hash.replace(/^#/,"")},g=function(o){return function(r){return o.contains?o!=r&&o.contains(r):!!(o.compareDocumentPosition(r)&16)}},f=function(o){return getComputedStyle(o).position!=="static"},m=function(o,r){for(var c=o.offsetTop,s=o.offsetParent;s&&!r(s);)c+=s.offsetTop,s=s.offsetParent;return{offsetTop:c,offsetParent:s}},w=function(o,r,c){if(c)return o===document?r.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(o).position!=="static"?r.offsetLeft:r.offsetLeft-o.offsetLeft;if(o===document)return r.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(f(o)){if(r.offsetParent!==o){var s=function(E){return E===o||E===document},u=m(r,s),d=u.offsetTop,h=u.offsetParent;if(h!==o)throw new Error("Seems containerElement is not an ancestor of the Element");return d}return r.offsetTop}if(r.offsetParent===o.offsetParent)return r.offsetTop-o.offsetTop;var C=function(E){return E===document};return m(r,C).offsetTop-m(o,C).offsetTop};return q.default={updateHash:a,getHash:e,filterElementInContainer:g,scrollOffset:w},q}var M={},k={},D;function se(){return D||(D=1,Object.defineProperty(k,"__esModule",{value:!0}),k.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}),k}var H={},b={},K;function ue(){if(K)return b;K=1,Object.defineProperty(b,"__esModule",{value:!0}),b.addPassiveEventListener=function(g,f,m){var w=m.name;w||(w=f,console.warn("Listener must be a named function.")),a.has(f)||a.set(f,new Set);var y=a.get(f);if(!y.has(w)){var o=function(){var r=!1;try{var c=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,c)}catch{}return r}();g.addEventListener(f,m,o?{passive:!0}:!1),y.add(w)}},b.removePassiveEventListener=function(g,f,m){g.removeEventListener(f,m),a.get(f).delete(m.name||f)};var a=new Map;return b}var Y;function ce(){if(Y)return H;Y=1,Object.defineProperty(H,"__esModule",{value:!0});var a=ue(),e=["mousedown","wheel","touchmove","keydown"];return H.default={subscribe:function(f){return typeof document<"u"&&e.forEach(function(m){return(0,a.addPassiveEventListener)(document,m,f)})}},H}var Q={},X;function V(){if(X)return Q;X=1,Object.defineProperty(Q,"__esModule",{value:!0});var a={registered:{},scrollEvent:{register:function(g,f){a.registered[g]=f},remove:function(g){a.registered[g]=null}}};return Q.default=a,Q}var j;function le(){if(j)return M;j=1,Object.defineProperty(M,"__esModule",{value:!0});var a=Object.assign||function(l){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var v in t)Object.prototype.hasOwnProperty.call(t,v)&&(l[v]=t[v])}return l},e=$();r(e);var g=se(),f=r(g),m=ce(),w=r(m),y=V(),o=r(y);function r(l){return l&&l.__esModule?l:{default:l}}var c=function(n){return f.default[n.smooth]||f.default.defaultEasing},s=function(n){return typeof n=="function"?n:function(){return n}},u=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},d=function(){return u()||function(l,n,t){window.setTimeout(l,t||1e3/60,new Date().getTime())}}(),h=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},C=function(n){var t=n.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollLeft;var v=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return v?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft},T=function(n){var t=n.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollTop;var v=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return v?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop},E=function(n){var t=n.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollWidth-t.offsetWidth;var v=document.body,i=document.documentElement;return Math.max(v.scrollWidth,v.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)},R=function(n){var t=n.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollHeight-t.offsetHeight;var v=document.body,i=document.documentElement;return Math.max(v.scrollHeight,v.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)},_=function l(n,t,v){var i=t.data;if(!t.ignoreCancelEvents&&i.cancel){o.default.registered.end&&o.default.registered.end(i.to,i.target,i.currentPositionY);return}if(i.delta=Math.round(i.targetPosition-i.startPosition),i.start===null&&(i.start=v),i.progress=v-i.start,i.percent=i.progress>=i.duration?1:n(i.progress/i.duration),i.currentPosition=i.startPosition+Math.ceil(i.delta*i.percent),i.containerElement&&i.containerElement!==document&&i.containerElement!==document.body?t.horizontal?i.containerElement.scrollLeft=i.currentPosition:i.containerElement.scrollTop=i.currentPosition:t.horizontal?window.scrollTo(i.currentPosition,0):window.scrollTo(0,i.currentPosition),i.percent<1){var W=l.bind(null,n,t);d.call(window,W);return}o.default.registered.end&&o.default.registered.end(i.to,i.target,i.currentPosition)},B=function(n){n.data.containerElement=n?n.containerId?document.getElementById(n.containerId):n.container&&n.container.nodeType?n.container:document:null},p=function(n,t,v,i){t.data=t.data||h(),window.clearTimeout(t.data.delayTimeout);var W=function(){t.data.cancel=!0};if(w.default.subscribe(W),B(t),t.data.start=null,t.data.cancel=!1,t.data.startPosition=t.horizontal?C(t):T(t),t.data.targetPosition=t.absolute?n:n+t.data.startPosition,t.data.startPosition===t.data.targetPosition){o.default.registered.end&&o.default.registered.end(t.data.to,t.data.target,t.data.currentPosition);return}t.data.delta=Math.round(t.data.targetPosition-t.data.startPosition),t.data.duration=s(t.duration)(t.data.delta),t.data.duration=isNaN(parseFloat(t.data.duration))?1e3:parseFloat(t.data.duration),t.data.to=v,t.data.target=i;var te=c(t),N=_.bind(null,te,t);if(t&&t.delay>0){t.data.delayTimeout=window.setTimeout(function(){o.default.registered.begin&&o.default.registered.begin(t.data.to,t.data.target),d.call(window,N)},t.delay);return}o.default.registered.begin&&o.default.registered.begin(t.data.to,t.data.target),d.call(window,N)},A=function(n){return n=a({},n),n.data=n.data||h(),n.absolute=!0,n},J=function(n){p(0,A(n))},Z=function(n,t){p(n,A(t))},x=function(n){n=A(n),B(n),p(n.horizontal?E(n):R(n),n)},ee=function(n,t){t=A(t),B(t);var v=t.horizontal?C(t):T(t);p(n+v,t)};return M.default={animateTopScroll:p,getAnimationType:c,scrollToTop:J,scrollToBottom:x,scrollTo:Z,scrollMore:ee},M}var U;function de(){if(U)return I;U=1,Object.defineProperty(I,"__esModule",{value:!0});var a=Object.assign||function(s){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(s[h]=d[h])}return s},e=$(),g=o(e),f=le(),m=o(f),w=V(),y=o(w);function o(s){return s&&s.__esModule?s:{default:s}}var r={},c=void 0;return I.default={unmount:function(){r={}},register:function(u,d){r[u]=d},unregister:function(u){delete r[u]},get:function(u){return r[u]||document.getElementById(u)||document.getElementsByName(u)[0]||document.getElementsByClassName(u)[0]},setActiveLink:function(u){return c=u},getActiveLink:function(){return c},scrollTo:function(u,d){var h=this.get(u);if(!h){console.warn("target Element not found");return}d=a({},d,{absolute:!1});var C=d.containerId,T=d.container,E=void 0;C?E=document.getElementById(C):T&&T.nodeType?E=T:E=document,d.absolute=!0;var R=d.horizontal,_=g.default.scrollOffset(E,h,R)+(d.offset||0);if(!d.smooth){y.default.registered.begin&&y.default.registered.begin(u,h),E===document?d.horizontal?window.scrollTo(_,0):window.scrollTo(0,_):E.scrollTop=_,y.default.registered.end&&y.default.registered.end(u,h);return}m.default.animateTopScroll(_,d,u,h)}},I}de();const O={post:{createChallenge:async a=>(await L.post("/Challenge/api/challenges",a)).data,createChallengeSession:async a=>(await L.post("/game/sessions",a)).data,createArtworks:async a=>(await L.post("/challenge/artworks",a)).data,createArtworkDetail:async a=>(await L.post("/challenge/artwork-details",a)).data},get:{getChallengeByCourse:async a=>(await L.get(`/Challenge/api/challenges/course/${a}`)).data,getChallengeById:async a=>(await L.get(`/Challenge/${a}`)).data}},he=()=>{const{toast:a}=re(),e=new ne,g=S({mutationKey:[P.CHALLENGE.CREATE_CHALLENGE],mutationFn:async r=>await O.post.createChallenge(r),onSuccess:async r=>{a({title:"Challenge created successfully",description:r.message,variant:"success"})},onError:async r=>{var c,s,u;a({title:"Region creation failed",description:(u=(s=(c=r.response)==null?void 0:c.data)==null?void 0:s.errors)==null?void 0:u[0].message,variant:"destructive"})},onSettled:()=>{e.invalidateQueries({queryKey:[P.CHALLENGE.GET_ALL_CHALLENGES]})}}),f=S({mutationKey:[P.CHALLENGE.CREATE_CHALLENGE_SESSION],mutationFn:async r=>await O.post.createChallengeSession(r),onSuccess:async r=>{a({title:"Session created successfully",description:r.message,variant:"success"})},onError:async r=>{var c,s,u;a({title:"Session creation failed",description:(u=(s=(c=r.response)==null?void 0:c.data)==null?void 0:s.errors)==null?void 0:u[0].message,variant:"destructive"})}}),m=S({mutationKey:[P.CHALLENGE.CREATE_ARTWORKS],mutationFn:async r=>await O.post.createArtworks(r),onSuccess:async r=>{a({title:"Artwork created successfully",description:r.message,variant:"success"})},onError:async r=>{var c,s,u;a({title:"Artwork creation failed",description:(u=(s=(c=r.response)==null?void 0:c.data)==null?void 0:s.errors)==null?void 0:u[0].message,variant:"destructive"})}}),w=S({mutationKey:[P.CHALLENGE.CREATE_ARTWORK_DETAIL],mutationFn:async r=>await O.post.createArtworkDetail(r),onSuccess:async r=>{a({title:"Artwork detail created successfully",description:r.message,variant:"success"})},onError:async r=>{var c,s,u;a({title:"Artwork detail creation failed",description:(u=(s=(c=r.response)==null?void 0:c.data)==null?void 0:s.errors)==null?void 0:u[0].message,variant:"destructive"})}});return{createChallengeMutation:g,getChallengeById:r=>F({queryKey:[P.CHALLENGE.GET_CHALLENGE_BY_ID,r],queryFn:async()=>await O.get.getChallengeById(r),enabled:!!r,refetchOnWindowFocus:!1,retry:!1}),getChallengeByCourse:r=>F({queryKey:[P.CHALLENGE.GET_CHALLENGE_BY_COURSE,r],queryFn:async()=>await O.get.getChallengeByCourse(r),enabled:!!r,refetchOnWindowFocus:!1,retry:!1}),createSession:f,createArtwork:m,createArtworkDetail:w}};export{me as M,ge as T,ye as a,he as u};
