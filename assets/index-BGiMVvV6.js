import{d as g,ai as E,c as G,l as R,r as f,j as e,I as m,aa as x,ab as h,ad as u,J as B,Y as l,T as y,aj as Y,as as $,x as _}from"./index-DswT0pIj.js";import{m as a,R as b}from"./proxy-CCclPvbw.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],J=g("credit-card",F);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],N=g("house",O);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],H=g("triangle-alert",V);function D(){const[o]=E(),r=G(),{amount:w}=R(),[d,v]=f.useState("loading"),[s,P]=f.useState(null),[L,I]=f.useState(!0);f.useEffect(()=>{(async()=>{try{I(!0);const i=o.get("code"),j=o.get("id"),k=o.get("cancel"),c=o.get("status"),A=o.get("orderCode"),S=w||"0";console.log("Payment callback parameters:",{code:i,paymentId:j,cancel:k,paymentStatus:c,orderCode:A,amount:S}),await new Promise(T=>setTimeout(T,2e3));let n="success";k==="true"||c==="CANCELLED"?n="cancelled":c==="PAID"?n="success":c==="PENDING"?n="pending":c==="PROCESSING"?n="processing":i==="00"?n="success":n="failed",v(n),P({transactionId:j||"N/A",orderId:A||"N/A",amount:S||"0",paymentMethod:"PayOS",message:M(n,c,i),timestamp:new Date().toISOString(),code:i,rawStatus:c})}catch(i){console.error("Error processing payment callback:",i),v("failed"),P({message:"An error occurred while processing your payment",timestamp:new Date().toISOString()})}finally{I(!1)}})()},[o,w]);const M=(t,i,j)=>{switch(t){case"success":return"Payment completed successfully";case"cancelled":return"Payment was cancelled by user";case"pending":return"Payment is pending confirmation";case"processing":return"Payment is being processed";case"failed":return j==="01"?"Invalid payment parameters":"Payment processing failed";default:return`Payment status: ${i||"Unknown"}`}},p=t=>!t||t==="0"?"0 VND":new Intl.NumberFormat("vi-VN").format(parseInt(t))+" VND",C=t=>{switch(t==null?void 0:t.toLowerCase()){case"momo":return"MoMo";case"zalopay":return"Zalo PAY";case"vnpay":return"VNPAY";default:return t||"Unknown"}};return L||d==="loading"?e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-primary-white to-secondary-yellow px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:m.main_logo.artjourney_logo,alt:"ArtJourney Logo",className:"h-12"})})}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsxs(x,{className:"border-none shadow-lg overflow-hidden",children:[e.jsx("div",{className:"h-2 bg-gradient-to-r from-primary-yellow via-secondary-yellow to-third-yellow"}),e.jsx(h,{className:"bg-white pt-6 pb-4",children:e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800",children:"Processing Payment"})}),e.jsx(u,{className:"bg-white px-6 pt-4 pb-6",children:e.jsxs("div",{className:"text-center py-10",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-primary-yellow/20 rounded-full"}),e.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-primary-yellow border-t-transparent rounded-full animate-spin"})]})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Verifying your payment..."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please wait while we confirm your transaction"})]})})]})})]})}):d==="success"?e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-primary-white to-secondary-yellow px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:m.main_logo.artjourney_logo,alt:"ArtJourney Logo",className:"h-12"})})}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsxs(x,{className:"border-none shadow-lg overflow-hidden",children:[e.jsx("div",{className:"h-2 bg-gradient-to-r from-green-400 via-green-500 to-green-600"}),e.jsx(h,{className:"bg-white pt-6 pb-4",children:e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800",children:"Payment Successful"})}),e.jsxs(u,{className:"bg-white px-6 pt-4 pb-6",children:[e.jsxs(a.div,{className:"text-center py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsxs("div",{className:"relative mx-auto w-24 h-24 mb-6",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-green-100 animate-pulse"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(B,{className:"h-12 w-12 text-green-600"})})]}),e.jsx("h2",{className:"text-xl font-bold text-green-600 mb-2",children:"Payment Completed Successfully!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for your purchase. Your subscription is now active."}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Payment Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[(s==null?void 0:s.transactionId)&&s.transactionId!=="N/A"&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),e.jsx("span",{className:"font-medium text-gray-800",children:s.transactionId})]}),(s==null?void 0:s.orderId)&&s.orderId!=="N/A"&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Order ID:"}),e.jsx("span",{className:"font-medium text-gray-800",children:s.orderId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Amount:"}),e.jsx("span",{className:"font-medium text-gray-800",children:p(s==null?void 0:s.amount)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),e.jsx("span",{className:"font-medium text-gray-800",children:C(s==null?void 0:s.paymentMethod)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Date:"}),e.jsx("span",{className:"font-medium text-gray-800",children:new Date().toLocaleDateString("vi-VN")})]})]})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"You can now access all course content and features."})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(l,{onClick:()=>r("/learn"),className:`w-full ${y.HIGHLIGHT_FRAME}`,children:e.jsxs("span",{className:"flex items-center justify-center",children:["Start Learning ",e.jsx(Y,{className:"ml-2 h-4 w-4"})]})}),e.jsx(l,{variant:"outline",onClick:()=>r("/"),className:"w-full border-amber-500 text-amber-600 hover:bg-amber-50",children:e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})]})]})})]})}):d==="failed"?e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-primary-white to-secondary-yellow px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:m.main_logo.artjourney_logo,alt:"ArtJourney Logo",className:"h-12"})})}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsxs(x,{className:"border-none shadow-lg overflow-hidden",children:[e.jsx("div",{className:"h-2 bg-gradient-to-r from-red-400 via-red-500 to-red-600"}),e.jsx(h,{className:"bg-white pt-6 pb-4",children:e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800",children:"Payment Failed"})}),e.jsxs(u,{className:"bg-white px-6 pt-4 pb-6",children:[e.jsxs(a.div,{className:"text-center py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsxs("div",{className:"relative mx-auto w-24 h-24 mb-6",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-red-100 animate-pulse"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx($,{className:"h-12 w-12 text-red-600"})})]}),e.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Payment Could Not Be Processed"}),e.jsx("p",{className:"text-gray-600 mb-6",children:(s==null?void 0:s.message)||"There was an issue processing your payment. Please try again."}),s&&e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 mb-6 text-left border border-red-200",children:[e.jsxs("h3",{className:"font-semibold text-red-800 mb-3 flex items-center",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Error Details"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[s.transactionId&&s.transactionId!=="N/A"&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-red-600",children:"Transaction ID:"}),e.jsx("span",{className:"font-medium text-red-800",children:s.transactionId})]}),s.orderId&&s.orderId!=="N/A"&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-red-600",children:"Order ID:"}),e.jsx("span",{className:"font-medium text-red-800",children:s.orderId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-red-600",children:"Attempted Amount:"}),e.jsx("span",{className:"font-medium text-red-800",children:p(s.amount)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-red-600",children:"Payment Method:"}),e.jsx("span",{className:"font-medium text-red-800",children:C(s.paymentMethod)})]})]})]}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"No charges have been made to your account. You can try again or contact support."})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(l,{onClick:()=>r(-1),className:`w-full ${y.HIGHLIGHT_FRAME}`,children:e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Try Again"]})}),e.jsx(l,{variant:"outline",onClick:()=>r("/"),className:"w-full border-gray-300 text-gray-600 hover:bg-gray-50",children:e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})]})]})})]})}):d==="cancelled"?e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-primary-white to-secondary-yellow px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:m.main_logo.artjourney_logo,alt:"ArtJourney Logo",className:"h-12"})})}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsxs(x,{className:"border-none shadow-lg overflow-hidden",children:[e.jsx("div",{className:"h-2 bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600"}),e.jsx(h,{className:"bg-white pt-6 pb-4",children:e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800",children:"Payment Cancelled"})}),e.jsxs(u,{className:"bg-white px-6 pt-4 pb-6",children:[e.jsxs(a.div,{className:"text-center py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsxs("div",{className:"relative mx-auto w-24 h-24 mb-6",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-yellow-100 animate-pulse"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(H,{className:"h-12 w-12 text-yellow-600"})})]}),e.jsx("h2",{className:"text-xl font-bold text-yellow-600 mb-2",children:"Payment Was Cancelled"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You cancelled the payment process. No charges have been made."}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"You can return to complete your purchase anytime."})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(l,{onClick:()=>r(-1),className:`w-full ${y.HIGHLIGHT_FRAME}`,children:e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Complete Payment"]})}),e.jsx(l,{variant:"outline",onClick:()=>r("/learn"),className:"w-full border-gray-300 text-gray-600 hover:bg-gray-50",children:e.jsx("span",{className:"flex items-center justify-center",children:"Browse Courses"})}),e.jsx(l,{variant:"outline",onClick:()=>r("/"),className:"w-full border-gray-300 text-gray-600 hover:bg-gray-50",children:e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})]})]})})]})}):d==="pending"?e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-primary-white to-secondary-yellow px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:m.main_logo.artjourney_logo,alt:"ArtJourney Logo",className:"h-12"})})}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsxs(x,{className:"border-none shadow-lg overflow-hidden",children:[e.jsx("div",{className:"h-2 bg-gradient-to-r from-blue-400 via-blue-500 to-blue-600"}),e.jsx(h,{className:"bg-white pt-6 pb-4",children:e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800",children:"Payment Pending"})}),e.jsxs(u,{className:"bg-white px-6 pt-4 pb-6",children:[e.jsxs(a.div,{className:"text-center py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsxs("div",{className:"relative mx-auto w-24 h-24 mb-6",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-100 animate-pulse"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(_,{className:"h-12 w-12 text-blue-600 animate-spin"})})]}),e.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:"Payment Pending Confirmation"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your payment is being verified. Please wait for confirmation."}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6 text-left border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-3",children:"Payment Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[(s==null?void 0:s.transactionId)&&s.transactionId!=="N/A"&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-600",children:"Transaction ID:"}),e.jsx("span",{className:"font-medium text-blue-800",children:s.transactionId})]}),(s==null?void 0:s.orderId)&&s.orderId!=="N/A"&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-600",children:"Order ID:"}),e.jsx("span",{className:"font-medium text-blue-800",children:s.orderId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-600",children:"Amount:"}),e.jsx("span",{className:"font-medium text-blue-800",children:p(s==null?void 0:s.amount)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-600",children:"Status:"}),e.jsx("span",{className:"font-medium text-blue-800",children:(s==null?void 0:s.rawStatus)||"PENDING"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(l,{onClick:()=>window.location.reload(),className:`w-full ${y.HIGHLIGHT_FRAME}`,children:e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Refresh Status"]})}),e.jsx(l,{variant:"outline",onClick:()=>r("/"),className:"w-full border-amber-500 text-amber-600 hover:bg-amber-50",children:e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})]})]})})]})}):d==="processing"?e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-primary-white to-secondary-yellow px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:m.main_logo.artjourney_logo,alt:"ArtJourney Logo",className:"h-12"})})}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsxs(x,{className:"border-none shadow-lg overflow-hidden",children:[e.jsx("div",{className:"h-2 bg-gradient-to-r from-purple-400 via-purple-500 to-purple-600"}),e.jsx(h,{className:"bg-white pt-6 pb-4",children:e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800",children:"Processing Payment"})}),e.jsxs(u,{className:"bg-white px-6 pt-4 pb-6",children:[e.jsxs(a.div,{className:"text-center py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsxs("div",{className:"relative mx-auto w-24 h-24 mb-6",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-purple-100 animate-pulse"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(_,{className:"h-12 w-12 text-purple-600 animate-spin"})})]}),e.jsx("h2",{className:"text-xl font-bold text-purple-600 mb-2",children:"Payment is Being Processed"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please wait while we process your payment. This may take a few moments."}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Do not close this window or refresh the page."})]}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(l,{onClick:()=>window.location.reload(),className:`w-full ${y.HIGHLIGHT_FRAME}`,children:e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Check Status"]})})})]})]})})]})}):null}function q(){return e.jsx(D,{})}export{q as default};
