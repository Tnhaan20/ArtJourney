import{d as me,p as W,q as Ee,b as xe,r as se,t as Oe,j as e,L as S,B as C,e as Ne,f as ve,T as L,k as F,M,v as Fe,w as Ge,x as U,g as Ue,y as We,R as _e,i as Ye,D as we,V as qe,c as Ve,E as Je,G as Ke,A as Xe,H as D,l as Ze,I as Qe}from"./index-3-wrpcgm.js";import{t as es}from"./team-member-1-B2-9RCyU.js";import{C as ss,P as Ce}from"./Completed-DVFoflNZ.js";import{u as ts}from"./use-leaderboard-CgHuAdGD.js";import{T as de,a as ke,M as as}from"./timer-BCkrvhcm.js";import{C as G}from"./crown-Cj1mtaLE.js";import{Z as Se}from"./zap-Clyg0YZ1.js";import{P as Ie}from"./play-VVfKVm8Y.js";import{u as rs}from"./use-payment-form-oMiLsy3S.js";import{C as Le}from"./circle-alert-DheCt0f2.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],ns=me("gamepad-2",ls);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Te=me("globe",is);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ds=me("lock",cs),os="/ArtJourney/assets/course-header-C5-n0iwu.png",ms=x=>{try{const l=JSON.parse(x);return typeof l!="object"||l===null?[]:Object.keys(l).filter(o=>o.startsWith("oc")).sort((o,a)=>{const r=parseInt(o.replace("oc",""),10),h=parseInt(a.replace("oc",""),10);return r-h}).map(o=>l[o]).filter(o=>o&&typeof o=="string"&&o.trim().length>0).map(o=>o.trim())}catch(l){return console.warn("Failed to parse learning outcomes JSON:",l),[]}},oe=(x,l=[])=>{if(Array.isArray(x)&&x.length>0)return x;if(typeof x=="string"&&x.trim()){const g=x.trim();if(g.startsWith("{")&&g.endsWith("}")){const a=ms(g);if(a.length>0)return a}const c=g.replace(/\r\n/g,`
`).replace(/\r/g,`
`);let o=[];return c.includes(`
`)&&(o=c.split(`
`).map(a=>a.trim()).filter(a=>a.length>0).map(a=>a.replace(/^[-•*]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(a=>a.length>0)),o.length===0&&c.includes(";")&&(o=c.split(";").map(a=>a.trim()).filter(a=>a.length>0)),o.length===0&&(o=c.split(/[•-]/).map(a=>a.trim()).filter(a=>a.length>0)),o.length===0&&(o=c.split(/\d+\./).map(a=>a.trim()).filter(a=>a.length>0)),o.length>0?o:[c]}return l};function xs(){const x=a=>{if(!a||typeof a!="string")return"0 hours";const r=a.split(":");if(r.length!==3)return"0 hours";const h=parseInt(r[0],10),m=parseInt(r[1],10),b=parseInt(r[2],10),f=h+m/60+b/3600;if(f===0)return"0 hours";if(f<1){const w=Math.round(m+b/60);return`${w} min${w!==1?"s":""}`}else{if(f<2)return m<30?"1 hour":"1.5 hours";{const w=Math.round(f*2)/2;return`${w} hour${w!==1?"s":""}`}}},l=a=>{if(!a||typeof a!="string")return 0;const r=a.split(":");if(r.length!==3)return 0;const h=parseInt(r[0],10)||0,m=parseInt(r[1],10)||0,b=parseInt(r[2],10)||0;return h+m/60+b/3600},g=a=>{let r;if(typeof a=="string"?r=l(a):r=a,!r||r<=0||isNaN(r))return"0 days";const h=r/24;if(h<1){const m=Math.round(r);return`${m} hour${m!==1?"s":""}`}else{if(h<2)return"1 day";{const m=Math.round(h*2)/2;return`${m} day${m!==1?"s":""}`}}},c=a=>{let r;if(typeof a=="string"?r=l(a):r=a,!r||r<=0||isNaN(r))return"0 weeks";const h=r/(24*7);if(h<.5){const m=Math.round(r/24);if(m<1){const b=Math.round(r);return`${b} hour${b!==1?"s":""}`}return`${m} day${m!==1?"s":""}`}else{if(h<1)return"1 week";{const m=Math.round(h*2)/2;return`${m} week${m!==1?"s":""}`}}};return{formatTimeToHours:x,formatHoursToDays:g,formatHoursToWeeks:c,formatTimeAutomatically:a=>{if(!a)return"0 hours";const r=l(a);return r===0||isNaN(r)?"0 hours":r<24?x(a):r<168?g(r):c(r)},timeStringToHours:l}}function hs({learningProgress:x,courseId:l}){var he,ge,pe,ue,je,be;const{getCoursesById:g}=W(),{getChallengeByCourse:c}=Ee(),{getLeaderboardByChallengeId:o}=ts(),{getCurrentUser:a}=xe(),[r,h]=se.useState({}),[m,b]=se.useState("course"),[f,w]=se.useState(null),{data:k,isLoading:_,error:Y}=g(l),{data:j,isLoading:te,error:ae}=c(l),{data:P,isLoading:re,error:I}=o(f),{user:p}=a(),{form:v,onSubmit:le,isLoading:t}=Oe(),{getReviewedCourse:A}=W(),{data:y,isLoading:T}=A(l),q=s=>{h(d=>({...d,[s]:!d[s]}))},V=s=>{switch(s){case"Drag&Drop":return e.jsx(ns,{size:20,className:"text-blue-500"});case"Quiz":return e.jsx(we,{size:20,className:"text-green-500"});case"Drawing":return e.jsx(Ce,{size:20,className:"text-purple-500"});default:return e.jsx(F,{size:20,className:"text-amber-500"})}},B=s=>{const d=Math.floor(s/60),u=s%60;return`${d}m ${u}s`},J=`
.radio {
  display: flex;
  justify-content: center;
  gap: 10px;
  flex-direction: row-reverse;
}

.radio > input {
  position: absolute;
  appearance: none;
}

.radio > label {
  cursor: pointer;
  font-size: 30px;
  position: relative;
  display: inline-block;
  transition: transform 0.3s ease;
}

.radio > label > svg {
  fill: #666;
  transition: fill 0.3s ease;
}

.radio > label::before,
.radio > label::after {
  content: "";
  position: absolute;
  width: 6px;
  height: 6px;
  background-color: #ff9e0b;
  border-radius: 50%;
  opacity: 0;
  transform: scale(0);
  transition: transform 0.4s ease, opacity 0.4s ease;
  animation: particle-explosion 1s ease-out;
}

.radio > label::before {
  top: -15px;
  left: 50%;
  transform: translateX(-50%) scale(0);
}

.radio > label::after {
  bottom: -15px;
  left: 50%;
  transform: translateX(-50%) scale(0);
}

.radio > label:hover::before,
.radio > label:hover::after {
  opacity: 1;
  transform: translateX(-50%) scale(1.5);
}

.radio > label:hover {
  transform: scale(1.2);
  animation: pulse 0.6s infinite alternate;
}

.radio > label:hover > svg,
.radio > label:hover ~ label > svg {
  fill: #ff9e0b;
  filter: drop-shadow(0 0 15px rgba(255, 158, 11, 0.9));
  animation: shimmer 1s ease infinite alternate;
}

.radio > input:checked + label > svg,
.radio > input:checked + label ~ label > svg {
  fill: #ff9e0b;
  filter: drop-shadow(0 0 15px rgba(255, 158, 11, 0.9));
  animation: pulse 0.8s infinite alternate;
}

@keyframes pulse {
  0% { transform: scale(1); }
  100% { transform: scale(1.1); }
}

@keyframes particle-explosion {
  0% { opacity: 0; transform: scale(0.5); }
  50% { opacity: 1; transform: scale(1.2); }
  100% { opacity: 0; transform: scale(0.5); }
}

@keyframes shimmer {
  0% { filter: drop-shadow(0 0 10px rgba(255, 158, 11, 0.5)); }
  100% { filter: drop-shadow(0 0 20px rgba(255, 158, 11, 1)); }
}

.radio > input:checked + label:hover > svg,
.radio > input:checked + label:hover ~ label > svg {
  fill: #e58e09;
}

.radio > label:hover > svg,
.radio > label:hover ~ label > svg {
  fill: #ff9e0b;
}

.radio input:checked ~ label svg {
  fill: #ffa723;
}
`,n=async s=>{try{const d={...s,courseId:parseInt(l),rating:parseInt(s.rating)};await le(d),v.reset()}catch(d){console.error("Review submission error:",d)}},N=s=>e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("div",{className:"ml-2 flex",children:Array.from({length:5},(d,u)=>e.jsx("svg",{className:`w-4 h-4 ${u<s?"text-amber-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},u))})}),$=v.watch(),K=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),X=s=>s.challengeSessions&&s.challengeSessions.length>0?{text:"Completed",color:"green",icon:e.jsx(as,{size:16,className:"text-green-600"})}:{text:"Not Started",color:"gray",icon:e.jsx(ve,{size:16,className:"text-gray-500"})},Z=s=>s.userChallengeHighestScores&&s.userChallengeHighestScores.length>0?Math.max(...s.userChallengeHighestScores.map(d=>d.score)):null,Q=s=>{switch(s){case 0:return{text:"Not Started",color:"gray"};case 1:return{text:"In Progress",color:"blue"};case 2:return{text:"Completed",color:"green"};default:return{text:"Not Started",color:"gray"}}},$e=s=>{switch(s){case 1:return e.jsx(C,{size:16,className:"text-blue-500"});case 2:return e.jsx(Ce,{size:16,className:"text-amber-500"});case 3:return e.jsx(qe,{size:16,className:"text-green-500"});default:return e.jsx(we,{size:16,className:"text-gray-500"})}},De=s=>s===2,Me=()=>{var u;if(!((u=k==null?void 0:k.data)!=null&&u.moduleCourseDetailScreenResponseDTOs))return 0;let s=0,d=0;return k.data.moduleCourseDetailScreenResponseDTOs.forEach(H=>{H.subModuleCourseDetailScreenResponseDTOs.forEach(z=>{z.learningContentDetailScreenResponseDTOs.forEach(ee=>{s++,ee.userLearningProgressStatus===2&&d++})})}),s>0?Math.round(d/s*100):0},Pe=s=>{let d=0,u=0;return s.subModuleCourseDetailScreenResponseDTOs.forEach(H=>{H.learningContentDetailScreenResponseDTOs.forEach(z=>{d++,z.userLearningProgressStatus===2&&u++})}),d>0?Math.round(u/d*100):0},Re=["Master fundamental art concepts and techniques","Develop critical thinking skills in art analysis","Understand historical and cultural contexts of artworks","Create your own artistic interpretations","Build a comprehensive art vocabulary","Appreciate diverse artistic styles and movements"],He=()=>{const s=i==null?void 0:i.learningOutcomes;return oe(s,Re)},ze=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ae=s=>s===1?"🥇":s===2?"🥈":s===3?"🥉":`#${s}`;if(_)return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50",children:e.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary-yellow border-t-transparent mx-auto mb-6"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Loading Your Course"}),e.jsx("p",{className:"text-gray-600",children:"Preparing your learning journey..."})]})});if(Y)return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-red-50 to-orange-50",children:e.jsxs("div",{className:"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-6",children:"⚠️"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6",children:Y.message||"Unable to load course details"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition-colors font-medium",children:"Try Again"})]})});const i=k==null?void 0:k.data,R=(j==null?void 0:j.data)||[],ne=(i==null?void 0:i.courseCompletionPercentage)||Me(),Be=(i==null?void 0:i.coverImageUrl)||os;p!=null&&p.name,p!=null&&p.avatarUrl||es;const ie=He();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex py-4","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex items-center space-x-3",children:[e.jsx("li",{children:e.jsxs(S,{to:"/learn",className:"text-primary-yellow hover:text-secondary-yellow font-medium transition-colors flex items-center",children:[e.jsx(C,{size:16,className:"mr-2"}),"Learn"]})}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(Ne,{className:"w-4 h-4 text-gray-400 mx-2"}),e.jsx("span",{className:"text-gray-700 font-medium truncate max-w-xs",children:(i==null?void 0:i.title)||"Course Detail"})]})]})})})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${Be})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-transparent"})}),e.jsx("div",{className:"relative z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("div",{className:"bg-primary-yellow/20 backdrop-blur-sm rounded-full px-4 py-2 border border-primary-yellow/30",children:e.jsx("span",{className:"text-primary-yellow font-semibold",children:(i==null?void 0:i.courseLevel)===1?"Beginner":(i==null?void 0:i.courseLevel)===2?"Intermediate":(i==null?void 0:i.courseLevel)===3?"Advanced":"Beginner"})})}),e.jsx("h1",{className:"text-5xl mongro-bold font-bold mb-6 leading-tight",children:(i==null?void 0:i.title)||"Course Title"}),e.jsx("p",{className:"text-xl text-gray-200 mb-8 leading-relaxed max-w-2xl",children:(i==null?void 0:i.description)||"Kickstart your career in art. Build job-ready skills in art techniques, art history, and creative expression and learn to create beautiful artworks in just 6 months"}),e.jsxs("div",{className:"flex flex-wrap gap-6 mb-8",children:[e.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(C,{size:20,className:"text-primary-yellow mr-2"}),e.jsxs("span",{className:"font-medium",children:[(i==null?void 0:i.totalModule)||10," Modules"]})]}),e.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(ve,{size:20,className:"text-primary-yellow mr-2"}),e.jsx("span",{className:"font-medium",children:xs().formatHoursToDays(i==null?void 0:i.remainingTime)||"6 weeks"})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("span",{className:"font-semibold",children:"Your Progress"}),e.jsxs("span",{className:"text-2xl mongro-bold font-bold text-primary-yellow",children:[ne,"%"]})]}),e.jsx("div",{className:"w-full bg-white/20 rounded-full h-3 mb-2",children:e.jsx("div",{className:"bg-gradient-to-r from-primary-yellow to-secondary-yellow h-3 rounded-full transition-all duration-700 relative overflow-hidden",style:{width:`${ne}%`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),e.jsx("p",{className:"text-sm text-gray-200",children:ne===100?"Course completed! 🎉":"Keep going, you're doing great!"})]})]}),e.jsx("div",{className:"lg:justify-self-end",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl border border-white/20 p-8 shadow-2xl max-w-md",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(de,{size:24,className:"text-primary-yellow mr-3"}),e.jsx("h3",{className:"text-xl mongro-bold font-bold text-gray-800",children:"What You'll Learn"})]}),e.jsx("ul",{className:"space-y-4",children:ie.slice(0,6).map((s,d)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5 flex-shrink-0",children:"✓"}),e.jsx("span",{className:"text-gray-700 text-sm leading-relaxed",children:s})]},d))}),ie.length>6&&e.jsxs("p",{className:"text-sm text-gray-500 mt-4 text-center",children:["+",ie.length-6," more learning outcomes"]})]})})]})})})]}),e.jsx("div",{className:"w-7xl mx-auto px-4 pt-5 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-gray-200 shadow-lg mb-8",children:e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsx("button",{onClick:()=>b("course"),className:`flex-1 py-4 px-6 text-center font-medium transition-all duration-200 ${m==="course"?`${L.HIGHLIGHT_FRAME}`:"text-gray-600 hover:text-primary-yellow hover:bg-amber-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(C,{size:20}),e.jsx("span",{children:"Course Content"})]})}),e.jsx("button",{onClick:()=>b("challenges"),className:`flex-1 py-4 px-6 text-center font-medium transition-all duration-200 ${m==="challenges"?`${L.HIGHLIGHT_FRAME}`:"text-gray-600 hover:text-primary-yellow hover:bg-amber-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(F,{size:20}),e.jsx("span",{children:"Challenges"})]})}),e.jsx("button",{onClick:()=>b("leaderboard"),className:`flex-1 py-4 px-6 text-center font-medium transition-all duration-200 ${m==="leaderboard"?`${L.HIGHLIGHT_FRAME}`:"text-gray-600 hover:text-primary-yellow hover:bg-amber-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(G,{size:20}),e.jsx("span",{children:"Leaderboard"})]})}),e.jsx("button",{onClick:()=>b("reviews"),className:`flex-1 py-4 px-6 text-center font-medium transition-all duration-200 ${m==="reviews"?`${L.HIGHLIGHT_FRAME}`:"text-gray-600 hover:text-primary-yellow hover:bg-amber-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(M,{size:20}),e.jsx("span",{children:"Reviews"})]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[m==="course"&&e.jsxs("div",{className:"space-y-6",children:[(he=i==null?void 0:i.moduleCourseDetailScreenResponseDTOs)==null?void 0:he.map((s,d)=>{var z,ee;const u=Pe(s),H=r[s.moduleId];return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>q(s.moduleId),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-yellow to-secondary-yellow text-white rounded-xl px-4 py-2 font-bold shadow-lg",children:d+1}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl mongro-bold font-bold text-gray-900 mb-1",children:s.moduleTitle}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:[((z=s.subModuleCourseDetailScreenResponseDTOs)==null?void 0:z.length)||0," ","lessons"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[u,"% complete"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative w-12 h-12",children:[e.jsxs("svg",{className:"w-12 h-12 transform -rotate-90",viewBox:"0 0 36 36",children:[e.jsx("path",{className:"text-gray-300",stroke:"currentColor",strokeWidth:"3",fill:"transparent",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),e.jsx("path",{className:"text-primary-yellow",stroke:"currentColor",strokeWidth:"3",fill:"transparent",strokeDasharray:`${u}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs font-bold text-gray-700",children:[u,"%"]})})]}),H?e.jsx(Fe,{className:"w-6 h-6 text-gray-400"}):e.jsx(Ge,{className:"w-6 h-6 text-gray-400"})]})]})}),H&&e.jsx("div",{className:"border-t border-gray-100 bg-gray-50/50",children:e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:(ee=s.subModuleCourseDetailScreenResponseDTOs)==null?void 0:ee.map((E,fe)=>{var ye;return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-all duration-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-secondary-yellow text-primary-blue rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:fe+1}),e.jsxs(S,{to:`/learn/course/${l}/module/${s.moduleId}/submodule/${E.subModuleId}`,className:"font-semibold text-gray-800 hover:text-primary-yellow transition-colors group flex items-center",children:[e.jsx("span",{children:E.subModuleTitle}),e.jsx(Ne,{className:"w-4 h-4 ml-2 text-gray-400 group-hover:text-primary-yellow transition-colors"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:(ye=E.learningContentDetailScreenResponseDTOs)==null?void 0:ye.map((O,us)=>{const ce=Q(O.userLearningProgressStatus);return e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 hover:bg-white hover:shadow-sm transition-all duration-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ss,{isCompleted:De(O.userLearningProgressStatus),className:"flex-shrink-0",size:16}),$e(O.contentType),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:O.learningContentTitle}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium inline-block mt-1 ${ce.color==="green"?"bg-green-100 text-green-700":ce.color==="blue"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:ce.text})]})]})},`${s.moduleId}-${E.subModuleId}-${O.learningContentId}`)})})]},`${s.moduleId}-${E.subModuleId}-${fe}`)})})})})]},s.moduleId)}),(!(i!=null&&i.moduleCourseDetailScreenResponseDTOs)||i.moduleCourseDetailScreenResponseDTOs.length===0)&&e.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl border border-gray-200 shadow-lg",children:[e.jsx(C,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Course Modules Coming Soon!"}),e.jsx("p",{className:"text-gray-600",children:"We're preparing amazing content for you. Stay tuned!"})]})]}),m==="challenges"&&e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(F,{className:"w-8 h-8 text-amber-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Course Challenges"}),e.jsx("p",{className:"text-gray-600",children:"Test your knowledge and compete with others"})]})]}),e.jsxs("div",{className:"bg-amber-100 text-amber-800 px-4 py-2 rounded-full text-sm font-medium",children:[R.length," Challenge",R.length>1?"s":""]})]}),te?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(U,{className:"animate-spin w-8 h-8 text-amber-500 mr-3"}),e.jsx("span",{className:"text-gray-600",children:"Loading challenges..."})]}):ae?e.jsxs("div",{className:"text-center py-12 text-red-600",children:[e.jsx(F,{className:"w-16 h-16 mx-auto mb-4 text-red-400"}),e.jsx("p",{children:"Unable to load challenges"})]}):R.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(F,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No Challenges Yet"}),e.jsx("p",{className:"text-gray-600",children:"Challenges will be available soon!"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(s=>{const d=X(s),u=Z(s);return e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl border border-amber-200 p-6 hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[V(s.challengeType),e.jsx("div",{className:"bg-amber-100 text-amber-800 px-2 py-1 rounded-full text-xs font-medium",children:s.challengeType})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[d.icon,e.jsx("span",{className:`text-xs font-medium ${d.color==="green"?"text-green-600":"text-gray-500"}`,children:d.text})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ke,{size:14}),e.jsx("span",{children:B(s.durationSeconds)})]}),u!==null&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Se,{size:14}),e.jsxs("span",{className:"font-medium text-amber-600",children:["Best: ",u]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-gray-500",children:s.challengeSessions.length>0?e.jsxs("span",{children:["Played ",s.challengeSessions.length," time",s.challengeSessions.length>1?"s":""]}):e.jsx("span",{children:"Ready to play"})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>w(s.id),className:"bg-blue-500 text-white px-3 py-1 rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors flex items-center space-x-1",children:[e.jsx(Ue,{size:12}),e.jsx("span",{children:"Leaderboard"})]}),e.jsxs(S,{to:`/course/${l}/challenge/${s.id}`,className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white px-3 py-1 rounded-lg text-sm font-medium hover:from-amber-600 hover:to-orange-600 transition-all duration-200 flex items-center space-x-1",children:[e.jsx(Ie,{size:12}),e.jsx("span",{children:s.challengeSessions.length>0?"Play":"Start"})]})]})]})]},s.id)})})]})}),m==="leaderboard"&&e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{className:"w-8 h-8 text-amber-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Challenge Leaderboard"}),e.jsx("p",{className:"text-gray-600",children:"See how you rank against other players"})]})]})}),R.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Challenge"}),e.jsxs("select",{value:f||"",onChange:s=>w(s.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Choose a challenge..."}),R.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),f?re?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(U,{className:"animate-spin w-8 h-8 text-amber-500 mr-3"}),e.jsx("span",{className:"text-gray-600",children:"Loading leaderboard..."})]}):I?e.jsxs("div",{className:"text-center py-12 text-red-600",children:[e.jsx(G,{className:"w-16 h-16 mx-auto mb-4 text-red-400"}),e.jsx("p",{children:"Unable to load leaderboard"})]}):(pe=(ge=P==null?void 0:P.data)==null?void 0:ge.leaderboard)!=null&&pe.length?e.jsx("div",{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Rank"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Player"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Score"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Time"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Date"})]})}),e.jsx("tbody",{children:P.data.leaderboard.map((s,d)=>e.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gray-50 transition-colors ${s.userId===(p==null?void 0:p.id)?"bg-amber-50":""}`,children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-2xl",children:Ae(s.rank)}),e.jsx("span",{className:"font-medium text-gray-900",children:s.rank})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 items-center justify-center",children:e.jsx("img",{src:s.avatarUrl,alt:s.username,className:"w-10 h-10 rounded-full flex"})}),e.jsx("div",{children:e.jsxs("div",{className:"font-medium text-gray-900",children:[s.username,s.userId===(p==null?void 0:p.userId)&&e.jsx("span",{className:"ml-2 text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded-full",children:"You"})]})})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Se,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{className:"font-bold text-amber-600",children:s.highestScore})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-gray-700",children:B(s.timeTaken)})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600 text-sm",children:ze(s.attemptedAt)})]})})]},s.userId))})]})})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(G,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No Rankings Yet"}),e.jsx("p",{className:"text-gray-600",children:"Be the first to complete this challenge!"})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(G,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Select a Challenge"}),e.jsx("p",{className:"text-gray-600",children:"Choose a challenge to view its leaderboard"})]})]})}),m==="reviews"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("style",{children:J}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(M,{className:"w-8 h-8 text-amber-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Share Your Review"}),e.jsx("p",{className:"text-gray-600",children:"Help others by sharing your experience with this course"})]})]}),e.jsxs("form",{onSubmit:v.handleSubmit(n),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Rate this course *"}),e.jsx("div",{className:"radio",children:[5,4,3,2,1].map(s=>e.jsxs(_e.Fragment,{children:[e.jsx("input",{id:`rating-${s}`,type:"radio",name:"rating",value:s.toString(),...v.register("rating",{required:"Please select a rating",transform:{input:d=>d==null?void 0:d.toString(),output:d=>parseInt(d.target.value)}})}),e.jsx("label",{htmlFor:`rating-${s}`,title:`${s} stars`,children:e.jsx("svg",{viewBox:"0 0 576 512",height:"1em",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"})})})]},s))}),v.formState.errors.rating&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:v.formState.errors.rating.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review *"}),e.jsx("textarea",{...v.register("feedBack"),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none",placeholder:"Share your thoughts about this course..."}),v.formState.errors.feedBack&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:v.formState.errors.feedBack.message}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[((ue=$.feedBack)==null?void 0:ue.length)||0," characters"]})]}),e.jsx("button",{type:"submit",disabled:t,className:`w-full flex items-center justify-center space-x-2 py-3 px-6 ${L.HIGHLIGHT_FRAME} text-white rounded-lg font-medium transition-all duration-200 hover:shadow-lg ${t?"opacity-75 cursor-not-allowed":"hover:scale-105"}`,children:t?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"cursor-not-allowed",children:[e.jsx(U,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Submitting..."})]})}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-5 h-5"}),e.jsx("span",{children:"Submit Review"})]})})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(M,{className:"w-6 h-6 text-amber-500"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Course Reviews"})]}),((je=y==null?void 0:y.data)==null?void 0:je.length)>0&&e.jsxs("div",{className:"bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-sm font-medium",children:[y.data.length," Review",y.data.length>1?"s":""]})]}),T?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(U,{className:"animate-spin w-8 h-8 text-amber-500 mr-3"}),e.jsx("span",{className:"text-gray-600",children:"Loading reviews..."})]}):(be=y==null?void 0:y.data)!=null&&be.length?e.jsx("div",{className:"space-y-6",children:y.data.map(s=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:e.jsx("img",{src:s.avatarUrl||"https://www.svgrepo.com/show/452030/avatar-default.svg",alt:s.fullName,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:[s.fullName,s.userId===(p==null?void 0:p.id)&&e.jsx("span",{className:"ml-2 text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded-full",children:"You"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:K(s.createdAt)})]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:N(s.rating)})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.feedback})]},s.courseReviewId))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(M,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No Reviews Yet"}),e.jsx("p",{className:"text-gray-600",children:"Be the first to review this course!"})]})]})})]})]})]})}function gs({courseId:x,isAuthenticated:l}){var V,B,J;const g=Ve(),{user:c}=xe(),{useGetCoursePublic:o}=W(),{data:a,isLoading:r,error:h}=o(x),{enrollUser:m,isLoading:b,isSuccess:f,error:w}=Je(),{onSubmit:k,isLoading:_}=rs(),{getReviewedCourse:Y}=W(),{data:j,isLoading:te}=Y(x),ae=()=>{const n=a==null?void 0:a.data;return oe(n,["Master fundamental concepts and techniques","Develop critical thinking skills","Understand key principles and applications","Create practical projects","Build comprehensive knowledge","Apply learning to real-world scenarios"])},P=()=>{const n=a==null?void 0:a.data,N=oe(n,[]);return N.length>0?N.slice(0,3).join(", "):(n==null?void 0:n.description)||"Master comprehensive knowledge and practical skills in this subject area"};se.useEffect(()=>{if(f){const n=setTimeout(()=>{window.location.reload()},2e3);return()=>clearTimeout(n)}},[f]);const re=async()=>{if(!l||!(c!=null&&c.id)){g("/signin");return}if((t==null?void 0:t.price)===0)try{await m(c.userId,x)}catch(n){console.error("Enrollment failed:",n)}else try{const n={buyerName:(c==null?void 0:c.name)||(c==null?void 0:c.firstName)||"Student",buyerEmail:(c==null?void 0:c.email)||"",buyerPhone:(c==null?void 0:c.phone)||"0354545454",description:"thanh toan khoa hoc",items:[{courseId:parseInt(x),name:(t==null?void 0:t.title)||"Course",quantity:1,price:(t==null?void 0:t.price)||0}]};await k(n)}catch(n){console.error("Payment creation failed:",n)}},I=n=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(n),p=()=>T?l?(t==null?void 0:t.price)===0?{text:b?"Enrolling...":f?"Enrolled! ✓":"Start Learning",disabled:b,showPrice:!1}:{text:_?"Creating Payment...":`Purchase for ${I(t.price)}`,disabled:_,showPrice:!0}:{text:(t==null?void 0:t.price)===0?"Sign In to Start":`Purchase for ${I(t.price)}`,disabled:!1,showPrice:(t==null?void 0:t.price)>0}:{text:"Content Coming Soon",disabled:!0,showPrice:!1},v=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),le=n=>Array.from({length:5},(N,$)=>e.jsx("span",{className:`text-lg ${$<n?"text-yellow-400":"text-gray-300"}`,children:"★"},$));if(r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md mx-4",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary-yellow border-t-transparent mx-auto"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(Te,{className:"h-6 w-6 text-primary-yellow"})})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Loading Course Preview"}),e.jsx("p",{className:"text-gray-600 mb-4",children:l?"Preparing your course preview...":"Loading course information..."}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse delay-75"}),e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse delay-150"})]}),l&&c&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Welcome, ",c.name||c.email,"!"]})]})}),!l&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Viewing as guest"})]})})]})});if(h)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md mx-4",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-6",children:"🚫"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Course Not Available"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't load this course preview. It might be temporarily unavailable or you don't have access to it."}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 mb-6",children:e.jsxs("p",{className:"text-sm text-red-600",children:["Error: ",h.message||"Failed to load course data"]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition-colors font-medium",children:"Try Again"}),e.jsx(S,{to:"/learn",className:"bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Browse Other Courses"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-500",children:"If this problem persists, please contact support"})})]})});const t=a==null?void 0:a.data,A=ae(),y=n=>{switch(n){case 0:return"Beginner";case 1:return"Intermediate";case 2:return"Advanced";default:return"Unknown"}},T=(t==null?void 0:t.moduleCourseDetailScreenResponseDTOs)&&t.moduleCourseDetailScreenResponseDTOs.length>0,q=p();return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("span",{className:"bg-primary-yellow text-white px-3 py-1 rounded-full text-sm font-medium",children:y(t==null?void 0:t.courseLevel)}),t!=null&&t.isPremium?e.jsx("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:"Premium"}):e.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:"Standard"}),(t==null?void 0:t.price)===0?e.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"Free"}):e.jsx("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:I(t.price)})]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t==null?void 0:t.title}),e.jsx("p",{className:"text-lg text-gray-600 mb-6",children:t==null?void 0:t.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"w-5 h-5 text-primary-yellow"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(t==null?void 0:t.totalModule)||0," Modules"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-5 h-5 text-primary-yellow"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(t==null?void 0:t.courseCompletionPercentage)||0,"% Complete"]})]})]}),!T&&e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Course content is being prepared and will be available soon."})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:re,disabled:q.disabled,className:`flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all ${(t==null?void 0:t.price)>0&&T?`${L.HIGHLIGHT_FRAME} text-white shadow-lg`:L.HIGHLIGHT_FRAME} disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(Ie,{className:"w-5 h-5"}),e.jsx("span",{children:q.text})]}),!l&&e.jsxs(S,{to:"/learn",className:"flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium border-2 border-gray-300 text-gray-700 hover:border-primary-yellow hover:text-primary-yellow transition-all",children:[e.jsx(C,{className:"w-5 h-5"}),e.jsx("span",{children:"Browse All Courses"})]})]}),w&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:"Failed to enroll. Please try again."})}),f&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-green-600 border-t-transparent"}),e.jsx("p",{className:"text-sm text-green-600",children:"✅ Successfully enrolled! Refreshing page..."})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:(t==null?void 0:t.coverImageUrl)||Ke.courses.asia.bhimbetkaRockArt,alt:t==null?void 0:t.title,className:"w-full h-80 object-cover rounded-lg shadow-lg"}),(t==null?void 0:t.price)>0&&e.jsx("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:I(t.price)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Course Price"})]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:e.jsx(de,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Course Goals"})]}),e.jsx("p",{className:"text-gray-600",children:P()})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:e.jsx(Xe,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Certification"})]}),e.jsxs("p",{className:"text-gray-600",children:["Earn a certificate upon successful completion of all"," ",t==null?void 0:t.totalModule," modules"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:e.jsx(C,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Course Level"})]}),e.jsxs("p",{className:"text-gray-600",children:[y(t==null?void 0:t.courseLevel)," level course designed for comprehensive learning"]})]})]}),A&&A.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"What You'll Learn"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.map((n,N)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-1 mt-1",children:e.jsx(D,{className:"w-4 h-4 text-green-600"})}),e.jsx("span",{className:"text-gray-700",children:n})]},N))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Complete Course Content"}),T?e.jsx("div",{className:"space-y-4",children:t.moduleCourseDetailScreenResponseDTOs.map((n,N)=>{var $,K;return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 p-4 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-primary-yellow text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-medium",children:N+1}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:n.moduleTitle}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Module ",N+1," of ",t.totalModule]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[(($=n.subModuleCourseDetailScreenResponseDTOs)==null?void 0:$.length)||0," ","lessons"]})})]})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:(K=n.subModuleCourseDetailScreenResponseDTOs)==null?void 0:K.map((X,Z)=>{var Q;return e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-gray-500 w-6",children:[N+1,".",Z+1]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:X.subModuleTitle}),e.jsxs("p",{className:"text-xs text-gray-600",children:[((Q=X.learningContentDetailScreenResponseDTOs)==null?void 0:Q.length)||0," ","learning contents"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:!l&&e.jsx(ds,{className:"w-4 h-4 text-gray-400"})})]},`${n.moduleId}-${Z}`)})})})]},n.moduleId)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Le,{size:40,className:"text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Course Content Not Available"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"The course modules and lessons are currently being prepared. Please check back soon for the complete learning experience."}),e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-orange-100 rounded-full text-sm text-orange-700",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full mr-2 animate-pulse"}),"Content Coming Soon"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Course Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{className:"text-gray-700",children:[t==null?void 0:t.totalModule," comprehensive modules"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{className:"text-gray-700",children:[y(t==null?void 0:t.courseLevel)," level content"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Interactive learning experience"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Progress tracking and analytics"})]}),(t==null?void 0:t.isPremium)&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Premium course content"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Certificate of completion"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(M,{className:"w-6 h-6 text-amber-500"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Course Reviews"})]}),((V=j==null?void 0:j.data)==null?void 0:V.length)>0&&e.jsxs("div",{className:"bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-sm font-medium",children:[j.data.length," Review",j.data.length>1?"s":""]})]}),te?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(U,{className:"animate-spin w-8 h-8 text-amber-500 mr-3"}),e.jsx("span",{className:"text-gray-600",children:"Loading reviews..."})]}):(B=j==null?void 0:j.data)!=null&&B.length?e.jsx("div",{className:"space-y-6",children:j.data.map(n=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:e.jsx("img",{src:n.avatarUrl||"https://www.svgrepo.com/show/452030/avatar-default.svg",alt:n.fullName,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:n.fullName}),e.jsx("p",{className:"text-sm text-gray-500",children:v(n.createdAt)})]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:le(n.rating)})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.feedback})]},n.courseReviewId))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(M,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No Reviews Yet"}),e.jsx("p",{className:"text-gray-600",children:l?"Be the first to review this course!":"Sign in to see and write reviews for this course."})]}),!l&&((J=j==null?void 0:j.data)==null?void 0:J.length)>0&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Want to share your experience?"}),e.jsxs(S,{to:"/signin",className:`inline-flex items-center space-x-2 px-6 py-3 ${L.HIGHLIGHT_FRAME} text-white rounded-lg font-medium transition-all duration-200 hover:shadow-lg`,children:[e.jsx(M,{className:"w-5 h-5"}),e.jsx("span",{children:"Sign In to Write a Review"})]})]})})]}),!l&&e.jsxs("div",{className:"bg-gradient-to-r from-primary-yellow to-orange-400 rounded-lg p-8 text-white text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Start Learning?"}),e.jsx("p",{className:"text-lg mb-6 opacity-90",children:T?`Join thousands of students and explore ${t==null?void 0:t.title}!`:`Be the first to know when ${t==null?void 0:t.title} content becomes available!`}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:T?e.jsxs(e.Fragment,{children:[e.jsx(S,{to:"/signin",className:`inline-block ${L.HIGHLIGHT_FRAME} px-8 py-3 rounded-lg font-medium  transition-colors`,children:(t==null?void 0:t.price)===0?"Get Started":`Purchase for ${I(t.price)}`}),e.jsx(S,{to:"/learn",className:"inline-block border-2 border-white text-white px-8 py-3 rounded-lg font-medium hover:bg-white hover:text-primary-yellow transition-colors",children:"Browse All Courses"})]}):e.jsx(S,{to:"/learn",className:"inline-block bg-white text-primary-yellow px-8 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Browse Available Courses"})})]})]})}function ps(){var m;const{courseId:x}=Ze(),{user:l,isAuthenticated:g}=xe(),{getUserLearningProgress:c}=W(),{data:o,isLoading:a,error:r}=c(l==null?void 0:l.userId,x);if(console.log("User ID:",l==null?void 0:l.userId),console.log("Learning Progress Data:",o),a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center bg-white p-8 rounded-2xl shadow-xl max-w-md mx-4",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary-yellow border-t-transparent mx-auto"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(C,{className:"h-6 w-6 text-primary-yellow"})})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Loading Course Information"}),e.jsx("p",{className:"text-gray-600 mb-4",children:g?"Checking your enrollment status...":"Preparing course details..."}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse delay-75"}),e.jsx("div",{className:"w-2 h-2 bg-primary-yellow rounded-full animate-pulse delay-150"})]}),g&&l&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Welcome back, ",l.name||l.email,"!"]})]})})]})});if(r)return console.error("Error fetching learning progress:",r),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md mx-4",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-6",children:"⚠️"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Unable to Load Course Data"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"There was an issue checking your enrollment status. We'll show you the course as a guest."}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-sm text-blue-700",children:"Redirecting to guest view..."})})]})});const h=((m=o==null?void 0:o.data)==null?void 0:m.learningStatus)===1;return g&&h?e.jsx(hs,{courseId:x,learningProgress:o==null?void 0:o.data}):e.jsx(gs,{courseId:x,isAuthenticated:g})}function Ls(){return e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"max-w-7xl mx-auto flex flex-col gap-6",children:e.jsx(ps,{})})})}export{Ls as default};
