import{r as d,W as w,j as e,g as I,X as C,L as P}from"./index-CkoD5x-a.js";function A(){const[i,p]=d.useState(""),[a,m]=d.useState("all"),[h,v]=d.useState({}),{getAllCoursesQuery:f}=w(),{data:c,isLoading:y,error:j}=f,x=(c==null?void 0:c.data)||[],g=x.filter(t=>a==="all"||t.regionId.toString()===a),N=t=>{p(t.target.value)},u=(t,l)=>{v(r=>(r[t]||[]).includes(l)?{...r,[t]:[]}:{...r,[t]:[l]})};return y?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"text-lg",children:"Loading courses..."})})}):j?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"text-lg text-red-600",children:"Error loading courses"})})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-center mb-8 equila-bold",children:"COURSES"}),e.jsxs("div",{className:"max-w-md mx-auto mb-10 relative",children:[e.jsx("input",{type:"text",placeholder:"Search courses...",className:"w-full p-2 pl-4 pr-10 rounded-md bg-gray-100 border-none focus:ring-2 focus:ring-primary-yellow",value:i,onChange:N}),e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:e.jsx(I,{size:20})})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[e.jsx("button",{className:`px-4 py-2 rounded-md ${a==="all"?"bg-primary-yellow text-white":"bg-gray-100"}`,onClick:()=>m("all"),children:"All Regions"}),x.map(t=>e.jsx("button",{className:`px-4 py-2 rounded-md ${a===t.regionId.toString()?"bg-primary-yellow text-white":"bg-gray-100"}`,onClick:()=>m(t.regionId.toString()),children:t.regionName},t.regionId))]}),e.jsxs("div",{className:"space-y-16",children:[g.map(t=>{const l=i?t.courses.filter(s=>s.title.toLowerCase().includes(i.toLowerCase())):t.courses,r=h[t.regionId]||[],o=r.length>0?l.filter(s=>r.includes(s.historicalPeriodId)):l;return i&&o.length===0?null:e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6",children:[t.regionName," Art History"]}),t.historicalPeriodDTOs.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:t.historicalPeriodDTOs.map(s=>{const n=(h[t.regionId]||[]).includes(s.historicalPeriodId);return e.jsxs("span",{className:`px-3 py-1 text-sm rounded-full cursor-pointer transition-all duration-300 flex items-center gap-1 ${n?"bg-primary-yellow text-white border-2 border-yellow-400":"bg-gray-100 hover:bg-gray-200"}`,onClick:()=>u(t.regionId,s.historicalPeriodId),children:[e.jsx("span",{children:s.historicalPeriodName}),n&&e.jsx(C,{size:14,className:"ml-1 hover:bg-yellow-600 rounded-full p-0.5",onClick:b=>{b.stopPropagation(),u(t.regionId,s.historicalPeriodId)}})]},s.historicalPeriodId)})}),o.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-6",children:o.map(s=>e.jsx(P,{to:`/learn/course/${s.courseId}`,className:"group relative block",children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md transition-all duration-300 transform origin-center group-hover:scale-110 group-hover:shadow-2xl group-hover:z-50 relative",children:[e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx("img",{loading:"lazy",src:s.thumbnailImageUrl||s.coverImageUrl||`https://via.placeholder.com/300x200?text=${encodeURIComponent(s.title)}`,alt:s.title,className:"w-full h-full object-cover transition-transform duration-300",onError:n=>{n.target.src=`https://via.placeholder.com/300x200?text=${encodeURIComponent(s.title)}`}})}),e.jsxs("div",{className:"py-6 px-4 bg-[#f8e7ce] relative",children:[e.jsx("h3",{className:"font-medium text-lg transition-all duration-300 truncate group-hover:opacity-0",children:s.title}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2 group-hover:opacity-0",children:s.description}),e.jsxs("div",{className:"absolute inset-0 bg-[#f8e7ce] p-4 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 rounded-b-lg flex flex-col justify-start",children:[e.jsx("h3",{className:"font-medium text-lg mb-2 whitespace-normal overflow-visible text-wrap",children:s.title}),s.description&&e.jsx("p",{className:"text-sm text-gray-600",children:s.description})]})]})]})},s.courseId))}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:r.length>0?"No courses available for the selected period in this region.":i?`No courses found matching "${i}" in this region.`:"No courses available in this region yet."})]},t.regionId)}),g.length===0&&e.jsx("div",{className:"text-center py-16",children:e.jsx("div",{className:"text-gray-500 text-lg",children:"No courses found matching your criteria."})})]})]})}export{A as default};
