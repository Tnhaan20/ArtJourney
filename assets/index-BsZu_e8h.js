import{r,j as e,L as w,T as v,l as A}from"./index-LkxAMlZb.js";import{L as C}from"./LazyImg-4DrCpMtF.js";function k({paymentType:t="monthly",onPaymentMethodSelect:s}){const[c,i]=r.useState("");r.useEffect(()=>{i("")},[t]);const d=n=>{console.log("Selected payment method:",n),i(n),s&&s(n)},m=[{id:"momo",name:"MoMo",logo:"/src/assets/icons/momo.png"},{id:"zalopay",name:"Zalo PAY",logo:"/src/assets/icons/zalopay.png"},{id:"vnpay",name:"VNPAY",logo:"/src/assets/icons/vnpay.png"}];return e.jsx("div",{className:"payment-form-container",children:e.jsx("form",{children:e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-[#999999] mb-3",children:"Complete your purchase by providing your payment details"}),e.jsx("div",{className:"space-y-4",children:m.map(n=>e.jsxs("div",{className:`payment-method border rounded-md p-4 flex items-center cursor-pointer transition-all duration-200 ${c===n.id?"border-[#dda853] bg-[#dda853] text-white":"border-gray-200 hover:border-gray-300"}`,onClick:()=>d(n.id),children:[e.jsx(C,{loading:"lazy",src:n.logo,alt:n.name,className:"h-6 mr-3"}),e.jsx("span",{className:`text-sm font-medium ${c===n.id?"text-white":"text-gray-800"}`,children:n.name})]},n.id))})]})})})}const P={monthly:{name:"Plus Monthly",description:"Complete multiple courses and get certified in a short time",price:99e3,currency:"VND",discount:17.5},annual:{name:"Plus Annual",description:"Combine flexibility and savings with long-term learning goals",price:12e5,currency:"VND",discount:2},"per-course":{name:"Course Subscription",description:"Learn a single course and earn a certificate",price:4e4,currency:"VND",discount:2}};function S({paymentType:t="monthly",paymentMethod:s="",onPayClick:c}){const[i,d]=r.useState(""),[m,n]=r.useState(""),[a,p]=r.useState(!1),[x,u]=r.useState(0),o=P[t],h=a?o.price*x/100:0,g=o.price-h,y=l=>new Intl.NumberFormat("vi-VN").format(l),b=()=>{p(!1),n(""),u(0),console.log("Removing coupon")},f=()=>{if(i.trim()!==""){p(!0),n(i);const l=Math.floor(Math.random()*61)+20;u(l),console.log("Applying coupon:",i,"with discount:",l),d("")}},j=()=>{if(console.log("PaymentSummary: Received payment method:",s),!s){alert("Please select a payment method before proceeding with payment.");return}const l={paymentType:t,paymentMethod:s,subscriptionName:o.name,originalPrice:o.price,currency:o.currency,appliedCoupon:a?m:null,discountPercentage:a?x:0,discountAmount:h,totalAmount:g,timestamp:new Date().toISOString()};console.log("Payment data ready to be sent:",l),c&&c(l)},N=()=>{switch(t){case"monthly":return"Monthly Subscription";case"annual":return"Annual Subscription";case"per-course":return"Course Subscription";default:return"Subscription"}};return e.jsxs("div",{className:"payment-summary-container w-full md:max-w-[669px] flex flex-col items-center gap-[19px] py-5 md:py-[34px] px-4 md:px-[34px] relative shadow-md",children:[e.jsx("div",{className:"absolute inset-0 bg-[#F3E6D1] border border-[#ECD2AA] rounded-lg"}),e.jsxs("div",{className:"z-10 flex flex-col items-center w-full gap-[15px] md:gap-[19px]",children:[e.jsxs("div",{className:"w-full text-center",children:[e.jsx("h3",{className:"text-[22px] md:text-[28px] font-bold text-black opacity-75 mb-2",children:o.name}),e.jsx("p",{className:"text-[16px] md:text-[18px] leading-[20px] md:leading-[22px] text-[#8F8E8E] mb-3 w-full",children:o.description})]}),e.jsxs("div",{className:"w-full group-8881",children:[e.jsx("div",{className:"border-b border-[#BEBABA] py-4 md:py-6 px-3 md:px-[34px]",children:e.jsxs("div",{className:"flex flex-col space-y-4 md:space-y-5 w-full",children:[e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx("span",{className:"text-[20px] md:text-[24px] leading-[24px] md:leading-[29px] text-black font-normal",children:N()}),e.jsxs("span",{className:"text-[20px] md:text-[24px] leading-[24px] md:leading-[29px] text-black font-medium",children:[y(o.price)," ",o.currency]})]}),a&&e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-[10px]",children:e.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20","md:width":"24","md:height":"24",fill:"#374957",children:e.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})})}),e.jsx("span",{className:"text-[20px] md:text-[24px] leading-[24px] md:leading-[29px] text-black font-medium",children:"Promotion"})]}),e.jsxs("span",{className:"text-[20px] md:text-[24px] leading-[24px] md:leading-[29px] text-black font-medium",children:["-",x,"%"]})]})]})}),e.jsxs("div",{className:"flex justify-between items-center py-3 md:py-4 px-3 md:px-[34px] w-full",children:[e.jsx("span",{className:"text-[20px] md:text-[24px] leading-[24px] md:leading-[29px] text-black font-semibold",children:"Total:"}),e.jsxs("span",{className:"text-[20px] md:text-[24px] leading-[24px] md:leading-[29px] text-black font-semibold",children:[y(g)," ",o.currency]})]})]}),a&&e.jsxs("div",{className:"w-full border border-dashed border-[#8F8E8E] py-2 px-4 flex justify-between items-center mb-2 relative",children:[e.jsxs("div",{className:"text-left",children:[e.jsxs("p",{className:"text-black text-[16px] md:text-[18px]",children:["Applied ",e.jsx("span",{className:"font-semibold",children:m})]}),e.jsx("p",{className:"text-[#8F8E8E] text-[14px] md:text-[16px]",children:"Counpon Art Journey"})]}),e.jsx("button",{className:"absolute right-2 top-2 text-lg",onClick:b,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M12 4L4 12",stroke:"#374957",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 4L12 12",stroke:"#374957",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),e.jsxs("div",{className:"flex flex-row items-center w-full mb-3 gap-2",children:[e.jsx("div",{className:"border border-[#BEBABA] rounded-lg px-3 py-2 flex-grow h-[45px] md:h-[50px] flex items-center",children:e.jsx("input",{type:"text",placeholder:"Enter discount code",className:"w-full bg-transparent text-center text-[#8F8E8E] text-[14px] md:text-[16px] outline-none",value:i,onChange:l=>d(l.target.value),onKeyDown:l=>{l.key==="Enter"&&(l.preventDefault(),f())}})}),e.jsx(w,{to:"/",onClick:l=>{l.preventDefault(),f()},className:`inline-block px-4 md:px-6 py-2 md:py-3 text-sm md:text-lg font-semibold ${v.HIGHLIGHT_FRAME}`,children:"Apply"})]}),e.jsx("button",{className:"mt-2 w-[50%] md:w-[40%] bg-[#ECD2AA] text-[#5F5E5E] font-bold text-[18px] md:text-[20px] py-3 rounded-[6px] flex items-center justify-center transition-colors duration-300 ease-in-out hover:bg-[#DDA853] hover:text-white cursor-pointer",onClick:j,children:"PAY NOW"})]})]})}const E={monthly:{title:"Monthly Subscription",description:"Access to all courses with monthly billing",details:"Complete multiple courses and get certified in a short time",lessons:"100+ lessons",duration:"Unlimited access",image:"/path/to/subscription-image.jpg"},annual:{title:"Annual Subscription",description:"Our best value plan with yearly access",details:"Save 25% compared to monthly billing with annual payment",lessons:"100+ lessons",duration:"Unlimited access",image:"/path/to/subscription-image.jpg"},"per-course":{title:"European Art History",description:"Full course with lifetime access",details:"Comprehensive course covering European art from prehistoric to modern",lessons:"24 lessons",duration:"12 hours total",image:"/path/to/europe-course.jpg"}};function M({paymentType:t="monthly"}){const s=E[t];return e.jsxs("div",{className:"selected-course-container bg-white p-6 rounded-lg border border-gray-200 shadow-sm mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Selected Course"}),e.jsxs("div",{className:"course-content flex flex-col md:flex-row items-start gap-6",children:[e.jsx("div",{className:"course-image-container w-full md:w-1/3 mb-4 md:mb-0",children:e.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"w-full h-full bg-gray-300 flex items-center justify-center text-gray-500",children:"Course Image"})})}),e.jsxs("div",{className:"course-details w-full md:w-2/3",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s.description}),e.jsx("p",{className:"text-sm text-gray-700 mb-4",children:s.details}),e.jsxs("div",{className:"course-meta-info grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"lesson-count",children:[e.jsx("span",{className:"block text-xs text-gray-500",children:"Lessons"}),e.jsx("span",{className:"block text-sm font-medium text-gray-800",children:s.lessons})]}),e.jsxs("div",{className:"duration",children:[e.jsx("span",{className:"block text-xs text-gray-500",children:"Duration"}),e.jsx("span",{className:"block text-sm font-medium text-gray-800",children:s.duration})]})]}),(t==="monthly"||t==="annual")&&e.jsx("div",{className:"subscription-info mt-4 p-3 bg-blue-50 border border-blue-100 rounded-md",children:e.jsx("p",{className:"text-sm text-blue-700",children:t==="monthly"?"Access all courses with this subscription. Cancel anytime.":"Save 25% with annual billing. Full access to all courses."})})]})]})]})}function F(){const{paymentType:t}=A(),[s,c]=r.useState(t||"monthly"),[i,d]=r.useState("");r.useEffect(()=>{t&&t!==s&&c(t)},[t,s]);const m=a=>{console.log("Parent received payment method:",a),d(a)},n=a=>{console.log("Payment initiated with data:",a),alert(`Payment processed successfully!
Payment Method: ${i}
Amount: ${(a==null?void 0:a.totalAmount)||"N/A"}`)};return e.jsx("div",{className:"bg-white w-full min-h-screen",children:e.jsxs("div",{className:"payment-page-container max-w-7xl mx-auto py-4 sm:py-8 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"payment-details-main-block mb-8 sm:mb-12",children:[e.jsx("div",{className:"mt-6 sm:mt-10 mb-6 sm:mb-8",children:e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2",children:"Payment Details"})}),e.jsxs("div",{className:"payment-page-wrapper flex flex-col md:flex-row md:justify-between gap-6 md:gap-8",children:[e.jsx("div",{className:"payment-form-section w-full md:w-[45%] order-2 md:order-1",children:e.jsx(k,{paymentType:s,onPaymentMethodSelect:m})}),e.jsx("div",{className:"payment-summary-section w-full md:w-[50%] order-1 md:order-2",children:e.jsx(S,{paymentType:s,paymentMethod:i,onPayClick:n})})]})]}),e.jsx("div",{className:"selected-course-section",children:e.jsx(M,{paymentType:s})})]})})}export{F as default};
